(window.webpackJsonp=window.webpackJsonp||[]).push([[129],{336:function(t,s,a){"use strict";a.r(s);var n=a(2),e=Object(n.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("h1",{attrs:{id:"位置匹配攻略"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#位置匹配攻略"}},[t._v("#")]),t._v(" 位置匹配攻略")]),t._v(" "),a("p",[t._v("正则表达式是匹配模式，要么匹配字符，要么匹配位置。请记住这句话。")]),t._v(" "),a("p",[t._v("然而大部分人学习正则时，对于匹配位置的重视程度没有那么高。")]),t._v(" "),a("h2",{attrs:{id:"什么是位置呢？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#什么是位置呢？"}},[t._v("#")]),t._v(" 什么是位置呢？")]),t._v(" "),a("p",[t._v("位置（锚）是相邻字符之间的位置。如下，下图中箭头所指的地方：")]),t._v(" "),a("p",[a("img",{attrs:{src:"https://raw.githubusercontent.com/yuhongjing/img-folder/master/img/20191216214630.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"如何匹配位置呢？"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#如何匹配位置呢？"}},[t._v("#")]),t._v(" 如何匹配位置呢？")]),t._v(" "),a("p",[t._v("在ES5中，共有6个锚：")]),t._v(" "),a("p",[a("code",[t._v("^、$、\\b、\\B、(?=)、(?!)")])]),t._v(" "),a("h3",{attrs:{id:"和"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#和"}},[t._v("#")]),t._v(" ^和$")]),t._v(" "),a("p",[a("code",[t._v("^")]),t._v("(脱字符)匹配开头，在多行匹配中匹配行开头。")]),t._v(" "),a("p",[a("code",[t._v("$")]),t._v("(美元符号)匹配结尾，在多行匹配中匹配行结尾。")]),t._v(" "),a("p",[t._v('比如我们把字符串的开头和结尾用"#"替换('),a("strong",[t._v("位置可以替换成字符的！")]),t._v(")")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"hello"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^|$/g")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// => "#hello#"')]),t._v("\n")])])]),a("p",[t._v("多行匹配模式(即有修饰符"),a("code",[t._v("m")]),t._v(")时，二者是行的概念，这一点需要我们注意：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"I\\nlove\\njavascript"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/^|$/gm")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/*\n#I#\n#love#\n#javascript#\n*/")]),t._v("\n")])])]),a("h3",{attrs:{id:"b和-b"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#b和-b"}},[t._v("#")]),t._v(" \\b和\\B")]),t._v(" "),a("p",[a("code",[t._v("\\b")]),t._v("是单词边界，具体就是"),a("code",[t._v("\\w")]),t._v("与"),a("code",[t._v("\\W")]),t._v("之间的位置，也包括"),a("code",[t._v("\\w")]),t._v("与"),a("code",[t._v("^")]),t._v("之间的位置，和"),a("code",[t._v("\\w")]),t._v("与"),a("code",[t._v("$")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v('比如考察文件名"[JS] Lesson_01.mp4"中的'),a("code",[t._v("\\b")]),t._v("，如下：")]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[JS] Lesson_01.mp4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\b/g")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// => "[#JS#] #Lesson_01#.#mp4#"')]),t._v("\n")])])]),a("p",[t._v("为什么是这样呢？这需要仔细看看。")]),t._v(" "),a("p",[t._v("首先，我们知道，"),a("code",[t._v("\\w")]),t._v("是字符组"),a("code",[t._v("[0-9a-zA-Z_]")]),t._v("的简写形式，即"),a("code",[t._v("\\w")]),t._v("是字母数字或者下划线的中任何一个字符。而"),a("code",[t._v("\\W")]),t._v("是排除字符组"),a("code",[t._v("[^0-9a-zA-Z_]")]),t._v("的简写形式，即"),a("code",[t._v("\\W")]),t._v("是"),a("code",[t._v("\\w")]),t._v("以外的任何一个字符。")]),t._v(" "),a("p",[t._v('此时我们可以看看"[#JS#] #Lesson_01#.#mp4#"中的每一个井号，是怎么来的。')]),t._v(" "),a("p",[t._v('第1个，两边字符是"["与"J"，是'),a("code",[t._v("\\W")]),t._v("与"),a("code",[t._v("\\w")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v('第2个，两边字符是"S"与"]"，是'),a("code",[t._v("\\w")]),t._v("与"),a("code",[t._v("\\W")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v('第3个，两边字符是空格与"L"，是'),a("code",[t._v("\\W")]),t._v("与"),a("code",[t._v("\\w")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v('第4个，两边字符是"1"与"."，是'),a("code",[t._v("\\w")]),t._v("与"),a("code",[t._v("\\W")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v('第5个，两边字符是"."与"m"，是'),a("code",[t._v("\\W")]),t._v("与"),a("code",[t._v("\\w")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v('第6个，位于结尾，前面的字符"4"是'),a("code",[t._v("\\w")]),t._v("，即"),a("code",[t._v("\\W")]),t._v("与"),a("code",[t._v("$")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v("知道了"),a("code",[t._v("\\b")]),t._v("的概念后，那么"),a("code",[t._v("\\B")]),t._v("也就相对好理解了。")]),t._v(" "),a("p",[a("code",[t._v("\\B")]),t._v("就是"),a("code",[t._v("\\b")]),t._v("的反面的意思，非单词边界。例如在字符串中所有的位置中，扣掉"),a("code",[t._v("\\b")]),t._v("，剩下的都是"),a("code",[t._v("\\B")]),t._v("的。")]),t._v(" "),a("p",[t._v("具体来说就是"),a("code",[t._v("\\w")]),t._v("与"),a("code",[t._v("\\w")]),t._v("、"),a("code",[t._v("\\W")]),t._v("与"),a("code",[t._v("\\W")]),t._v("、"),a("code",[t._v("^")]),t._v("与"),a("code",[t._v("\\W")]),t._v("、"),a("code",[t._v("\\W")]),t._v("与"),a("code",[t._v("$")]),t._v("之间的位置。")]),t._v(" "),a("p",[t._v("例如上面的例子，把所有的"),a("code",[t._v("\\B")]),t._v('替换成"#"：')]),t._v(" "),a("div",{staticClass:"language-js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-js"}},[a("code",[a("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("const")]),t._v(" result "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"[JS] Lesson_01.mp4"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/\\B/g")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'#'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nconsole"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("log")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("result"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v('// => "#[J#S]# L#e#s#s#o#n#_#0#1.m#p#4"')]),t._v("\n")])])]),a("h3",{attrs:{id:"和-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#和-2"}},[t._v("#")]),t._v(" (?=)和(?!)")])])}),[],!1,null,null,null);s.default=e.exports}}]);