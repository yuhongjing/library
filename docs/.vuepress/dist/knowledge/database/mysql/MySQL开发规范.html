<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>MySQL开发规范 | 余鸿靖的手册小站</title>
    <meta name="description" content="小站目前有242篇文章共277885字，继续努力">
    <link rel="icon" href="/library/logo.png">
  <link rel="manifest" href="/library/manifest.json">
  <meta name="theme-color" content="#3eaf7c">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <link rel="apple-touch-icon" href="/library/icons/apple-touch-icon-152x152.png">
  <link rel="mask-icon" href="/library/icons/safari-pinned-tab.svg" color="#3eaf7c">
  <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
  <meta name="msapplication-TileColor" content="#000000">
    
    <link rel="preload" href="/library/assets/css/0.styles.5463484d.css" as="style"><link rel="preload" href="/library/assets/js/app.e62b82f9.js" as="script"><link rel="preload" href="/library/assets/js/2.a94a0ffb.js" as="script"><link rel="preload" href="/library/assets/js/81.96e1a036.js" as="script"><link rel="preload" href="/library/assets/js/3.a024fd7b.js" as="script"><link rel="prefetch" href="/library/assets/js/10.a862e414.js"><link rel="prefetch" href="/library/assets/js/100.5be996f5.js"><link rel="prefetch" href="/library/assets/js/101.a62d41f9.js"><link rel="prefetch" href="/library/assets/js/102.efe87b79.js"><link rel="prefetch" href="/library/assets/js/103.88199584.js"><link rel="prefetch" href="/library/assets/js/104.3458dc3a.js"><link rel="prefetch" href="/library/assets/js/105.8282330e.js"><link rel="prefetch" href="/library/assets/js/106.c9ade00d.js"><link rel="prefetch" href="/library/assets/js/107.ffe48451.js"><link rel="prefetch" href="/library/assets/js/108.e90d2739.js"><link rel="prefetch" href="/library/assets/js/109.cca4b7df.js"><link rel="prefetch" href="/library/assets/js/11.5b22fe08.js"><link rel="prefetch" href="/library/assets/js/110.5f53c08c.js"><link rel="prefetch" href="/library/assets/js/111.eec807f8.js"><link rel="prefetch" href="/library/assets/js/112.55944f11.js"><link rel="prefetch" href="/library/assets/js/113.32d67220.js"><link rel="prefetch" href="/library/assets/js/114.0c7e3249.js"><link rel="prefetch" href="/library/assets/js/115.9070a184.js"><link rel="prefetch" href="/library/assets/js/116.6ae53f4f.js"><link rel="prefetch" href="/library/assets/js/117.f19bc4de.js"><link rel="prefetch" href="/library/assets/js/118.5f542ea3.js"><link rel="prefetch" href="/library/assets/js/119.cac0adb4.js"><link rel="prefetch" href="/library/assets/js/12.5a176ce8.js"><link rel="prefetch" href="/library/assets/js/120.0c97156d.js"><link rel="prefetch" href="/library/assets/js/121.48f08d8f.js"><link rel="prefetch" href="/library/assets/js/122.d1aea36c.js"><link rel="prefetch" href="/library/assets/js/123.9e4d742b.js"><link rel="prefetch" href="/library/assets/js/124.02a665ea.js"><link rel="prefetch" href="/library/assets/js/125.ba27bb48.js"><link rel="prefetch" href="/library/assets/js/126.34f39989.js"><link rel="prefetch" href="/library/assets/js/127.1488f920.js"><link rel="prefetch" href="/library/assets/js/128.55a5fda7.js"><link rel="prefetch" href="/library/assets/js/129.78aa48ea.js"><link rel="prefetch" href="/library/assets/js/13.e6c53358.js"><link rel="prefetch" href="/library/assets/js/130.60bcb6f3.js"><link rel="prefetch" href="/library/assets/js/131.eab0f664.js"><link rel="prefetch" href="/library/assets/js/132.18bbc485.js"><link rel="prefetch" href="/library/assets/js/133.c69a43f5.js"><link rel="prefetch" href="/library/assets/js/134.4334e7ea.js"><link rel="prefetch" href="/library/assets/js/135.740ca860.js"><link rel="prefetch" href="/library/assets/js/136.de13216a.js"><link rel="prefetch" href="/library/assets/js/137.e159d278.js"><link rel="prefetch" href="/library/assets/js/138.a2b3a494.js"><link rel="prefetch" href="/library/assets/js/139.921b4f5c.js"><link rel="prefetch" href="/library/assets/js/14.8203369f.js"><link rel="prefetch" href="/library/assets/js/140.6017b105.js"><link rel="prefetch" href="/library/assets/js/141.39d24b4d.js"><link rel="prefetch" href="/library/assets/js/142.10e0c975.js"><link rel="prefetch" href="/library/assets/js/143.cf58ccfe.js"><link rel="prefetch" href="/library/assets/js/144.9c8b7357.js"><link rel="prefetch" href="/library/assets/js/145.3a020fb6.js"><link rel="prefetch" href="/library/assets/js/146.ecc32833.js"><link rel="prefetch" href="/library/assets/js/147.76421cdd.js"><link rel="prefetch" href="/library/assets/js/148.72a11c31.js"><link rel="prefetch" href="/library/assets/js/149.4dd7c45d.js"><link rel="prefetch" href="/library/assets/js/15.6dfd48fe.js"><link rel="prefetch" href="/library/assets/js/150.28e6eebb.js"><link rel="prefetch" href="/library/assets/js/151.394a00dc.js"><link rel="prefetch" href="/library/assets/js/152.1747781b.js"><link rel="prefetch" href="/library/assets/js/153.781082a1.js"><link rel="prefetch" href="/library/assets/js/154.4f220c9f.js"><link rel="prefetch" href="/library/assets/js/155.26f938f8.js"><link rel="prefetch" href="/library/assets/js/156.40758413.js"><link rel="prefetch" href="/library/assets/js/157.a2cf8b47.js"><link rel="prefetch" href="/library/assets/js/158.d9af1d36.js"><link rel="prefetch" href="/library/assets/js/159.418fb993.js"><link rel="prefetch" href="/library/assets/js/16.cbb7dbca.js"><link rel="prefetch" href="/library/assets/js/160.a5954725.js"><link rel="prefetch" href="/library/assets/js/161.93646fa8.js"><link rel="prefetch" href="/library/assets/js/162.8cee5ad9.js"><link rel="prefetch" href="/library/assets/js/163.419c24fa.js"><link rel="prefetch" href="/library/assets/js/164.bd4f7517.js"><link rel="prefetch" href="/library/assets/js/165.a3e6c1d1.js"><link rel="prefetch" href="/library/assets/js/166.cf0edfba.js"><link rel="prefetch" href="/library/assets/js/167.95d355f5.js"><link rel="prefetch" href="/library/assets/js/168.916dba0d.js"><link rel="prefetch" href="/library/assets/js/169.7bfba4f2.js"><link rel="prefetch" href="/library/assets/js/17.e6261df4.js"><link rel="prefetch" href="/library/assets/js/170.04c191da.js"><link rel="prefetch" href="/library/assets/js/171.32371f64.js"><link rel="prefetch" href="/library/assets/js/172.bd892277.js"><link rel="prefetch" href="/library/assets/js/173.e138b889.js"><link rel="prefetch" href="/library/assets/js/174.be8046d5.js"><link rel="prefetch" href="/library/assets/js/175.4f386be2.js"><link rel="prefetch" href="/library/assets/js/176.63cc2d61.js"><link rel="prefetch" href="/library/assets/js/177.ff191cc9.js"><link rel="prefetch" href="/library/assets/js/178.f0de300d.js"><link rel="prefetch" href="/library/assets/js/179.7eab9180.js"><link rel="prefetch" href="/library/assets/js/18.a704b655.js"><link rel="prefetch" href="/library/assets/js/180.33a2f285.js"><link rel="prefetch" href="/library/assets/js/181.d8d67ab8.js"><link rel="prefetch" href="/library/assets/js/182.9be429f5.js"><link rel="prefetch" href="/library/assets/js/183.b8741b20.js"><link rel="prefetch" href="/library/assets/js/184.837fa326.js"><link rel="prefetch" href="/library/assets/js/185.313c327b.js"><link rel="prefetch" href="/library/assets/js/186.44fc8902.js"><link rel="prefetch" href="/library/assets/js/187.8072e312.js"><link rel="prefetch" href="/library/assets/js/188.438314bf.js"><link rel="prefetch" href="/library/assets/js/189.ad1de3f4.js"><link rel="prefetch" href="/library/assets/js/19.e2ab7507.js"><link rel="prefetch" href="/library/assets/js/190.80292794.js"><link rel="prefetch" href="/library/assets/js/191.2d28ee30.js"><link rel="prefetch" href="/library/assets/js/192.28e2b84f.js"><link rel="prefetch" href="/library/assets/js/193.87657d1b.js"><link rel="prefetch" href="/library/assets/js/194.63d38e0f.js"><link rel="prefetch" href="/library/assets/js/195.4d29944a.js"><link rel="prefetch" href="/library/assets/js/196.2fe265b8.js"><link rel="prefetch" href="/library/assets/js/197.ef14cfdc.js"><link rel="prefetch" href="/library/assets/js/198.93109cd5.js"><link rel="prefetch" href="/library/assets/js/199.54a34e33.js"><link rel="prefetch" href="/library/assets/js/20.1ca2866a.js"><link rel="prefetch" href="/library/assets/js/200.8ea53641.js"><link rel="prefetch" href="/library/assets/js/201.c65f1358.js"><link rel="prefetch" href="/library/assets/js/202.5317d62e.js"><link rel="prefetch" href="/library/assets/js/203.d1a7bb44.js"><link rel="prefetch" href="/library/assets/js/204.4921a8c2.js"><link rel="prefetch" href="/library/assets/js/205.f4d6bea8.js"><link rel="prefetch" href="/library/assets/js/206.dcad00cd.js"><link rel="prefetch" href="/library/assets/js/207.d6c4eac3.js"><link rel="prefetch" href="/library/assets/js/208.9aca2efb.js"><link rel="prefetch" href="/library/assets/js/209.1affd659.js"><link rel="prefetch" href="/library/assets/js/21.1487a227.js"><link rel="prefetch" href="/library/assets/js/210.580ea43f.js"><link rel="prefetch" href="/library/assets/js/211.9e3357bb.js"><link rel="prefetch" href="/library/assets/js/212.5da921cb.js"><link rel="prefetch" href="/library/assets/js/213.e610cef5.js"><link rel="prefetch" href="/library/assets/js/214.290be699.js"><link rel="prefetch" href="/library/assets/js/215.e27b9eff.js"><link rel="prefetch" href="/library/assets/js/216.165a2577.js"><link rel="prefetch" href="/library/assets/js/217.6f66461e.js"><link rel="prefetch" href="/library/assets/js/218.00981b30.js"><link rel="prefetch" href="/library/assets/js/219.c8d6abc5.js"><link rel="prefetch" href="/library/assets/js/22.8da989a3.js"><link rel="prefetch" href="/library/assets/js/220.57544ad0.js"><link rel="prefetch" href="/library/assets/js/221.3167fac5.js"><link rel="prefetch" href="/library/assets/js/222.c89f0796.js"><link rel="prefetch" href="/library/assets/js/223.d3775f0e.js"><link rel="prefetch" href="/library/assets/js/224.6c4ee7ec.js"><link rel="prefetch" href="/library/assets/js/225.95d010c4.js"><link rel="prefetch" href="/library/assets/js/226.33e7c0b6.js"><link rel="prefetch" href="/library/assets/js/227.579e1498.js"><link rel="prefetch" href="/library/assets/js/228.7b7e1b62.js"><link rel="prefetch" href="/library/assets/js/229.70ef0082.js"><link rel="prefetch" href="/library/assets/js/23.ec387f02.js"><link rel="prefetch" href="/library/assets/js/230.30ef0e4d.js"><link rel="prefetch" href="/library/assets/js/231.af0237f3.js"><link rel="prefetch" href="/library/assets/js/232.22745715.js"><link rel="prefetch" href="/library/assets/js/233.d466dd12.js"><link rel="prefetch" href="/library/assets/js/234.d52f06e7.js"><link rel="prefetch" href="/library/assets/js/235.4cd40c5c.js"><link rel="prefetch" href="/library/assets/js/236.654f72a5.js"><link rel="prefetch" href="/library/assets/js/237.79e0b036.js"><link rel="prefetch" href="/library/assets/js/238.94ccbac1.js"><link rel="prefetch" href="/library/assets/js/239.777d80d7.js"><link rel="prefetch" href="/library/assets/js/24.311a9595.js"><link rel="prefetch" href="/library/assets/js/240.929103a9.js"><link rel="prefetch" href="/library/assets/js/241.2607d2b1.js"><link rel="prefetch" href="/library/assets/js/242.4bd8c33d.js"><link rel="prefetch" href="/library/assets/js/243.435a070e.js"><link rel="prefetch" href="/library/assets/js/244.c72b74f8.js"><link rel="prefetch" href="/library/assets/js/245.abd02fea.js"><link rel="prefetch" href="/library/assets/js/246.febd950d.js"><link rel="prefetch" href="/library/assets/js/247.9e53b89c.js"><link rel="prefetch" href="/library/assets/js/248.e0dd1495.js"><link rel="prefetch" href="/library/assets/js/249.c2bee47b.js"><link rel="prefetch" href="/library/assets/js/25.a9559090.js"><link rel="prefetch" href="/library/assets/js/26.427fa7b8.js"><link rel="prefetch" href="/library/assets/js/27.1cdfa9b2.js"><link rel="prefetch" href="/library/assets/js/28.10de2671.js"><link rel="prefetch" href="/library/assets/js/29.6f08edae.js"><link rel="prefetch" href="/library/assets/js/30.2920e805.js"><link rel="prefetch" href="/library/assets/js/31.9f6f7f1f.js"><link rel="prefetch" href="/library/assets/js/32.9b1f9d39.js"><link rel="prefetch" href="/library/assets/js/33.de3b1f15.js"><link rel="prefetch" href="/library/assets/js/34.842ff831.js"><link rel="prefetch" href="/library/assets/js/35.9b68568e.js"><link rel="prefetch" href="/library/assets/js/36.3e28ab86.js"><link rel="prefetch" href="/library/assets/js/37.79cd5ad0.js"><link rel="prefetch" href="/library/assets/js/38.8ffc7cea.js"><link rel="prefetch" href="/library/assets/js/39.0d5de426.js"><link rel="prefetch" href="/library/assets/js/4.52d61897.js"><link rel="prefetch" href="/library/assets/js/40.872a92e5.js"><link rel="prefetch" href="/library/assets/js/41.8cbc9763.js"><link rel="prefetch" href="/library/assets/js/42.d43d9d87.js"><link rel="prefetch" href="/library/assets/js/43.79182c22.js"><link rel="prefetch" href="/library/assets/js/44.57224192.js"><link rel="prefetch" href="/library/assets/js/45.e33eb76a.js"><link rel="prefetch" href="/library/assets/js/46.daa3f9c1.js"><link rel="prefetch" href="/library/assets/js/47.0d1cd1c6.js"><link rel="prefetch" href="/library/assets/js/48.4ecc7726.js"><link rel="prefetch" href="/library/assets/js/49.c14ae310.js"><link rel="prefetch" href="/library/assets/js/5.b9670bd2.js"><link rel="prefetch" href="/library/assets/js/50.6f93ea51.js"><link rel="prefetch" href="/library/assets/js/51.741a3bcc.js"><link rel="prefetch" href="/library/assets/js/52.abd12df5.js"><link rel="prefetch" href="/library/assets/js/53.ec18d11b.js"><link rel="prefetch" href="/library/assets/js/54.10815c76.js"><link rel="prefetch" href="/library/assets/js/55.1d124a26.js"><link rel="prefetch" href="/library/assets/js/56.c61e6897.js"><link rel="prefetch" href="/library/assets/js/57.de4d5554.js"><link rel="prefetch" href="/library/assets/js/58.b955afc2.js"><link rel="prefetch" href="/library/assets/js/59.1e031fe3.js"><link rel="prefetch" href="/library/assets/js/6.1235b566.js"><link rel="prefetch" href="/library/assets/js/60.77ce3f5d.js"><link rel="prefetch" href="/library/assets/js/61.b4a3956e.js"><link rel="prefetch" href="/library/assets/js/62.7115f666.js"><link rel="prefetch" href="/library/assets/js/63.cb7572d0.js"><link rel="prefetch" href="/library/assets/js/64.606d7551.js"><link rel="prefetch" href="/library/assets/js/65.ffacf0ed.js"><link rel="prefetch" href="/library/assets/js/66.c9cfc090.js"><link rel="prefetch" href="/library/assets/js/67.1a71df7a.js"><link rel="prefetch" href="/library/assets/js/68.cda27e0e.js"><link rel="prefetch" href="/library/assets/js/69.bedb110d.js"><link rel="prefetch" href="/library/assets/js/7.bcec74b5.js"><link rel="prefetch" href="/library/assets/js/70.e01e5d80.js"><link rel="prefetch" href="/library/assets/js/71.913e6728.js"><link rel="prefetch" href="/library/assets/js/72.f586b442.js"><link rel="prefetch" href="/library/assets/js/73.c29b9165.js"><link rel="prefetch" href="/library/assets/js/74.e912ce27.js"><link rel="prefetch" href="/library/assets/js/75.a91c75de.js"><link rel="prefetch" href="/library/assets/js/76.1a8f7c98.js"><link rel="prefetch" href="/library/assets/js/77.f26069df.js"><link rel="prefetch" href="/library/assets/js/78.6e3d79ca.js"><link rel="prefetch" href="/library/assets/js/79.276c8e63.js"><link rel="prefetch" href="/library/assets/js/8.6c9a034f.js"><link rel="prefetch" href="/library/assets/js/80.38865a4a.js"><link rel="prefetch" href="/library/assets/js/82.4048e80f.js"><link rel="prefetch" href="/library/assets/js/83.fa3937be.js"><link rel="prefetch" href="/library/assets/js/84.fa94acb3.js"><link rel="prefetch" href="/library/assets/js/85.32b54338.js"><link rel="prefetch" href="/library/assets/js/86.826a5f61.js"><link rel="prefetch" href="/library/assets/js/87.732f0319.js"><link rel="prefetch" href="/library/assets/js/88.0878384d.js"><link rel="prefetch" href="/library/assets/js/89.fad631d3.js"><link rel="prefetch" href="/library/assets/js/9.9d0900e8.js"><link rel="prefetch" href="/library/assets/js/90.dd5b6809.js"><link rel="prefetch" href="/library/assets/js/91.907e190c.js"><link rel="prefetch" href="/library/assets/js/92.44372192.js"><link rel="prefetch" href="/library/assets/js/93.43f20c01.js"><link rel="prefetch" href="/library/assets/js/94.b5ace920.js"><link rel="prefetch" href="/library/assets/js/95.fedd1fc6.js"><link rel="prefetch" href="/library/assets/js/96.bc289ee5.js"><link rel="prefetch" href="/library/assets/js/97.c9959a8d.js"><link rel="prefetch" href="/library/assets/js/98.ad4b7e63.js"><link rel="prefetch" href="/library/assets/js/99.6d921310.js">
    <link rel="stylesheet" href="/library/assets/css/0.styles.5463484d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/library/" class="home-link router-link-active"><!----> <span class="site-name">余鸿靖的手册小站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="手册" class="dropdown-title"><span class="title">手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/notebook/school/read.html" class="nav-link">校招面经</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/jsTricks/read.html" class="nav-link">JS Tricks</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/cssTricks/read.html" class="nav-link">CSS Tricks</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/algorithm/read.html" class="nav-link">算法整理</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/difters/read.html" class="nav-link">北漂日志</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日常记录" class="dropdown-title"><span class="title">日常记录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/blog/article/read.html" class="nav-link">闲情随记</a></li><li class="dropdown-item"><!----> <a href="/library/blog/tools/read.html" class="nav-link">工具技巧</a></li><li class="dropdown-item"><!----> <a href="/library/blog/command/read.html" class="nav-link">命令整理</a></li><li class="dropdown-item"><!----> <a href="/library/blog/software/read.html" class="nav-link">必备软件</a></li><li class="dropdown-item"><!----> <a href="/library/blog/other/read.html" class="nav-link">文档综合</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识整理" class="dropdown-title"><span class="title">知识整理</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/knowledge/mindmap/read.html" class="nav-link">知识脑图</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/web/read.html" class="nav-link">前端知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/backend/read.html" class="nav-link">后端知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/database/read.html" class="nav-link">数据库知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/algorithm/read.html" class="nav-link">算法知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/structure/read.html" class="nav-link">数据结构知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/design/read.html" class="nav-link">设计模式知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/network/read.html" class="nav-link">网络知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/hard/read.html" class="nav-link">硬件知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/system/read.html" class="nav-link">操作系统知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/config/read.html" class="nav-link">环境配置</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/architecture/read.html" class="nav-link">项目架构</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/english/read.html" class="nav-link">英语知识</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码解析" class="dropdown-title"><span class="title">源码解析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/code/lodash/read.html" class="nav-link">Lodash</a></li><li class="dropdown-item"><!----> <a href="/library/code/webpack/read.html" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/library/code/zepto/read.html" class="nav-link">Zepto</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书笔记" class="dropdown-title"><span class="title">读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/readbook/technology/read.html" class="nav-link">技术书籍</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/literature/read.html" class="nav-link">文学书籍</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/poetry/read.html" class="nav-link">诗词歌曲</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/other/read.html" class="nav-link">杂项书籍</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他项目" class="dropdown-title"><span class="title">其他项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://yuhongjing.github.io/trip/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旅行日志
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://pxy1996.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小裕博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://yuhongjing.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/yuhongjing/library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="手册" class="dropdown-title"><span class="title">手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/notebook/school/read.html" class="nav-link">校招面经</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/jsTricks/read.html" class="nav-link">JS Tricks</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/cssTricks/read.html" class="nav-link">CSS Tricks</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/algorithm/read.html" class="nav-link">算法整理</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/difters/read.html" class="nav-link">北漂日志</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日常记录" class="dropdown-title"><span class="title">日常记录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/blog/article/read.html" class="nav-link">闲情随记</a></li><li class="dropdown-item"><!----> <a href="/library/blog/tools/read.html" class="nav-link">工具技巧</a></li><li class="dropdown-item"><!----> <a href="/library/blog/command/read.html" class="nav-link">命令整理</a></li><li class="dropdown-item"><!----> <a href="/library/blog/software/read.html" class="nav-link">必备软件</a></li><li class="dropdown-item"><!----> <a href="/library/blog/other/read.html" class="nav-link">文档综合</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识整理" class="dropdown-title"><span class="title">知识整理</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/knowledge/mindmap/read.html" class="nav-link">知识脑图</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/web/read.html" class="nav-link">前端知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/backend/read.html" class="nav-link">后端知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/database/read.html" class="nav-link">数据库知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/algorithm/read.html" class="nav-link">算法知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/structure/read.html" class="nav-link">数据结构知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/design/read.html" class="nav-link">设计模式知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/network/read.html" class="nav-link">网络知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/hard/read.html" class="nav-link">硬件知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/system/read.html" class="nav-link">操作系统知识</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/config/read.html" class="nav-link">环境配置</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/architecture/read.html" class="nav-link">项目架构</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/english/read.html" class="nav-link">英语知识</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码解析" class="dropdown-title"><span class="title">源码解析</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/code/lodash/read.html" class="nav-link">Lodash</a></li><li class="dropdown-item"><!----> <a href="/library/code/webpack/read.html" class="nav-link">Webpack</a></li><li class="dropdown-item"><!----> <a href="/library/code/zepto/read.html" class="nav-link">Zepto</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="读书笔记" class="dropdown-title"><span class="title">读书笔记</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/readbook/technology/read.html" class="nav-link">技术书籍</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/literature/read.html" class="nav-link">文学书籍</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/poetry/read.html" class="nav-link">诗词歌曲</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/other/read.html" class="nav-link">杂项书籍</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="其他项目" class="dropdown-title"><span class="title">其他项目</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://yuhongjing.github.io/trip/#/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旅行日志
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://pxy1996.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小裕博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://yuhongjing.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/yuhongjing/library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>数据库知识</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/library/knowledge/database/read.html" class="sidebar-link">介绍</a></li><li><a href="/library/knowledge/database/常用的SQL语句.html" class="sidebar-link">常用的SQL语句</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>MySQL</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/library/knowledge/database/mysql/MySQL介绍.html" class="sidebar-link">MySQL简介</a></li><li><a href="/library/knowledge/database/mysql/MySQL开发规范.html" class="active sidebar-link">MySQL开发规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#数据库对象命名规范" class="sidebar-link">数据库对象命名规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#数据库对象" class="sidebar-link">数据库对象</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#数据库对象命名原则" class="sidebar-link">数据库对象命名原则</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#数据库命名规范" class="sidebar-link">数据库命名规范</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#表命名规范" class="sidebar-link">表命名规范</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#字段命名规范" class="sidebar-link">字段命名规范</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#用户命名规范" class="sidebar-link">用户命名规范</a></li></ul></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#数据库对象设计规范" class="sidebar-link">数据库对象设计规范</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#存储引擎的选择" class="sidebar-link">存储引擎的选择</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#字符集的选择" class="sidebar-link">字符集的选择</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#表设计规范" class="sidebar-link">表设计规范</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#字段设计规范" class="sidebar-link">字段设计规范</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#索引设计规范" class="sidebar-link">索引设计规范</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#约束设计规范" class="sidebar-link">约束设计规范</a></li><li class="sidebar-sub-header"><a href="/library/knowledge/database/mysql/MySQL开发规范.html#sql编写规范" class="sidebar-link">SQL编写规范</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="mysql开发规范"><a href="#mysql开发规范" class="header-anchor">#</a> MySQL开发规范</h1> <p>MySQL开发规范，将不断更新。</p> <h2 id="数据库对象命名规范"><a href="#数据库对象命名规范" class="header-anchor">#</a> 数据库对象命名规范</h2> <h3 id="数据库对象"><a href="#数据库对象" class="header-anchor">#</a> 数据库对象</h3> <p>命名规范的对象是指数据库SCHEMA、表TABLE、索引INDEX、约束CONSTRAINTS等命名约定</p> <h3 id="数据库对象命名原则"><a href="#数据库对象命名原则" class="header-anchor">#</a> 数据库对象命名原则</h3> <ul><li>命名使用具体意义的英文词汇，词汇以<code>下划线(_)</code>分隔</li> <li>命名只能使用英文字母、数字、下划线</li> <li>避免使用MySQL的保留字如：call、group等</li> <li>所有数据库对象使用小写字母</li></ul> <h3 id="数据库命名规范"><a href="#数据库命名规范" class="header-anchor">#</a> 数据库命名规范</h3> <ul><li>数据库名不能超过30个字符</li> <li>数据库命名必须为项目英文名称或有意义的简写</li> <li>数据库创建时必须添加默认字符集和校对规则子句。默认字符集为UTF8(已迁移<code>dumbo</code>的使用<code>utf8mb4</code>)</li> <li>命名应使用小写</li></ul> <h3 id="表命名规范"><a href="#表命名规范" class="header-anchor">#</a> 表命名规范</h3> <ul><li>同一个模块的表尽可能使用相同的前缀，表名称尽可能表达含义</li> <li>多个单词以<code>下划线(_)</code>分隔</li> <li>表名不能超过30个字符</li> <li>普通表名以<code>t_</code>开头，表示为table，命名规则为<code>t_模块名</code>(或有意义的简写)，例如<code>t_user</code></li> <li>临时表(运营、开发或数据库人员临时用作临时数据采集用的中间表)，临时表以<code>tmp</code>为前缀和<code>8位时间</code>为后缀，命名规则为<code>tmp_模块名_8位时间</code>，例如<code>tmp_test_user_20191201</code></li> <li>备份表(DBA备份用作保存历史数据的中间表)，备份表以<code>bak</code>为前缀和<code>8位时间</code>为后缀，命名规则为<code>bak_模块名_8位日期</code>，例如<code>bak_user_20191201</code></li> <li>命名应使用小写</li></ul> <h3 id="字段命名规范"><a href="#字段命名规范" class="header-anchor">#</a> 字段命名规范</h3> <ul><li>字段命名需要表示其实际含义的英文单词或简写，单词间用<code>下划线(_)</code>进行分隔</li> <li>各表之间相同意义的字段必须<code>同名</code></li> <li>字段名不能超过30个字符</li></ul> <h3 id="用户命名规范"><a href="#用户命名规范" class="header-anchor">#</a> 用户命名规范</h3> <ul><li>生产使用的用户命名格式为<code>code_应用</code></li> <li>只读用户的命名格式为<code>read_应用</code></li></ul> <h2 id="数据库对象设计规范"><a href="#数据库对象设计规范" class="header-anchor">#</a> 数据库对象设计规范</h2> <h3 id="存储引擎的选择"><a href="#存储引擎的选择" class="header-anchor">#</a> 存储引擎的选择</h3> <p>如无特殊需求，必须使用<code>innondb</code>存储引擎</p> <h3 id="字符集的选择"><a href="#字符集的选择" class="header-anchor">#</a> 字符集的选择</h3> <p>如无特殊要求，必须使用<code>utf8</code>或<code>utf8mb4</code></p> <h3 id="表设计规范"><a href="#表设计规范" class="header-anchor">#</a> 表设计规范</h3> <ul><li><p>不同应用间所对应的数据库表之间的关联应尽可能减少，不允许使用外键对表之间进行关联，确保<code>组件对应的表之间的独立性</code>，为系统或表结构的重构提供可能性</p></li> <li><p>表设计的角度不应该针对整个系统进行数据库设计，而应该根据<code>系统架构中组件划分</code>，针对每个组件所处理的业务进行数据库设计</p></li> <li><p>表必须要有PK<code>(primary key)</code></p></li> <li><p>一个字段只表示一个含义</p></li> <li><p>表不应该有重复列</p></li> <li><p>禁止使用复杂数据类型(数组，自定义等)</p></li> <li><p>需要<code>join</code>的字段(连接键)，数据类型必须保持绝对一致，避免隐式转换</p></li> <li><p>设计应至少满足<code>第三范式</code>，尽量减少数据冗余。一些特殊场景允许反范式化设计，但在项目评审时需要对冗余字段的设计给出解释</p></li> <li><p><code>TEXT</code>字段必须放在独立的表中，用PK与主表关联。如无特殊需要，禁止使用TEXT、BLOB字段</p></li> <li><p>需要定期删除(或者转移)过期数据的表，通过<code>分表</code>解决</p></li> <li><p>单表字段数不要太多，建议最多不要大于50个</p></li> <li><p>MySQL在处理大表时，性能就开始明显降低，所以建议单表的物理大小限制在<code>16GB</code>，表中数据控制在<code>2000W</code>内</p></li> <li><p>如果数据量或数据增长在前期规划时就较大，那么在设计评审时就应加入<code>分表策略</code></p></li> <li><p>无特殊需求，严谨使用<code>分区表</code></p></li></ul> <h3 id="字段设计规范"><a href="#字段设计规范" class="header-anchor">#</a> 字段设计规范</h3> <h4 id="int"><a href="#int" class="header-anchor">#</a> INT</h4> <p>如无特殊需要，存放整型数字使用<code>UNSIGNED INT</code>型。整型字段后的数字代表显示长度</p> <h4 id="datetime"><a href="#datetime" class="header-anchor">#</a> DATETIME</h4> <p>所有需要精确到时间(时分秒)的字段均使用<code>DATETIME</code>，不要使用<code>TIMESTAMP</code>类型</p> <h4 id="varchar"><a href="#varchar" class="header-anchor">#</a> VARCHAR</h4> <p>所有动态长度字符串，全部使用VARCHAR类型，类似于<code>状态</code>等<code>有限类别</code>的字符，也使用可以比较明显表达出实际意义的字符串，而不应该使用<code>INT</code>之类的数字来代替；<code>VARCHAR(N)</code>，N表示的是<code>字符数</code>而不是字节数。比如<code>VARCHAR(255)</code>，最大可存储255个字符(字符包括英文字母、汉子、特殊字符等)。</p> <p>但N应尽可能小，因为MySQL一个表中所有的VARCHAR字段最大长度是<code>65535</code>个字节，且存储字符个数由所选字符集决定。如<code>UTF8</code>存储一个字符最大要<code>3</code>个字节，那么VARCHAR在存放占用三个字节长度的字符时不应超过<code>21845</code>个字符。</p> <p>同时，在进行排序和创建临时表一类的<code>内存操作</code>时，会使用N的长度申请内存。(如无特殊需要，原则上单个VARCHAR型字段不允许超过<code>255</code>个字符)</p> <h4 id="text"><a href="#text" class="header-anchor">#</a> TEXT</h4> <p>仅仅当字符数量可能超过<code>20000</code>个的时候，才可以使用TEXT类型来存放字符类数据，因为所有MySQL数据库都会使用<code>UTF8</code>字符集。</p> <p>所有使用TEXT类型的字段必须和原表进行分拆，与原表主键单独组成另外一个表进行存放。</p> <p>如无特殊需要，严禁开发人员使用MEDIUMTEXT、TEXT、LONGTEXT类型</p> <h4 id="其他"><a href="#其他" class="header-anchor">#</a> 其他</h4> <ul><li>对于精确浮点型数据存储，需要使用<code>DECIMAL</code>，严禁使用<code>FLOAT</code>和<code>DOUBLE</code></li> <li>如无特殊需要，严禁开发人员使用<code>BLOB</code>类型</li> <li>如无特殊需要，字段建议使用<code>NOT NULL</code>属性，可用默认值代替<code>NULL</code></li> <li>自增字段类型必须是<code>整型</code>且必须为<code>UNSIGNED</code>，推荐类型为<code>INT</code>或<code>BIGINT</code>，并且自增字段必须是<code>主键</code>或者<code>主键的一部分</code></li></ul> <h3 id="索引设计规范"><a href="#索引设计规范" class="header-anchor">#</a> 索引设计规范</h3> <ul><li><p>索引必须创建在<code>索引选择性</code>较高的列上，选择性的计算方式为：</p> <p><code>select count(distinct(col_name))/count(*) from tb_name;</code></p> <p>如果结果小于<code>0.2</code>，则不建议在此列上创建索引，否则大概率会拖慢SQL执行</p></li> <li><p><code>组合索引</code>的首字段，必须在where条件中，对于确定需要组成组合索引的多个字段，建议将选择性高的字段靠前放</p></li> <li><p>禁止使用外键</p></li> <li><p>TEXT类型字段如果需要创建索引，必须使用前缀索引</p></li> <li><p>单张表的索引数量理论上应控制在<code>5</code>个以内。经常有大批量插入、更新操作表，应尽量少键索引</p></li> <li><p>ORDER BY、GROUP BY、DISTINCT的字段需要添加在索引的后面，形成覆盖索引</p></li> <li><p>尽量使用Btree索引，不要使用其他类型索引</p></li></ul> <h3 id="约束设计规范"><a href="#约束设计规范" class="header-anchor">#</a> 约束设计规范</h3> <ul><li>PK应该是有序并且无意义的，尽量由开发人员自定义，且尽可能短，使用自增序列</li> <li>表中除PK外，还存在唯一性约束的，可以在数据库中创建以<code>uidx_</code>作为前缀的唯一约束索引</li> <li>PK字段不允许更新</li> <li>禁止创建外键约束，外键约束由应用控制</li> <li>如无特殊需要，所有字段必须添加非空约束，即<code>NOT NULL</code></li> <li>如无特殊需要，所有字段必须有默认值</li></ul> <h3 id="sql编写规范"><a href="#sql编写规范" class="header-anchor">#</a> SQL编写规范</h3> <ul><li><p>尽量避免使用<code>select *</code>，join语句使用<code>select *</code>可能导致只需要访问索引即可完成的查询需要回表取数</p></li> <li><p>严禁使用<code>select * from table</code>而不加任何where条件</p></li> <li><p>MySQL中的TEXT类型字段存储的时候不是由其他普通字符类型的字符组成记录存放在一起，而且读取效率本身也不如普通字段快。如果不需要取回TEXT字段，又使用了<code>select *</code>，会让完成相同功能的sql所消耗的io量大很多，而且增加部分的io效率也更低下</p></li> <li><p>在取出字段上可以使用相关函数，但应尽可能避免出现<code>now()</code>、<code>rand()</code>、<code>sysdate()</code>、<code>current_user()</code>等不确定结果的函数，在where条件中的过滤条件字段上严禁使用任何函数，包括数据类型转换函数</p></li> <li><p>所有连接的SQL必须使用<code>Join ... On ...</code>方式进行连接，而不允许直接通过普通的where条件关联方式。外连接的SQL语句，可以使用<code>Left Join On</code>的Join方式，且所有外连接一律写成<code>Left Join</code>，而不要使用<code>Right Join</code></p></li> <li><p>分页查询语句全部都需要带有排序条件，除非应用方明确要求不要使用任何排序来随机展示数据</p></li> <li><p>WHERE条件中严禁在索引列上进行数学运算或函数运算</p></li> <li><p>用<code>in() / union</code>替换or，并注意in的个数小于300</p></li> <li><p>严禁使用%前缀进行模糊前缀查询，如:</p> <p><code>select id, val from table where val like '%name';</code></p> <p>可以使用%模糊后缀查询，如:</p> <p><code>select id, val from table where val like 'name%';</code></p></li> <li><p>严禁使用</p> <p><code>INSERT ON DUPLICATE KEY UPDATE、REPLACE INTO、INSERT IGNORE</code></p></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">最近更新时间:</span> <span class="time">2019-12-19 6:59:34 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/library/knowledge/database/mysql/MySQL介绍.html" class="prev">MySQL简介</a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/library/assets/js/app.e62b82f9.js" defer></script><script src="/library/assets/js/2.a94a0ffb.js" defer></script><script src="/library/assets/js/81.96e1a036.js" defer></script><script src="/library/assets/js/3.a024fd7b.js" defer></script>
  </body>
</html>
