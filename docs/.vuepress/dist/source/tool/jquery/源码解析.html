<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>源码解析 | 余鸿靖的手册小站</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="icon" href="/library/logo.png">
    <link rel="manifest" href="/library/manifest.json">
    <link rel="apple-touch-icon" href="/library/icons/apple-touch-icon-152x152.png">
    <link rel="mask-icon" href="/library/icons/safari-pinned-tab.svg" color="#3eaf7c">
    <meta name="description" content="小站目前有341篇文章共967624字，继续努力">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileImage" content="/icons/msapplication-icon-144x144.png">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/library/assets/css/0.styles.e14e970c.css" as="style"><link rel="preload" href="/library/assets/js/app.6b700a2b.js" as="script"><link rel="preload" href="/library/assets/js/2.1bf880a1.js" as="script"><link rel="preload" href="/library/assets/js/314.98b09ff2.js" as="script"><link rel="preload" href="/library/assets/js/3.dc7ea838.js" as="script"><link rel="prefetch" href="/library/assets/js/10.3e53577f.js"><link rel="prefetch" href="/library/assets/js/100.17fbb268.js"><link rel="prefetch" href="/library/assets/js/101.20bbca49.js"><link rel="prefetch" href="/library/assets/js/102.7a3548f1.js"><link rel="prefetch" href="/library/assets/js/103.6936bab5.js"><link rel="prefetch" href="/library/assets/js/104.0a2b9389.js"><link rel="prefetch" href="/library/assets/js/105.41b8b4d0.js"><link rel="prefetch" href="/library/assets/js/106.2456bf35.js"><link rel="prefetch" href="/library/assets/js/107.72e70484.js"><link rel="prefetch" href="/library/assets/js/108.07225b34.js"><link rel="prefetch" href="/library/assets/js/109.84611fed.js"><link rel="prefetch" href="/library/assets/js/11.d7d274e8.js"><link rel="prefetch" href="/library/assets/js/110.40938e85.js"><link rel="prefetch" href="/library/assets/js/111.79a8f120.js"><link rel="prefetch" href="/library/assets/js/112.aa8dccb1.js"><link rel="prefetch" href="/library/assets/js/113.22513c10.js"><link rel="prefetch" href="/library/assets/js/114.641767c8.js"><link rel="prefetch" href="/library/assets/js/115.00cb3a77.js"><link rel="prefetch" href="/library/assets/js/116.cfd5b447.js"><link rel="prefetch" href="/library/assets/js/117.c1549df7.js"><link rel="prefetch" href="/library/assets/js/118.36ee55dc.js"><link rel="prefetch" href="/library/assets/js/119.4c265375.js"><link rel="prefetch" href="/library/assets/js/12.1894fb4f.js"><link rel="prefetch" href="/library/assets/js/120.ec213691.js"><link rel="prefetch" href="/library/assets/js/121.37eb698b.js"><link rel="prefetch" href="/library/assets/js/122.3240db5e.js"><link rel="prefetch" href="/library/assets/js/123.fcd707e2.js"><link rel="prefetch" href="/library/assets/js/124.3e6d91fb.js"><link rel="prefetch" href="/library/assets/js/125.0ca51c1d.js"><link rel="prefetch" href="/library/assets/js/126.0250ad52.js"><link rel="prefetch" href="/library/assets/js/127.86f1f8e3.js"><link rel="prefetch" href="/library/assets/js/128.9f393845.js"><link rel="prefetch" href="/library/assets/js/129.f02a9667.js"><link rel="prefetch" href="/library/assets/js/13.c9e1bb0a.js"><link rel="prefetch" href="/library/assets/js/130.32dd515a.js"><link rel="prefetch" href="/library/assets/js/131.19e1e360.js"><link rel="prefetch" href="/library/assets/js/132.f80d5950.js"><link rel="prefetch" href="/library/assets/js/133.d6ebe397.js"><link rel="prefetch" href="/library/assets/js/134.3eb31e55.js"><link rel="prefetch" href="/library/assets/js/135.5c9f7ff2.js"><link rel="prefetch" href="/library/assets/js/136.4efc9905.js"><link rel="prefetch" href="/library/assets/js/137.73aa06ed.js"><link rel="prefetch" href="/library/assets/js/138.2b31bcb1.js"><link rel="prefetch" href="/library/assets/js/139.471f8140.js"><link rel="prefetch" href="/library/assets/js/14.f2340962.js"><link rel="prefetch" href="/library/assets/js/140.353ff0c9.js"><link rel="prefetch" href="/library/assets/js/141.8ee4f907.js"><link rel="prefetch" href="/library/assets/js/142.ed0c2d3d.js"><link rel="prefetch" href="/library/assets/js/143.5c80124b.js"><link rel="prefetch" href="/library/assets/js/144.69632600.js"><link rel="prefetch" href="/library/assets/js/145.7faf5132.js"><link rel="prefetch" href="/library/assets/js/146.76c344d0.js"><link rel="prefetch" href="/library/assets/js/147.972752d6.js"><link rel="prefetch" href="/library/assets/js/148.8ed7207e.js"><link rel="prefetch" href="/library/assets/js/149.f9b89a1f.js"><link rel="prefetch" href="/library/assets/js/15.181de6b2.js"><link rel="prefetch" href="/library/assets/js/150.18b582e0.js"><link rel="prefetch" href="/library/assets/js/151.be2015b0.js"><link rel="prefetch" href="/library/assets/js/152.78a746b0.js"><link rel="prefetch" href="/library/assets/js/153.1d9dcc17.js"><link rel="prefetch" href="/library/assets/js/154.08daace7.js"><link rel="prefetch" href="/library/assets/js/155.652f245a.js"><link rel="prefetch" href="/library/assets/js/156.0d9266ee.js"><link rel="prefetch" href="/library/assets/js/157.33ad4313.js"><link rel="prefetch" href="/library/assets/js/158.836a2cbc.js"><link rel="prefetch" href="/library/assets/js/159.8b75e91c.js"><link rel="prefetch" href="/library/assets/js/16.db55b46a.js"><link rel="prefetch" href="/library/assets/js/160.d5211c6a.js"><link rel="prefetch" href="/library/assets/js/161.2d7d09ca.js"><link rel="prefetch" href="/library/assets/js/162.984395a2.js"><link rel="prefetch" href="/library/assets/js/163.1963871b.js"><link rel="prefetch" href="/library/assets/js/164.3346df94.js"><link rel="prefetch" href="/library/assets/js/165.da513cd0.js"><link rel="prefetch" href="/library/assets/js/166.7e499a68.js"><link rel="prefetch" href="/library/assets/js/167.5d0aa3a4.js"><link rel="prefetch" href="/library/assets/js/168.299eb89c.js"><link rel="prefetch" href="/library/assets/js/169.8e73c7be.js"><link rel="prefetch" href="/library/assets/js/17.a7642692.js"><link rel="prefetch" href="/library/assets/js/170.e7c12ebf.js"><link rel="prefetch" href="/library/assets/js/171.eb5cf86d.js"><link rel="prefetch" href="/library/assets/js/172.3511f201.js"><link rel="prefetch" href="/library/assets/js/173.437583a9.js"><link rel="prefetch" href="/library/assets/js/174.1e066f46.js"><link rel="prefetch" href="/library/assets/js/175.ec635acf.js"><link rel="prefetch" href="/library/assets/js/176.d29863d1.js"><link rel="prefetch" href="/library/assets/js/177.7a9e601b.js"><link rel="prefetch" href="/library/assets/js/178.de4260c1.js"><link rel="prefetch" href="/library/assets/js/179.2df212c3.js"><link rel="prefetch" href="/library/assets/js/18.bbc5602b.js"><link rel="prefetch" href="/library/assets/js/180.29a10dd1.js"><link rel="prefetch" href="/library/assets/js/181.0e39079b.js"><link rel="prefetch" href="/library/assets/js/182.01ab1ace.js"><link rel="prefetch" href="/library/assets/js/183.d5f7eec9.js"><link rel="prefetch" href="/library/assets/js/184.4800d26b.js"><link rel="prefetch" href="/library/assets/js/185.9eaaa170.js"><link rel="prefetch" href="/library/assets/js/186.34b33b5e.js"><link rel="prefetch" href="/library/assets/js/187.7d7749f6.js"><link rel="prefetch" href="/library/assets/js/188.1836ebcf.js"><link rel="prefetch" href="/library/assets/js/189.54563737.js"><link rel="prefetch" href="/library/assets/js/19.2f47bab5.js"><link rel="prefetch" href="/library/assets/js/190.2946e506.js"><link rel="prefetch" href="/library/assets/js/191.43a41e58.js"><link rel="prefetch" href="/library/assets/js/192.7b1c6de8.js"><link rel="prefetch" href="/library/assets/js/193.1a86245b.js"><link rel="prefetch" href="/library/assets/js/194.74c53625.js"><link rel="prefetch" href="/library/assets/js/195.397d6bd8.js"><link rel="prefetch" href="/library/assets/js/196.ad25a2b6.js"><link rel="prefetch" href="/library/assets/js/197.455c6cd8.js"><link rel="prefetch" href="/library/assets/js/198.2343bd68.js"><link rel="prefetch" href="/library/assets/js/199.8b5c1fb8.js"><link rel="prefetch" href="/library/assets/js/20.3fca2c79.js"><link rel="prefetch" href="/library/assets/js/200.01c3e3cc.js"><link rel="prefetch" href="/library/assets/js/201.13702321.js"><link rel="prefetch" href="/library/assets/js/202.d2739f9a.js"><link rel="prefetch" href="/library/assets/js/203.93d32541.js"><link rel="prefetch" href="/library/assets/js/204.eb8ba5a0.js"><link rel="prefetch" href="/library/assets/js/205.9388d52b.js"><link rel="prefetch" href="/library/assets/js/206.11a934cc.js"><link rel="prefetch" href="/library/assets/js/207.9934d49c.js"><link rel="prefetch" href="/library/assets/js/208.868f4c96.js"><link rel="prefetch" href="/library/assets/js/209.0fe6bbbf.js"><link rel="prefetch" href="/library/assets/js/21.54889d63.js"><link rel="prefetch" href="/library/assets/js/210.38f7b329.js"><link rel="prefetch" href="/library/assets/js/211.c1f1ff47.js"><link rel="prefetch" href="/library/assets/js/212.c82f4531.js"><link rel="prefetch" href="/library/assets/js/213.26321cc2.js"><link rel="prefetch" href="/library/assets/js/214.1e96cc26.js"><link rel="prefetch" href="/library/assets/js/215.a2e227bd.js"><link rel="prefetch" href="/library/assets/js/216.c8b43a7e.js"><link rel="prefetch" href="/library/assets/js/217.d4893a0b.js"><link rel="prefetch" href="/library/assets/js/218.ea690b54.js"><link rel="prefetch" href="/library/assets/js/219.d31afe74.js"><link rel="prefetch" href="/library/assets/js/22.a85e2627.js"><link rel="prefetch" href="/library/assets/js/220.0eab8d1a.js"><link rel="prefetch" href="/library/assets/js/221.5a9da52d.js"><link rel="prefetch" href="/library/assets/js/222.ec0d4e92.js"><link rel="prefetch" href="/library/assets/js/223.8369a720.js"><link rel="prefetch" href="/library/assets/js/224.1d844afd.js"><link rel="prefetch" href="/library/assets/js/225.6b3164d1.js"><link rel="prefetch" href="/library/assets/js/226.beb96926.js"><link rel="prefetch" href="/library/assets/js/227.7bc76d48.js"><link rel="prefetch" href="/library/assets/js/228.4d83bd33.js"><link rel="prefetch" href="/library/assets/js/229.48061533.js"><link rel="prefetch" href="/library/assets/js/23.59bbef01.js"><link rel="prefetch" href="/library/assets/js/230.772288c8.js"><link rel="prefetch" href="/library/assets/js/231.db10306e.js"><link rel="prefetch" href="/library/assets/js/232.f8c5f26d.js"><link rel="prefetch" href="/library/assets/js/233.fa1560a3.js"><link rel="prefetch" href="/library/assets/js/234.09d8d445.js"><link rel="prefetch" href="/library/assets/js/235.2c071d96.js"><link rel="prefetch" href="/library/assets/js/236.ba5e957f.js"><link rel="prefetch" href="/library/assets/js/237.14200654.js"><link rel="prefetch" href="/library/assets/js/238.1d8d30b2.js"><link rel="prefetch" href="/library/assets/js/239.0c68d880.js"><link rel="prefetch" href="/library/assets/js/24.c7a44af8.js"><link rel="prefetch" href="/library/assets/js/240.d318090d.js"><link rel="prefetch" href="/library/assets/js/241.1a25d983.js"><link rel="prefetch" href="/library/assets/js/242.63157959.js"><link rel="prefetch" href="/library/assets/js/243.58ad3e5e.js"><link rel="prefetch" href="/library/assets/js/244.a20f4a5f.js"><link rel="prefetch" href="/library/assets/js/245.8dc58cde.js"><link rel="prefetch" href="/library/assets/js/246.9faca0c8.js"><link rel="prefetch" href="/library/assets/js/247.199f9dc3.js"><link rel="prefetch" href="/library/assets/js/248.9c4ace1d.js"><link rel="prefetch" href="/library/assets/js/249.8b081e43.js"><link rel="prefetch" href="/library/assets/js/25.e4c183c2.js"><link rel="prefetch" href="/library/assets/js/250.74c66edb.js"><link rel="prefetch" href="/library/assets/js/251.8392c65a.js"><link rel="prefetch" href="/library/assets/js/252.56883ad4.js"><link rel="prefetch" href="/library/assets/js/253.d23f44f7.js"><link rel="prefetch" href="/library/assets/js/254.acc47664.js"><link rel="prefetch" href="/library/assets/js/255.a09e3b0d.js"><link rel="prefetch" href="/library/assets/js/256.87c464a6.js"><link rel="prefetch" href="/library/assets/js/257.3cc28b57.js"><link rel="prefetch" href="/library/assets/js/258.bc8a4a3b.js"><link rel="prefetch" href="/library/assets/js/259.b7828e40.js"><link rel="prefetch" href="/library/assets/js/26.e17f5cc8.js"><link rel="prefetch" href="/library/assets/js/260.6b904687.js"><link rel="prefetch" href="/library/assets/js/261.e60bb76b.js"><link rel="prefetch" href="/library/assets/js/262.b87398cb.js"><link rel="prefetch" href="/library/assets/js/263.0a5b6f23.js"><link rel="prefetch" href="/library/assets/js/264.a3e25fca.js"><link rel="prefetch" href="/library/assets/js/265.833416ad.js"><link rel="prefetch" href="/library/assets/js/266.cdc6130f.js"><link rel="prefetch" href="/library/assets/js/267.5023b6d9.js"><link rel="prefetch" href="/library/assets/js/268.2b613f24.js"><link rel="prefetch" href="/library/assets/js/269.b6223b81.js"><link rel="prefetch" href="/library/assets/js/27.ef02da94.js"><link rel="prefetch" href="/library/assets/js/270.a2a5b3bc.js"><link rel="prefetch" href="/library/assets/js/271.fc7bf8dd.js"><link rel="prefetch" href="/library/assets/js/272.ef8e0d44.js"><link rel="prefetch" href="/library/assets/js/273.e902b84d.js"><link rel="prefetch" href="/library/assets/js/274.c4c868b7.js"><link rel="prefetch" href="/library/assets/js/275.35207bda.js"><link rel="prefetch" href="/library/assets/js/276.4dfab852.js"><link rel="prefetch" href="/library/assets/js/277.14beba2d.js"><link rel="prefetch" href="/library/assets/js/278.aa47f6a3.js"><link rel="prefetch" href="/library/assets/js/279.c09658c5.js"><link rel="prefetch" href="/library/assets/js/28.05abf7d2.js"><link rel="prefetch" href="/library/assets/js/280.b79139d7.js"><link rel="prefetch" href="/library/assets/js/281.3080f632.js"><link rel="prefetch" href="/library/assets/js/282.41e41e42.js"><link rel="prefetch" href="/library/assets/js/283.b8244f8c.js"><link rel="prefetch" href="/library/assets/js/284.0d6e353e.js"><link rel="prefetch" href="/library/assets/js/285.288d83a9.js"><link rel="prefetch" href="/library/assets/js/286.7061d2e7.js"><link rel="prefetch" href="/library/assets/js/287.7a2437a0.js"><link rel="prefetch" href="/library/assets/js/288.723e8a93.js"><link rel="prefetch" href="/library/assets/js/289.fc5dd195.js"><link rel="prefetch" href="/library/assets/js/29.6fdbc6a3.js"><link rel="prefetch" href="/library/assets/js/290.3dc35e22.js"><link rel="prefetch" href="/library/assets/js/291.a7096824.js"><link rel="prefetch" href="/library/assets/js/292.22148d3e.js"><link rel="prefetch" href="/library/assets/js/293.138b9640.js"><link rel="prefetch" href="/library/assets/js/294.7196ebdb.js"><link rel="prefetch" href="/library/assets/js/295.881b3eed.js"><link rel="prefetch" href="/library/assets/js/296.0cc7bde0.js"><link rel="prefetch" href="/library/assets/js/297.f9fdc06e.js"><link rel="prefetch" href="/library/assets/js/298.10cc7cf3.js"><link rel="prefetch" href="/library/assets/js/299.53a7c3c1.js"><link rel="prefetch" href="/library/assets/js/30.839da2b9.js"><link rel="prefetch" href="/library/assets/js/300.2bc0f562.js"><link rel="prefetch" href="/library/assets/js/301.dc374cbb.js"><link rel="prefetch" href="/library/assets/js/302.5f7f212e.js"><link rel="prefetch" href="/library/assets/js/303.cfd35edb.js"><link rel="prefetch" href="/library/assets/js/304.148c6084.js"><link rel="prefetch" href="/library/assets/js/305.16e27bcf.js"><link rel="prefetch" href="/library/assets/js/306.3c1d762b.js"><link rel="prefetch" href="/library/assets/js/307.cdee7203.js"><link rel="prefetch" href="/library/assets/js/308.894755cc.js"><link rel="prefetch" href="/library/assets/js/309.e9456f5e.js"><link rel="prefetch" href="/library/assets/js/31.64f12c7c.js"><link rel="prefetch" href="/library/assets/js/310.0e5b5ff9.js"><link rel="prefetch" href="/library/assets/js/311.5a29f304.js"><link rel="prefetch" href="/library/assets/js/312.018b354b.js"><link rel="prefetch" href="/library/assets/js/313.dffde823.js"><link rel="prefetch" href="/library/assets/js/315.be1e81fa.js"><link rel="prefetch" href="/library/assets/js/316.240eeb57.js"><link rel="prefetch" href="/library/assets/js/317.72302ea2.js"><link rel="prefetch" href="/library/assets/js/318.786335c3.js"><link rel="prefetch" href="/library/assets/js/319.6d7359e8.js"><link rel="prefetch" href="/library/assets/js/32.ec63556c.js"><link rel="prefetch" href="/library/assets/js/320.5867c951.js"><link rel="prefetch" href="/library/assets/js/321.f5c10791.js"><link rel="prefetch" href="/library/assets/js/322.0f62f665.js"><link rel="prefetch" href="/library/assets/js/323.d7aa310f.js"><link rel="prefetch" href="/library/assets/js/324.3c831931.js"><link rel="prefetch" href="/library/assets/js/325.9094914e.js"><link rel="prefetch" href="/library/assets/js/326.85b7c1b0.js"><link rel="prefetch" href="/library/assets/js/327.734ed751.js"><link rel="prefetch" href="/library/assets/js/328.13f4f13f.js"><link rel="prefetch" href="/library/assets/js/329.859d5bec.js"><link rel="prefetch" href="/library/assets/js/33.b6c863d2.js"><link rel="prefetch" href="/library/assets/js/330.0b6330d3.js"><link rel="prefetch" href="/library/assets/js/331.d380ec93.js"><link rel="prefetch" href="/library/assets/js/332.42c8b8ee.js"><link rel="prefetch" href="/library/assets/js/333.58ba7721.js"><link rel="prefetch" href="/library/assets/js/334.b72b339d.js"><link rel="prefetch" href="/library/assets/js/335.0c45235b.js"><link rel="prefetch" href="/library/assets/js/336.313c0d95.js"><link rel="prefetch" href="/library/assets/js/337.b5c606f6.js"><link rel="prefetch" href="/library/assets/js/338.7b9392b8.js"><link rel="prefetch" href="/library/assets/js/339.f6ae3f46.js"><link rel="prefetch" href="/library/assets/js/34.a7172118.js"><link rel="prefetch" href="/library/assets/js/340.8ce5fe56.js"><link rel="prefetch" href="/library/assets/js/341.75625752.js"><link rel="prefetch" href="/library/assets/js/342.9d4a4911.js"><link rel="prefetch" href="/library/assets/js/343.d324459c.js"><link rel="prefetch" href="/library/assets/js/344.983f0c42.js"><link rel="prefetch" href="/library/assets/js/345.29e9a8c4.js"><link rel="prefetch" href="/library/assets/js/346.e6518638.js"><link rel="prefetch" href="/library/assets/js/347.1b90a24c.js"><link rel="prefetch" href="/library/assets/js/348.6011799e.js"><link rel="prefetch" href="/library/assets/js/35.3b102a3a.js"><link rel="prefetch" href="/library/assets/js/36.b93f48d7.js"><link rel="prefetch" href="/library/assets/js/37.aa5c1b37.js"><link rel="prefetch" href="/library/assets/js/38.a04bd1a3.js"><link rel="prefetch" href="/library/assets/js/39.262f3f3a.js"><link rel="prefetch" href="/library/assets/js/4.199097d6.js"><link rel="prefetch" href="/library/assets/js/40.3944e285.js"><link rel="prefetch" href="/library/assets/js/41.2108f316.js"><link rel="prefetch" href="/library/assets/js/42.df9176f5.js"><link rel="prefetch" href="/library/assets/js/43.cd60f1fa.js"><link rel="prefetch" href="/library/assets/js/44.e21946af.js"><link rel="prefetch" href="/library/assets/js/45.9e625b89.js"><link rel="prefetch" href="/library/assets/js/46.ac94ffe6.js"><link rel="prefetch" href="/library/assets/js/47.5c5d8461.js"><link rel="prefetch" href="/library/assets/js/48.31fd1d2b.js"><link rel="prefetch" href="/library/assets/js/49.b2899988.js"><link rel="prefetch" href="/library/assets/js/5.05556a24.js"><link rel="prefetch" href="/library/assets/js/50.ebad0923.js"><link rel="prefetch" href="/library/assets/js/51.1db2fcef.js"><link rel="prefetch" href="/library/assets/js/52.a04da892.js"><link rel="prefetch" href="/library/assets/js/53.95fbb6e5.js"><link rel="prefetch" href="/library/assets/js/54.bf254df1.js"><link rel="prefetch" href="/library/assets/js/55.043f26e0.js"><link rel="prefetch" href="/library/assets/js/56.4cc1508a.js"><link rel="prefetch" href="/library/assets/js/57.bbc88254.js"><link rel="prefetch" href="/library/assets/js/58.a3c4da9b.js"><link rel="prefetch" href="/library/assets/js/59.1133c66b.js"><link rel="prefetch" href="/library/assets/js/6.74a5fc8c.js"><link rel="prefetch" href="/library/assets/js/60.dd8ab9cd.js"><link rel="prefetch" href="/library/assets/js/61.b2fe795f.js"><link rel="prefetch" href="/library/assets/js/62.9f352ef6.js"><link rel="prefetch" href="/library/assets/js/63.321364d1.js"><link rel="prefetch" href="/library/assets/js/64.73efcf8a.js"><link rel="prefetch" href="/library/assets/js/65.e1b199b9.js"><link rel="prefetch" href="/library/assets/js/66.7b10aa9e.js"><link rel="prefetch" href="/library/assets/js/67.686ca636.js"><link rel="prefetch" href="/library/assets/js/68.d999f8d6.js"><link rel="prefetch" href="/library/assets/js/69.5efd95b7.js"><link rel="prefetch" href="/library/assets/js/7.03e822e0.js"><link rel="prefetch" href="/library/assets/js/70.b37d7c0e.js"><link rel="prefetch" href="/library/assets/js/71.04b3e332.js"><link rel="prefetch" href="/library/assets/js/72.55df738a.js"><link rel="prefetch" href="/library/assets/js/73.aa6aada3.js"><link rel="prefetch" href="/library/assets/js/74.27ce5aed.js"><link rel="prefetch" href="/library/assets/js/75.5f36250a.js"><link rel="prefetch" href="/library/assets/js/76.399e7f5c.js"><link rel="prefetch" href="/library/assets/js/77.eb4d9e40.js"><link rel="prefetch" href="/library/assets/js/78.c88b2248.js"><link rel="prefetch" href="/library/assets/js/79.21ba94bd.js"><link rel="prefetch" href="/library/assets/js/8.d6759edb.js"><link rel="prefetch" href="/library/assets/js/80.dfb215d8.js"><link rel="prefetch" href="/library/assets/js/81.368fafdb.js"><link rel="prefetch" href="/library/assets/js/82.42dc6cb8.js"><link rel="prefetch" href="/library/assets/js/83.7ff2b4a3.js"><link rel="prefetch" href="/library/assets/js/84.4d90e2b8.js"><link rel="prefetch" href="/library/assets/js/85.4eb31cb3.js"><link rel="prefetch" href="/library/assets/js/86.d6ed5df7.js"><link rel="prefetch" href="/library/assets/js/87.c518b04a.js"><link rel="prefetch" href="/library/assets/js/88.889cfc41.js"><link rel="prefetch" href="/library/assets/js/89.e9ad6009.js"><link rel="prefetch" href="/library/assets/js/9.69158b16.js"><link rel="prefetch" href="/library/assets/js/90.fe7d06a2.js"><link rel="prefetch" href="/library/assets/js/91.8eb607a5.js"><link rel="prefetch" href="/library/assets/js/92.03b9caef.js"><link rel="prefetch" href="/library/assets/js/93.20b2dae3.js"><link rel="prefetch" href="/library/assets/js/94.c2615c66.js"><link rel="prefetch" href="/library/assets/js/95.8b80469a.js"><link rel="prefetch" href="/library/assets/js/96.9e3fb3e3.js"><link rel="prefetch" href="/library/assets/js/97.f8f70de2.js"><link rel="prefetch" href="/library/assets/js/98.58b806ac.js"><link rel="prefetch" href="/library/assets/js/99.4c38ef26.js">
    <link rel="stylesheet" href="/library/assets/css/0.styles.e14e970c.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/library/" class="home-link router-link-active"><!----> <span class="site-name">余鸿靖的手册小站</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="手册" class="dropdown-title"><span class="title">手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/notebook/school/read.html" class="nav-link">
  校招面经
</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/jsTricks/read.html" class="nav-link">
  JS Tricks
</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/cssTricks/read.html" class="nav-link">
  CSS Tricks
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日常记录" class="dropdown-title"><span class="title">日常记录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/blog/article/read.html" class="nav-link">
  闲情随记
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/tools/read.html" class="nav-link">
  工具技巧
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/command/read.html" class="nav-link">
  命令整理
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/software/read.html" class="nav-link">
  必备软件
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/other/read.html" class="nav-link">
  文档综合
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识整理" class="dropdown-title"><span class="title">知识整理</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/knowledge/mindmap/read.html" class="nav-link">
  知识脑图
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/web/read.html" class="nav-link">
  前端知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/backend/read.html" class="nav-link">
  后端知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/database/read.html" class="nav-link">
  数据库知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/algorithm/read.html" class="nav-link">
  算法知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/structure/read.html" class="nav-link">
  数据结构知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/design/read.html" class="nav-link">
  设计模式知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/network/read.html" class="nav-link">
  网络知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/hard/read.html" class="nav-link">
  硬件知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/system/read.html" class="nav-link">
  操作系统知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/config/read.html" class="nav-link">
  环境配置
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/architecture/read.html" class="nav-link">
  项目架构
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/english/read.html" class="nav-link">
  英语知识
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码" class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/source/debugger/read.html" class="nav-link">
  调试
</a></li><li class="dropdown-item"><!----> <a href="/library/source/tool/read.html" class="nav-link">
  工具库
</a></li><li class="dropdown-item"><!----> <a href="/library/source/class/read.html" class="nav-link">
  类库
</a></li><li class="dropdown-item"><!----> <a href="/library/source/frame/read.html" class="nav-link">
  框架
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="阅读" class="dropdown-title"><span class="title">阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/readbook/technology/read.html" class="nav-link">
  技术书籍
</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/other/read.html" class="nav-link">
  其他书籍
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://pxy1996.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小裕博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://yuhongjing.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/yuhongjing/library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="手册" class="dropdown-title"><span class="title">手册</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/notebook/school/read.html" class="nav-link">
  校招面经
</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/jsTricks/read.html" class="nav-link">
  JS Tricks
</a></li><li class="dropdown-item"><!----> <a href="/library/notebook/cssTricks/read.html" class="nav-link">
  CSS Tricks
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="日常记录" class="dropdown-title"><span class="title">日常记录</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/blog/article/read.html" class="nav-link">
  闲情随记
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/tools/read.html" class="nav-link">
  工具技巧
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/command/read.html" class="nav-link">
  命令整理
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/software/read.html" class="nav-link">
  必备软件
</a></li><li class="dropdown-item"><!----> <a href="/library/blog/other/read.html" class="nav-link">
  文档综合
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="知识整理" class="dropdown-title"><span class="title">知识整理</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/knowledge/mindmap/read.html" class="nav-link">
  知识脑图
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/web/read.html" class="nav-link">
  前端知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/backend/read.html" class="nav-link">
  后端知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/database/read.html" class="nav-link">
  数据库知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/algorithm/read.html" class="nav-link">
  算法知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/structure/read.html" class="nav-link">
  数据结构知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/design/read.html" class="nav-link">
  设计模式知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/network/read.html" class="nav-link">
  网络知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/hard/read.html" class="nav-link">
  硬件知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/system/read.html" class="nav-link">
  操作系统知识
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/config/read.html" class="nav-link">
  环境配置
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/architecture/read.html" class="nav-link">
  项目架构
</a></li><li class="dropdown-item"><!----> <a href="/library/knowledge/english/read.html" class="nav-link">
  英语知识
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="源码" class="dropdown-title"><span class="title">源码</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/source/debugger/read.html" class="nav-link">
  调试
</a></li><li class="dropdown-item"><!----> <a href="/library/source/tool/read.html" class="nav-link">
  工具库
</a></li><li class="dropdown-item"><!----> <a href="/library/source/class/read.html" class="nav-link">
  类库
</a></li><li class="dropdown-item"><!----> <a href="/library/source/frame/read.html" class="nav-link">
  框架
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="阅读" class="dropdown-title"><span class="title">阅读</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/library/readbook/technology/read.html" class="nav-link">
  技术书籍
</a></li><li class="dropdown-item"><!----> <a href="/library/readbook/other/read.html" class="nav-link">
  其他书籍
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="友链" class="dropdown-title"><span class="title">友链</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://pxy1996.github.io/" target="_blank" rel="noopener noreferrer" class="nav-link external">
  小裕博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://yuhongjing.github.io" target="_blank" rel="noopener noreferrer" class="nav-link external">
  旧博客
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <a href="https://github.com/yuhongjing/library" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>工具库</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/library/source/tool/read.html" class="sidebar-link">介绍</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Lodash</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>jQuery</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/library/source/tool/jquery/read.html" class="sidebar-link">前言</a></li><li><a href="/library/source/tool/jquery/结构分析.html" class="sidebar-link">结构分析</a></li><li><a href="/library/source/tool/jquery/源码解析.html" class="active sidebar-link">源码解析</a></li></ul></section></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="源码解析"><a href="#源码解析" class="header-anchor">#</a> 源码解析</h1> <p>源码逐行解析，共1万多行。</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// 源码版本 v1.12.5-pre</span>
<span class="token comment">// 通过IIFE的方式，实现库代码与外部环境代码的隔离</span>
<span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">global<span class="token punctuation">,</span> factory</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token comment">// 支持CommandJS方式引用jQuery</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> module <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> module<span class="token punctuation">.</span>exports <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 查看当前环境是否存在document属性</span>
		module<span class="token punctuation">.</span>exports <span class="token operator">=</span> global<span class="token punctuation">.</span>document <span class="token operator">?</span>
		  <span class="token comment">// 因为模块化的原因，这里第二个参数传送了true</span>
      <span class="token comment">// 因此不会在global对象上绑定$和jQuery属性，仅返回jQuery函数</span>
      <span class="token comment">// var jQuery = require(&quot;jquery&quot;)(window);</span>
			<span class="token function">factory</span><span class="token punctuation">(</span>global<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">w</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Node.js环境则直接报错</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>w<span class="token punctuation">.</span>document<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span><span class="token string">&quot;jQuery requires a window with a document&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token function">factory</span><span class="token punctuation">(</span>w<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token function">factory</span><span class="token punctuation">(</span>global<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
  <span class="token comment">// TODO: window无定义的情况，传送this</span>
<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> window <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">?</span> window <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">window<span class="token punctuation">,</span> noGlobal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

<span class="token keyword">var</span> document <span class="token operator">=</span> window<span class="token punctuation">.</span>document<span class="token punctuation">;</span>

<span class="token comment">// 定义空数组，以便存储数组原型的四个方法：slice、concat、push、indexOf</span>
<span class="token keyword">var</span> deletedIds <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> slice <span class="token operator">=</span> deletedIds<span class="token punctuation">.</span>slice<span class="token punctuation">;</span>
<span class="token keyword">var</span> concat <span class="token operator">=</span> deletedIds<span class="token punctuation">.</span>concat<span class="token punctuation">;</span>
<span class="token keyword">var</span> push <span class="token operator">=</span> deletedIds<span class="token punctuation">.</span>push<span class="token punctuation">;</span>
<span class="token keyword">var</span> indexOf <span class="token operator">=</span> deletedIds<span class="token punctuation">.</span>indexOf<span class="token punctuation">;</span>

<span class="token comment">// 存储数据类型的对象</span>
<span class="token comment">// Boolean Number String Function Array Date RegExp Object Error Symbol</span>
<span class="token keyword">var</span> class2type <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token comment">// 存储对象原型方法</span>
<span class="token keyword">var</span> toString <span class="token operator">=</span> class2type<span class="token punctuation">.</span>toString<span class="token punctuation">;</span>
<span class="token keyword">var</span> hasOwn <span class="token operator">=</span> class2type<span class="token punctuation">.</span>hasOwnProperty<span class="token punctuation">;</span>

<span class="token keyword">var</span> support <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// jQuery版本</span>
<span class="token keyword">var</span> version <span class="token operator">=</span> <span class="token string">&quot;1.12.5-pre&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// 定义jQuery函数</span>
<span class="token keyword">var</span> <span class="token function-variable function">jQuery</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">selector<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 返回实例化的init函数，init函数原型就是jQuery的原型</span>
	<span class="token comment">// jQuery.fn.init.prototype = jQuery.fn;</span>
	<span class="token comment">// 因此无须new，就可以访问jQuery的原型方法了</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>init</span><span class="token punctuation">(</span>selector<span class="token punctuation">,</span> context<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 去除头尾空格，确保去除 BOM 和 $nbsp;</span>
<span class="token comment">// | 分隔的两部分是一模一样的，分别匹配头尾的空格</span>
<span class="token keyword">var</span> rtrim <span class="token operator">=</span> <span class="token regex">/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g</span><span class="token punctuation">;</span>

<span class="token comment">// 匹配 -ms- 前缀</span>
<span class="token keyword">var</span> rmsPrefix <span class="token operator">=</span> <span class="token regex">/^-ms-/</span><span class="token punctuation">;</span>
<span class="token comment">// 匹配 中划线字符，为了之后转驼峰时使用</span>
<span class="token comment">// 例如font-size转换为fontSize，这里匹配的-size</span>
<span class="token keyword">var</span> rdashAlpha <span class="token operator">=</span> <span class="token regex">/-([\da-z])/gi</span><span class="token punctuation">;</span>
<span class="token comment">// 字符首字母大写，为了之后转驼峰时使用</span>
<span class="token comment">// 将font-size形式转化为fontSize</span>
<span class="token keyword">var</span> <span class="token function-variable function">fcamelCase</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">all<span class="token punctuation">,</span> letter</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> letter<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 给jQuery原型prototype设置别名fn</span>
jQuery<span class="token punctuation">.</span>fn <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token comment">// 当前版本</span>
	jquery<span class="token operator">:</span> version<span class="token punctuation">,</span>
	<span class="token comment">// 构造函数</span>
	<span class="token comment">// jQuery.prototype.constructor = jQuery</span>
	constructor<span class="token operator">:</span> jQuery<span class="token punctuation">,</span>
	<span class="token comment">// 默认选择器为空</span>
	selector<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	<span class="token comment">// jQuery对象默认的长度为0</span>
	<span class="token comment">// 添加length属性，使得jQuery像类数组</span>
	length<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>
  <span class="token comment">// 将jQuery对象转换为数组类型</span>
	<span class="token function-variable function">toArray</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 获取索引为 num 的元素</span>
	<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">num</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> num <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span>
			<span class="token comment">// num为正数，则从左到右返回第num位元素</span>
			<span class="token comment">// num为负数，则从右到左返回第num为元素</span>
			<span class="token punctuation">(</span>num <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">[</span>num <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">[</span>num<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token comment">// 没传入num，则返回jQuery对象</span>
			<span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 将一个DOM元素集合推入到jQuery栈</span>
	<span class="token function-variable function">pushStack</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elems</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 构建一个新的jQuery对象，无参的this.constructor()，会直接返回引用this</span>
		<span class="token comment">// 将elems节点，合并到新的jQuery对象上</span>
		<span class="token keyword">var</span> ret <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> elems<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// 上一对象的prevObject指向新的jQuery对象</span>
		ret<span class="token punctuation">.</span>prevObject <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
		ret<span class="token punctuation">.</span>context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context<span class="token punctuation">;</span>
		<span class="token comment">// 返回新构建的jQuery对象</span>
		<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// Execute a callback for every element in the matched set.</span>
	<span class="token function-variable function">each</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> callback<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">map</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span>jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elem<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>elem<span class="token punctuation">,</span> i<span class="token punctuation">,</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">slice</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 获取jQuery对象第一个元素</span>
	<span class="token function-variable function">first</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 获取jQuery对象最后一个元素</span>
	<span class="token function-variable function">last</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span><span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 获取jQuery对象第i个元素</span>
	<span class="token function-variable function">eq</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			j <span class="token operator">=</span> <span class="token operator">+</span>i <span class="token operator">+</span> <span class="token punctuation">(</span>i <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> len <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span>j <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> j <span class="token operator">&lt;</span> len <span class="token operator">?</span> <span class="token punctuation">[</span><span class="token keyword">this</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">end</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevObject <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">constructor</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 获取数组原型的一些方法，供内部使用</span>
	push<span class="token operator">:</span> push<span class="token punctuation">,</span>
	sort<span class="token operator">:</span> deletedIds<span class="token punctuation">.</span>sort<span class="token punctuation">,</span>
	splice<span class="token operator">:</span> deletedIds<span class="token punctuation">.</span>splice
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 扩展合并函数</span>
<span class="token comment">// 合并两个或多个对象的属性到第一个目标对象上</span>
<span class="token comment">// jQuery后续的大部分功能都通过该函数扩展</span>
<span class="token comment">// 当然，我们也可以通过此方法来扩展jQuery，编写插件</span>
jQuery<span class="token punctuation">.</span>extend <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">extend</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> src<span class="token punctuation">,</span> copyIsArray<span class="token punctuation">,</span> copy<span class="token punctuation">,</span> name<span class="token punctuation">,</span> options<span class="token punctuation">,</span> clone<span class="token punctuation">,</span>
		target <span class="token operator">=</span> arguments<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
		length <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
		deep <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

	<span class="token comment">// 深拷贝</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		deep <span class="token operator">=</span> target<span class="token punctuation">;</span>
		<span class="token comment">// 如果存在深拷贝标识，则第二个参数为目标对象</span>
		target <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		i<span class="token operator">++</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 处理目标对象不是对象类型或函数类型的情况</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> target <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>target<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		target <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// 如果只有一个参数，则为扩展jQuery类，相当于jQuery静态方法</span>
	<span class="token comment">// 此参数则表示复制源对象</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token operator">===</span> length<span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 目标对象为jQuery</span>
		target <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
		i<span class="token operator">--</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

  <span class="token comment">// 遍历复制源对象（合并多个复制源对象到目标对象上）</span>
	<span class="token comment">// i可能是1或2（深递归）</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// 复制源不能为undefined或null</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token punctuation">(</span>options <span class="token operator">=</span> arguments<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 遍历复制源的所有属性名</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>name <span class="token keyword">in</span> options<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				src <span class="token operator">=</span> target<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
				copy <span class="token operator">=</span> options<span class="token punctuation">[</span>name<span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token comment">// 处理闭环情况</span>
        <span class="token comment">// 例如 extend(true, target, {'target': target});</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>target <span class="token operator">===</span> copy<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">continue</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// 递归拷贝</span>
				<span class="token comment">// 如果deep为true、复制属性值有效且复制值为纯对象或数组时，将进行深拷贝</span>
				<span class="token comment">// 纯对象指字面量&quot;{}&quot;或&quot;new Object&quot;创建的对象</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>deep <span class="token operator">&amp;&amp;</span> copy <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>jQuery<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span> <span class="token operator">||</span>
					<span class="token punctuation">(</span>copyIsArray <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>copy<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          <span class="token comment">// 根据复制属性值的类型，约束目标属性的值</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span>copyIsArray<span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token comment">// 处理复制属性为数组的情况</span>
						copyIsArray <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
						<span class="token comment">// 获取相应目标属性值是否存在</span>
						<span class="token comment">// 存在，查看属性值是否为数组，否则置为空数组</span>
						<span class="token comment">// 不存在，置为空数组</span>
						clone <span class="token operator">=</span> src <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">?</span> src <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						<span class="token comment">// 处理复制属性为对象的情况</span>
						<span class="token comment">// 与数组处理一样，只不过置为了空对象</span>
						clone <span class="token operator">=</span> src <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span>src<span class="token punctuation">)</span> <span class="token operator">?</span> src <span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token comment">// 递归调用，将复制源属性复制到目标对象上</span>
					target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>deep<span class="token punctuation">,</span> clone<span class="token punctuation">,</span> copy<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>copy <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">// 处理简单类型的值</span>
					target<span class="token punctuation">[</span>name<span class="token punctuation">]</span> <span class="token operator">=</span> copy<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token comment">// 返回修改后的对象</span>
	<span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// 扩展jQuery类，添加一些工具函数</span>
jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
	<span class="token comment">// 产生jQuery随机数，例如jQuery112502992235424613312</span>
	expando<span class="token operator">:</span> <span class="token string">&quot;jQuery&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span>version <span class="token operator">+</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\D/g</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token comment">// Assume jQuery is ready without the ready module</span>
	isReady<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
	<span class="token function-variable function">error</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">msg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span>msg<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">noop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">isFunction</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	isArray<span class="token operator">:</span> Array<span class="token punctuation">.</span>isArray <span class="token operator">||</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;array&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">isWindow</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> obj <span class="token operator">==</span> obj<span class="token punctuation">.</span>window<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">isNumeric</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> realStringObj <span class="token operator">=</span> obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span><span class="token function">toString</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>realStringObj <span class="token operator">-</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span>realStringObj<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 是否空对象</span>
	<span class="token function-variable function">isEmptyObject</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> name<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span>name <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">isPlainObject</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> key<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>obj <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> obj<span class="token punctuation">.</span>nodeType <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor <span class="token operator">&amp;&amp;</span>
				<span class="token operator">!</span><span class="token function">hasOwn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> <span class="token string">&quot;constructor&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				<span class="token operator">!</span><span class="token function">hasOwn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">.</span>constructor<span class="token punctuation">.</span>prototype<span class="token punctuation">,</span> <span class="token string">&quot;isPrototypeOf&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>support<span class="token punctuation">.</span>ownFirst<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>key <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token function">hasOwn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> key <span class="token keyword">in</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

		<span class="token keyword">return</span> key <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> <span class="token function">hasOwn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// object或function类型，通过Object.prototype.toString.call来进一步精准分析类型</span>
	<span class="token comment">// 普通类型时，直接typeof即可</span>
	<span class="token function-variable function">type</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>obj <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> obj <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> obj <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">?</span>
			class2type<span class="token punctuation">[</span><span class="token function">toString</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">:</span>
			<span class="token keyword">typeof</span> obj<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 全局作用域下的eval方法</span>
	<span class="token function-variable function">globalEval</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>data <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token punctuation">(</span>window<span class="token punctuation">.</span>execScript <span class="token operator">||</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">data</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				window<span class="token punctuation">[</span><span class="token string">&quot;eval&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>window<span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>data<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 驼峰表示法，font-size转为fontSize</span>
	<span class="token function-variable function">camelCase</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">string</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> string<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>rmsPrefix<span class="token punctuation">,</span> <span class="token string">&quot;ms-&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>rdashAlpha<span class="token punctuation">,</span> fcamelCase<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 判断elem节点是否存在name属性名</span>
	<span class="token function-variable function">nodeName</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elem<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> elem<span class="token punctuation">.</span>nodeName <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 遍历数组或对象，并依次执行回调函数</span>
	<span class="token comment">// 当callback返回false时，会中断循环</span>
	<span class="token function-variable function">each</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> callback</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> length<span class="token punctuation">,</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArrayLike</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			length <span class="token operator">=</span> obj<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> obj<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> obj<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> obj<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 去除字符串两端空格</span>
	<span class="token function-variable function">trim</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">text</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> text <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token punctuation">(</span>text <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>rtrim<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 类数组转换为数组</span>
	<span class="token function-variable function">makeArray</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">arr<span class="token punctuation">,</span> results</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> ret <span class="token operator">=</span> results <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArrayLike</span><span class="token punctuation">(</span><span class="token function">Object</span><span class="token punctuation">(</span>arr<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span>
					<span class="token keyword">typeof</span> arr <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span>
					<span class="token punctuation">[</span>arr<span class="token punctuation">]</span> <span class="token operator">:</span> arr
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>ret<span class="token punctuation">,</span> arr<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 类似Array.findIndex，寻找对应元素下标</span>
	<span class="token function-variable function">inArray</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elem<span class="token punctuation">,</span> arr<span class="token punctuation">,</span> i</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> len<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span>arr<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>indexOf<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arr<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			len <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			i <span class="token operator">=</span> i <span class="token operator">?</span> i <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> len <span class="token operator">+</span> i<span class="token punctuation">)</span> <span class="token operator">:</span> i <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// 过滤稀疏数组元素</span>
				<span class="token comment">// 例如 const arr = []; arr[1] = 1;</span>
				<span class="token comment">// 这里就会过滤掉arr[0]</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> arr <span class="token operator">&amp;&amp;</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> elem<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> i<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// first与second参数都为(类)数组类型</span>
  <span class="token comment">// 修改first数组，在first数组后追加second数组</span>
	<span class="token function-variable function">merge</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">first<span class="token punctuation">,</span> second</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> len <span class="token operator">=</span> <span class="token operator">+</span>second<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> first<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

    <span class="token comment">// 将second数组的值，依次放入first数组后</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span>j <span class="token operator">&lt;</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			first<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> second<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

    <span class="token comment">// 支持低于IE9的浏览器，其Array.length为NaN</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span>len <span class="token operator">!==</span> len<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 这里会存在问题，假如数组值为undefined时，则后面的值就会被过滤</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span>second<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				first<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> second<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		first<span class="token punctuation">.</span>length <span class="token operator">=</span> i<span class="token punctuation">;</span>

		<span class="token keyword">return</span> first<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 类似Array.filter，查找满足条件的元素</span>
	<span class="token function-variable function">grep</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elems<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> invert</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> callbackInverse<span class="token punctuation">,</span>
			matches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			length <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			<span class="token comment">// 强制转为boolean值</span>
			<span class="token comment">// 为true时，保留不满足条件的值</span>
			<span class="token comment">// 为false时，保留满足条件的值</span>
			callbackExpect <span class="token operator">=</span> <span class="token operator">!</span>invert<span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// 与callbackExpect意义保持一致</span>
			<span class="token comment">// callback满足为false，不满足为true</span>
			callbackInverse <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">callback</span><span class="token punctuation">(</span>elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span>callbackInverse <span class="token operator">!==</span> callbackExpect<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				matches<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> matches<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 类似Array.map，此方法还支持对象，callback为false时会中断循环</span>
	<span class="token function-variable function">map</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">elems<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> arg</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> length<span class="token punctuation">,</span> value<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			ret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// 数组</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">isArrayLike</span><span class="token punctuation">(</span>elems<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			length <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				value <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span>elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					ret<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token comment">// 对象</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span>i <span class="token keyword">in</span> elems<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				value <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">(</span>elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> arg<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span>value <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					ret<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> ret<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token comment">// 全局计数器</span>
	guid<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>
	<span class="token comment">// 接受一个函数，返回一个新函数，此新函数上下文被指定为新对象</span>
	<span class="token comment">// fn 将要改变上下文的函数</span>
	<span class="token comment">// context 上下文对象</span>
	<span class="token function-variable function">proxy</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">fn<span class="token punctuation">,</span> context</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> args<span class="token punctuation">,</span> proxy<span class="token punctuation">,</span> tmp<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> context <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tmp <span class="token operator">=</span> fn<span class="token punctuation">[</span>context<span class="token punctuation">]</span><span class="token punctuation">;</span>
			context <span class="token operator">=</span> fn<span class="token punctuation">;</span>
			fn <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// fn必须为函数</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span>fn<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// 截取fn，context后的参数，并组成数组</span>
		args <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">,</span> <span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token function-variable function">proxy</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>context <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>arguments<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		proxy<span class="token punctuation">.</span>guid <span class="token operator">=</span> fn<span class="token punctuation">.</span>guid <span class="token operator">=</span> fn<span class="token punctuation">.</span>guid <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>guid<span class="token operator">++</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> proxy<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token comment">// 返回当前时间戳</span>
	<span class="token function-variable function">now</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">+</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	support<span class="token operator">:</span> support
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token keyword">typeof</span> Symbol <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span> <span class="token operator">=</span> deletedIds<span class="token punctuation">[</span>Symbol<span class="token punctuation">.</span>iterator<span class="token punctuation">]</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// 存储数据类型在class2type对象中</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span><span class="token string">&quot;Boolean Number String Function Array Date RegExp Object Error Symbol&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">i<span class="token punctuation">,</span> name</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	class2type<span class="token punctuation">[</span><span class="token string">&quot;[object &quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// 判断是否为类数组</span>
<span class="token keyword">function</span> <span class="token function">isArrayLike</span><span class="token punctuation">(</span><span class="token parameter">obj</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">// 是否存在length属性</span>
	<span class="token keyword">var</span> length <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>obj <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;length&quot;</span> <span class="token keyword">in</span> obj <span class="token operator">&amp;&amp;</span> obj<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
		type <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span>type <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> type <span class="token operator">===</span> <span class="token string">&quot;array&quot;</span> <span class="token operator">||</span> length <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">||</span>
		<span class="token keyword">typeof</span> length <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">&amp;&amp;</span> length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token keyword">in</span> obj<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token comment">// Sizzle引擎</span>
<span class="token comment">// 接下来两千行全部都是Sizzle引擎</span>
<span class="token keyword">var</span> Sizzle <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">window</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> i<span class="token punctuation">,</span>
		support<span class="token punctuation">,</span> <span class="token comment">// 浏览器对于原生方法是否支持</span>
		Expr<span class="token punctuation">,</span> <span class="token comment">// 记录跟选择器相关的属性以及操作</span>
		getText<span class="token punctuation">,</span>
		isXML<span class="token punctuation">,</span> <span class="token comment">// 是否XML</span>
		tokenize<span class="token punctuation">,</span>
		compile<span class="token punctuation">,</span> <span class="token comment">// 编译函数机制</span>
		select<span class="token punctuation">,</span>
		outermostContext<span class="token punctuation">,</span> <span class="token comment">// 最大的上下文环境</span>
		sortInput<span class="token punctuation">,</span>
		hasDuplicate<span class="token punctuation">,</span>

		<span class="token comment">// Local document vars</span>
		setDocument<span class="token punctuation">,</span>
		document<span class="token punctuation">,</span>
		docElem<span class="token punctuation">,</span>
		documentIsHTML<span class="token punctuation">,</span>
		rbuggyQSA<span class="token punctuation">,</span>
		rbuggyMatches<span class="token punctuation">,</span>
		matches<span class="token punctuation">,</span>
		contains<span class="token punctuation">,</span>

		<span class="token comment">// Instance-specific data</span>
		expando <span class="token operator">=</span> <span class="token string">&quot;sizzle&quot;</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">*</span> <span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		preferredDoc <span class="token operator">=</span> window<span class="token punctuation">.</span>document<span class="token punctuation">,</span>
		dirruns <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		done <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		classCache <span class="token operator">=</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		tokenCache <span class="token operator">=</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		compilerCache <span class="token operator">=</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">sortOrder</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">a<span class="token punctuation">,</span> b</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">===</span> b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				hasDuplicate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">// General-purpose constants</span>
		<span class="token constant">MAX_NEGATIVE</span> <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">&lt;&lt;</span> <span class="token number">31</span><span class="token punctuation">,</span>

		<span class="token comment">// Instance methods</span>
		hasOwn <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">.</span>hasOwnProperty<span class="token punctuation">,</span>
		arr <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		pop <span class="token operator">=</span> arr<span class="token punctuation">.</span>pop<span class="token punctuation">,</span>
		push_native <span class="token operator">=</span> arr<span class="token punctuation">.</span>push<span class="token punctuation">,</span>
		push <span class="token operator">=</span> arr<span class="token punctuation">.</span>push<span class="token punctuation">,</span>
		slice <span class="token operator">=</span> arr<span class="token punctuation">.</span>slice<span class="token punctuation">,</span>
		<span class="token comment">// Use a stripped-down indexOf as it's faster than native</span>
		<span class="token comment">// http://jsperf.com/thor-indexof-vs-for/5</span>
		<span class="token function-variable function">indexOf</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">list<span class="token punctuation">,</span> elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
				len <span class="token operator">=</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> list<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> i<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		booleans <span class="token operator">=</span> <span class="token string">&quot;checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped&quot;</span><span class="token punctuation">,</span>

		<span class="token comment">// Regular expressions</span>

		<span class="token comment">// http://www.w3.org/TR/css3-selectors/#whitespace</span>
		whitespace <span class="token operator">=</span> <span class="token string">&quot;[\\x20\\t\\r\\n\\f]&quot;</span><span class="token punctuation">,</span>

		<span class="token comment">// http://www.w3.org/TR/CSS21/syndata.html#value-def-identifier</span>
		identifier <span class="token operator">=</span> <span class="token string">&quot;(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+&quot;</span><span class="token punctuation">,</span>

		<span class="token comment">// Attribute selectors: http://www.w3.org/TR/selectors/#attribute-selectors</span>
		attributes <span class="token operator">=</span> <span class="token string">&quot;\\[&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*(&quot;</span> <span class="token operator">+</span> identifier <span class="token operator">+</span> <span class="token string">&quot;)(?:&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span>
			<span class="token comment">// Operator (capture 2)</span>
			<span class="token string">&quot;*([*^$|!~]?=)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span>
			<span class="token comment">// &quot;Attribute values must be CSS identifiers [capture 5] or strings [capture 3 or capture 4]&quot;</span>
			<span class="token string">&quot;*(?:'((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;|(&quot;</span> <span class="token operator">+</span> identifier <span class="token operator">+</span> <span class="token string">&quot;))|)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span>
			<span class="token string">&quot;*\\]&quot;</span><span class="token punctuation">,</span>

		pseudos <span class="token operator">=</span> <span class="token string">&quot;:(&quot;</span> <span class="token operator">+</span> identifier <span class="token operator">+</span> <span class="token string">&quot;)(?:\\((&quot;</span> <span class="token operator">+</span>
			<span class="token comment">// To reduce the number of selectors needing tokenize in the preFilter, prefer arguments:</span>
			<span class="token comment">// 1. quoted (capture 3; capture 4 or capture 5)</span>
			<span class="token string">&quot;('((?:\\\\.|[^\\\\'])*)'|\&quot;((?:\\\\.|[^\\\\\&quot;])*)\&quot;)|&quot;</span> <span class="token operator">+</span>
			<span class="token comment">// 2. simple (capture 6)</span>
			<span class="token string">&quot;((?:\\\\.|[^\\\\()[\\]]|&quot;</span> <span class="token operator">+</span> attributes <span class="token operator">+</span> <span class="token string">&quot;)*)|&quot;</span> <span class="token operator">+</span>
			<span class="token comment">// 3. anything else (capture 2)</span>
			<span class="token string">&quot;.*&quot;</span> <span class="token operator">+</span>
			<span class="token string">&quot;)\\)|)&quot;</span><span class="token punctuation">,</span>

		<span class="token comment">// Leading and non-escaped trailing whitespace, capturing some non-whitespace characters preceding the latter</span>
		rwhitespace <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;+&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		rtrim <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;+|((?:^|[^\\\\])(?:\\\\.)*)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;+$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

		rcomma <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*,&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		rcombinators <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*([&gt;+~]|&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

		rattributeQuotes <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*([^\\]'\&quot;]*?)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*\\]&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;g&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

		rpseudo <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> pseudos <span class="token punctuation">)</span><span class="token punctuation">,</span>
		ridentifier <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^&quot;</span> <span class="token operator">+</span> identifier <span class="token operator">+</span> <span class="token string">&quot;$&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

		matchExpr <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;ID&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^#(&quot;</span> <span class="token operator">+</span> identifier <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string">&quot;CLASS&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^\\.(&quot;</span> <span class="token operator">+</span> identifier <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string">&quot;TAG&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^(&quot;</span> <span class="token operator">+</span> identifier <span class="token operator">+</span> <span class="token string">&quot;|[*])&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string">&quot;ATTR&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^&quot;</span> <span class="token operator">+</span> attributes <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string">&quot;PSEUDO&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^&quot;</span> <span class="token operator">+</span> pseudos <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string">&quot;CHILD&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span>
				<span class="token string">&quot;*(even|odd|(([+-]|)(\\d*)n|)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*(?:([+-]|)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span>
				<span class="token string">&quot;*(\\d+)|))&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*\\)|)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token string">&quot;bool&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^(?:&quot;</span> <span class="token operator">+</span> booleans <span class="token operator">+</span> <span class="token string">&quot;)$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token comment">// For use in libraries implementing .is()</span>
			<span class="token comment">// We use this for POS matching in `select`</span>
			<span class="token string">&quot;needsContext&quot;</span><span class="token operator">:</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*[&gt;+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(&quot;</span> <span class="token operator">+</span>
				whitespace <span class="token operator">+</span> <span class="token string">&quot;*((?:-\\d)?\\d*)&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*\\)|)(?=[^-]|$)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span> <span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		rinputs <span class="token operator">=</span> <span class="token regex">/^(?:input|select|textarea|button)$/i</span><span class="token punctuation">,</span>
		rheader <span class="token operator">=</span> <span class="token regex">/^h\d$/i</span><span class="token punctuation">,</span>

		rnative <span class="token operator">=</span> <span class="token regex">/^[^{]+\{\s*\[native \w/</span><span class="token punctuation">,</span>

		<span class="token comment">// Easily-parseable/retrievable ID or TAG or CLASS selectors</span>
		rquickExpr <span class="token operator">=</span> <span class="token regex">/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/</span><span class="token punctuation">,</span>

		rsibling <span class="token operator">=</span> <span class="token regex">/[+~]/</span><span class="token punctuation">,</span>
		rescape <span class="token operator">=</span> <span class="token regex">/'|\\/g</span><span class="token punctuation">,</span>

		<span class="token comment">// CSS escapes http://www.w3.org/TR/CSS21/syndata.html#escaped-characters</span>
		runescape <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;\\\\([\\da-f]{1,6}&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;?|(&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;)|.)&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ig&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">funescape</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> escaped<span class="token punctuation">,</span> escapedWhitespace</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> high <span class="token operator">=</span> <span class="token string">&quot;0x&quot;</span> <span class="token operator">+</span> escaped <span class="token operator">-</span> <span class="token number">0x10000</span><span class="token punctuation">;</span>
			<span class="token comment">// NaN means non-codepoint</span>
			<span class="token comment">// Support: Firefox&lt;24</span>
			<span class="token comment">// Workaround erroneous numeric interpretation of +&quot;0x&quot;</span>
			<span class="token keyword">return</span> high <span class="token operator">!==</span> high <span class="token operator">||</span> escapedWhitespace <span class="token operator">?</span>
				escaped <span class="token operator">:</span>
				high <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
					<span class="token comment">// BMP codepoint</span>
					String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span> high <span class="token operator">+</span> <span class="token number">0x10000</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token comment">// Supplemental Plane codepoint (surrogate pair)</span>
					String<span class="token punctuation">.</span><span class="token function">fromCharCode</span><span class="token punctuation">(</span> high <span class="token operator">&gt;&gt;</span> <span class="token number">10</span> <span class="token operator">|</span> <span class="token number">0xD800</span><span class="token punctuation">,</span> high <span class="token operator">&amp;</span> <span class="token number">0x3FF</span> <span class="token operator">|</span> <span class="token number">0xDC00</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">// Used for iframes</span>
		<span class="token comment">// See setDocument()</span>
		<span class="token comment">// Removing the function wrapper causes a &quot;Permission Denied&quot;</span>
		<span class="token comment">// error in IE</span>
		<span class="token function-variable function">unloadHandler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Optimize for push.apply( _, NodeList )</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span>
			<span class="token punctuation">(</span>arr <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> preferredDoc<span class="token punctuation">.</span>childNodes <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			preferredDoc<span class="token punctuation">.</span>childNodes
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token comment">// Support: Android&lt;4.0</span>
		<span class="token comment">// Detect silently failing push.apply</span>
		arr<span class="token punctuation">[</span> preferredDoc<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length <span class="token punctuation">]</span><span class="token punctuation">.</span>nodeType<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		push <span class="token operator">=</span> <span class="token punctuation">{</span> apply<span class="token operator">:</span> arr<span class="token punctuation">.</span>length <span class="token operator">?</span>

			<span class="token comment">// Leverage slice if possible</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">target<span class="token punctuation">,</span> els</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">push_native</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> target<span class="token punctuation">,</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>els<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token operator">:</span>

			<span class="token comment">// Support: IE&lt;9</span>
			<span class="token comment">// Otherwise append directly</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">target<span class="token punctuation">,</span> els</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> j <span class="token operator">=</span> target<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
					i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token comment">// Can't trust NodeList.length</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>target<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span> <span class="token operator">=</span> els<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
				target<span class="token punctuation">.</span>length <span class="token operator">=</span> j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">Sizzle</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> context<span class="token punctuation">,</span> results<span class="token punctuation">,</span> seed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> m<span class="token punctuation">,</span> i<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> nid<span class="token punctuation">,</span> nidselect<span class="token punctuation">,</span> match<span class="token punctuation">,</span> groups<span class="token punctuation">,</span> newSelector<span class="token punctuation">,</span>
			newContext <span class="token operator">=</span> context <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span>

			<span class="token comment">// nodeType defaults to 9, since context defaults to document</span>
			nodeType <span class="token operator">=</span> context <span class="token operator">?</span> context<span class="token punctuation">.</span>nodeType <span class="token operator">:</span> <span class="token number">9</span><span class="token punctuation">;</span>

		results <span class="token operator">=</span> results <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Return early from calls with invalid selector or context</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> selector <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">||</span> <span class="token operator">!</span>selector <span class="token operator">||</span>
			nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nodeType <span class="token operator">!==</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> nodeType <span class="token operator">!==</span> <span class="token number">11</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token keyword">return</span> results<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Try to shortcut find operations (as opposed to filters) in HTML documents</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>seed <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> context <span class="token operator">?</span> context<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> context <span class="token operator">:</span> preferredDoc <span class="token punctuation">)</span> <span class="token operator">!==</span> document <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">setDocument</span><span class="token punctuation">(</span> context <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			context <span class="token operator">=</span> context <span class="token operator">||</span> document<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> documentIsHTML <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// If the selector is sufficiently simple, try using a &quot;get*By*&quot; DOM method</span>
				<span class="token comment">// (excepting DocumentFragment context, where the methods don't exist)</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> nodeType <span class="token operator">!==</span> <span class="token number">11</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>match <span class="token operator">=</span> rquickExpr<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// ID selector</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>m <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Document context</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> m <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

								<span class="token comment">// Support: IE, Opera, Webkit</span>
								<span class="token comment">// TODO: identify versions</span>
								<span class="token comment">// getElementById can match elements by name instead of ID</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>id <span class="token operator">===</span> m <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
									<span class="token keyword">return</span> results<span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
								<span class="token keyword">return</span> results<span class="token punctuation">;</span>
							<span class="token punctuation">}</span>

						<span class="token comment">// Element context</span>
						<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

							<span class="token comment">// Support: IE, Opera, Webkit</span>
							<span class="token comment">// TODO: identify versions</span>
							<span class="token comment">// getElementById can match elements by name instead of ID</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> newContext <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> newContext<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> m <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
								<span class="token function">contains</span><span class="token punctuation">(</span> context<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
								elem<span class="token punctuation">.</span>id <span class="token operator">===</span> m <span class="token punctuation">)</span> <span class="token punctuation">{</span>

								results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token keyword">return</span> results<span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>

					<span class="token comment">// Type selector</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> results<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">return</span> results<span class="token punctuation">;</span>

					<span class="token comment">// Class selector</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>m <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> support<span class="token punctuation">.</span>getElementsByClassName <span class="token operator">&amp;&amp;</span>
						context<span class="token punctuation">.</span>getElementsByClassName <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> results<span class="token punctuation">,</span> context<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span> m <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">return</span> results<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Take advantage of querySelectorAll</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> support<span class="token punctuation">.</span>qsa <span class="token operator">&amp;&amp;</span>
					<span class="token operator">!</span>compilerCache<span class="token punctuation">[</span> selector <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span><span class="token operator">!</span>rbuggyQSA <span class="token operator">||</span> <span class="token operator">!</span>rbuggyQSA<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						newContext <span class="token operator">=</span> context<span class="token punctuation">;</span>
						newSelector <span class="token operator">=</span> selector<span class="token punctuation">;</span>

					<span class="token comment">// qSA looks outside Element context, which is not what we want</span>
					<span class="token comment">// Thanks to Andrew Dupont for this workaround technique</span>
					<span class="token comment">// Support: IE &lt;=8</span>
					<span class="token comment">// Exclude object elements</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> context<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Capture the context ID, setting it first if necessary</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>nid <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							nid <span class="token operator">=</span> nid<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rescape<span class="token punctuation">,</span> <span class="token string">&quot;\\$&amp;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
							context<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;id&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>nid <span class="token operator">=</span> expando<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Prefix every selector in the list</span>
						groups <span class="token operator">=</span> <span class="token function">tokenize</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
						i <span class="token operator">=</span> groups<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
						nidselect <span class="token operator">=</span> ridentifier<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> nid <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;#&quot;</span> <span class="token operator">+</span> nid <span class="token operator">:</span> <span class="token string">&quot;[id='&quot;</span> <span class="token operator">+</span> nid <span class="token operator">+</span> <span class="token string">&quot;']&quot;</span><span class="token punctuation">;</span>
						<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							groups<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> nidselect <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token function">toSelector</span><span class="token punctuation">(</span> groups<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
						newSelector <span class="token operator">=</span> groups<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;,&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

						<span class="token comment">// Expand context for sibling selectors</span>
						newContext <span class="token operator">=</span> rsibling<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">testContext</span><span class="token punctuation">(</span> context<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token operator">||</span>
							context<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> newSelector <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">try</span> <span class="token punctuation">{</span>
							<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> results<span class="token punctuation">,</span>
								newContext<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span> newSelector <span class="token punctuation">)</span>
							<span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token keyword">return</span> results<span class="token punctuation">;</span>
						<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> qsaError <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> nid <span class="token operator">===</span> expando <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								context<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;id&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// All others</span>
		<span class="token keyword">return</span> <span class="token function">select</span><span class="token punctuation">(</span> selector<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rtrim<span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> results<span class="token punctuation">,</span> seed <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Create key-value caches of limited size
	* @returns {function(string, object)} Returns the Object data after storing it on itself with
	*	property name the (space-suffixed) string and (if the cache is larger than Expr.cacheLength)
	*	deleting the oldest entry
	*/</span>
	<span class="token keyword">function</span> <span class="token function">createCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> keys <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">function</span> <span class="token function">cache</span><span class="token punctuation">(</span> <span class="token parameter">key<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// Use (key + &quot; &quot;) to avoid collision with native prototype properties (see Issue #157)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> keys<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> key <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span> <span class="token operator">&gt;</span> Expr<span class="token punctuation">.</span>cacheLength <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Only keep the most recent entries</span>
				<span class="token keyword">delete</span> cache<span class="token punctuation">[</span> keys<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span>cache<span class="token punctuation">[</span> key <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> cache<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Mark a function for special use by Sizzle
	* @param {Function} fn The function to mark
	*/</span>
	<span class="token keyword">function</span> <span class="token function">markFunction</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fn<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> fn<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Support testing using an element
	* @param {Function} fn Passed the created div and expects a boolean result
	*/</span>
	<span class="token keyword">function</span> <span class="token function">assert</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">try</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token function">fn</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">finally</span> <span class="token punctuation">{</span>
			<span class="token comment">// Remove from its parent by default</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> div<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				div<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token comment">// release memory in IE</span>
			div <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Adds the same handler for all of the specified attrs
	* @param {String} attrs Pipe-separated list of attributes
	* @param {Function} handler The method that will be applied
	*/</span>
	<span class="token keyword">function</span> <span class="token function">addHandle</span><span class="token punctuation">(</span> <span class="token parameter">attrs<span class="token punctuation">,</span> handler</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> arr <span class="token operator">=</span> attrs<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;|&quot;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> arr<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

		<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Expr<span class="token punctuation">.</span>attrHandle<span class="token punctuation">[</span> arr<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> handler<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Checks document order of two siblings
	* @param {Element} a
	* @param {Element} b
	* @returns {Number} Returns less than 0 if a precedes b, greater than 0 if a follows b
	*/</span>
	<span class="token keyword">function</span> <span class="token function">siblingCheck</span><span class="token punctuation">(</span> <span class="token parameter">a<span class="token punctuation">,</span> b</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> cur <span class="token operator">=</span> b <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">,</span>
			diff <span class="token operator">=</span> cur <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> <span class="token operator">~</span>b<span class="token punctuation">.</span>sourceIndex <span class="token operator">||</span> <span class="token constant">MAX_NEGATIVE</span> <span class="token punctuation">)</span> <span class="token operator">-</span>
				<span class="token punctuation">(</span> <span class="token operator">~</span>a<span class="token punctuation">.</span>sourceIndex <span class="token operator">||</span> <span class="token constant">MAX_NEGATIVE</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Use IE sourceIndex if available on both nodes</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> diff <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> diff<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Check if b follows a</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> cur <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>nextSibling<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> cur <span class="token operator">===</span> b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> a <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Returns a function to use in pseudos for input types
	* @param {String} type
	*/</span>
	<span class="token keyword">function</span> <span class="token function">createInputPseudo</span><span class="token punctuation">(</span> <span class="token parameter">type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> name <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> name <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>type <span class="token operator">===</span> type<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Returns a function to use in pseudos for buttons
	* @param {String} type
	*/</span>
	<span class="token keyword">function</span> <span class="token function">createButtonPseudo</span><span class="token punctuation">(</span> <span class="token parameter">type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> name <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span>name <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token operator">||</span> name <span class="token operator">===</span> <span class="token string">&quot;button&quot;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>type <span class="token operator">===</span> type<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Returns a function to use in pseudos for positionals
	* @param {Function} fn
	*/</span>
	<span class="token keyword">function</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">argument</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			argument <span class="token operator">=</span> <span class="token operator">+</span>argument<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">seed<span class="token punctuation">,</span> matches</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> j<span class="token punctuation">,</span>
					matchIndexes <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> seed<span class="token punctuation">.</span>length<span class="token punctuation">,</span> argument <span class="token punctuation">)</span><span class="token punctuation">,</span>
					i <span class="token operator">=</span> matchIndexes<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

				<span class="token comment">// Match elements found at the specified indexes</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> seed<span class="token punctuation">[</span> <span class="token punctuation">(</span>j <span class="token operator">=</span> matchIndexes<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						seed<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">!</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> seed<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">/**
	* Checks a node for validity as a Sizzle context
	* @param {Element|Object=} context
	* @returns {Element|Object|Boolean} The input node if acceptable, otherwise a falsy value
	*/</span>
	<span class="token keyword">function</span> <span class="token function">testContext</span><span class="token punctuation">(</span> <span class="token parameter">context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> context <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> context<span class="token punctuation">.</span>getElementsByTagName <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Expose support vars for convenience</span>
	support <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span>support <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	* Detects XML nodes
	* @param {Element|Object} elem An element or a document
	* @returns {Boolean} True iff elem is a non-HTML XML node
	*/</span>
	isXML <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span><span class="token function-variable function">isXML</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// documentElement is verified for cases where it doesn't yet exist</span>
		<span class="token comment">// (such as loading iframes in IE - #4833)</span>
		<span class="token keyword">var</span> documentElement <span class="token operator">=</span> elem <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>elem<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> elem<span class="token punctuation">)</span><span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
		<span class="token keyword">return</span> documentElement <span class="token operator">?</span> documentElement<span class="token punctuation">.</span>nodeName <span class="token operator">!==</span> <span class="token string">&quot;HTML&quot;</span> <span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	* Sets document-related variables once based on the current document
	* @param {Element|Object} [doc] An element or document object to use to set the document
	* @returns {Object} Returns the current document
	*/</span>
	setDocument <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span><span class="token function-variable function">setDocument</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">node</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> hasCompare<span class="token punctuation">,</span> parent<span class="token punctuation">,</span>
			doc <span class="token operator">=</span> node <span class="token operator">?</span> node<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> node <span class="token operator">:</span> preferredDoc<span class="token punctuation">;</span>

		<span class="token comment">// Return early if doc is invalid or already selected</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> doc <span class="token operator">===</span> document <span class="token operator">||</span> doc<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">9</span> <span class="token operator">||</span> <span class="token operator">!</span>doc<span class="token punctuation">.</span>documentElement <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> document<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Update global variables</span>
		document <span class="token operator">=</span> doc<span class="token punctuation">;</span>
		docElem <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
		documentIsHTML <span class="token operator">=</span> <span class="token operator">!</span><span class="token function">isXML</span><span class="token punctuation">(</span> document <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Support: IE 9-11, Edge</span>
		<span class="token comment">// Accessing iframe documents after unload throws &quot;permission denied&quot; errors (jQuery #13936)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>parent <span class="token operator">=</span> document<span class="token punctuation">.</span>defaultView<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>top <span class="token operator">!==</span> parent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// Support: IE 11</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> parent<span class="token punctuation">.</span>addEventListener <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				parent<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;unload&quot;</span><span class="token punctuation">,</span> unloadHandler<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Support: IE 9 - 10 only</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> parent<span class="token punctuation">.</span>attachEvent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				parent<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span> <span class="token string">&quot;onunload&quot;</span><span class="token punctuation">,</span> unloadHandler <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">/* Attributes
		---------------------------------------------------------------------- */</span>

		<span class="token comment">// Support: IE&lt;8</span>
		<span class="token comment">// Verify that getAttribute really returns attributes and not properties</span>
		<span class="token comment">// (excepting IE8 booleans)</span>
		support<span class="token punctuation">.</span>attributes <span class="token operator">=</span> <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			div<span class="token punctuation">.</span>className <span class="token operator">=</span> <span class="token string">&quot;i&quot;</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;className&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">/* getElement(s)By*
		---------------------------------------------------------------------- */</span>

		<span class="token comment">// Check if getElementsByTagName(&quot;*&quot;) returns only elements</span>
		support<span class="token punctuation">.</span>getElementsByTagName <span class="token operator">=</span> <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span><span class="token function">createComment</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span><span class="token string">&quot;*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Support: IE&lt;9</span>
		support<span class="token punctuation">.</span>getElementsByClassName <span class="token operator">=</span> rnative<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span>getElementsByClassName <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Support: IE&lt;10</span>
		<span class="token comment">// Check if getElementById returns elements by name</span>
		<span class="token comment">// The broken getElementById methods don't pick up programatically-set names,</span>
		<span class="token comment">// so use a roundabout getElementsByName test</span>
		support<span class="token punctuation">.</span>getById <span class="token operator">=</span> <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			docElem<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">.</span>id <span class="token operator">=</span> expando<span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token operator">!</span>document<span class="token punctuation">.</span>getElementsByName <span class="token operator">||</span> <span class="token operator">!</span>document<span class="token punctuation">.</span><span class="token function">getElementsByName</span><span class="token punctuation">(</span> expando <span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// ID find and filter</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> support<span class="token punctuation">.</span>getById <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Expr<span class="token punctuation">.</span>find<span class="token punctuation">[</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">id<span class="token punctuation">,</span> context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> context<span class="token punctuation">.</span>getElementById <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">&amp;&amp;</span> documentIsHTML <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> m <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> id <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> m <span class="token operator">?</span> <span class="token punctuation">[</span> m <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
			Expr<span class="token punctuation">.</span>filter<span class="token punctuation">[</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">id</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> attrId <span class="token operator">=</span> id<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> attrId<span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token comment">// Support: IE6/7</span>
			<span class="token comment">// getElementById is not reliable as a find shortcut</span>
			<span class="token keyword">delete</span> Expr<span class="token punctuation">.</span>find<span class="token punctuation">[</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

			Expr<span class="token punctuation">.</span>filter<span class="token punctuation">[</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span>  <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">id</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> attrId <span class="token operator">=</span> id<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> node <span class="token operator">=</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">.</span>getAttributeNode <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">&amp;&amp;</span>
						elem<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> node <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>value <span class="token operator">===</span> attrId<span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Tag</span>
		Expr<span class="token punctuation">.</span>find<span class="token punctuation">[</span><span class="token string">&quot;TAG&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> support<span class="token punctuation">.</span>getElementsByTagName <span class="token operator">?</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">tag<span class="token punctuation">,</span> context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> context<span class="token punctuation">.</span>getElementsByTagName <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> tag <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// DocumentFragment nodes don't have gEBTN</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> support<span class="token punctuation">.</span>qsa <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span> tag <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token operator">:</span>

			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">tag<span class="token punctuation">,</span> context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> elem<span class="token punctuation">,</span>
					tmp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
					i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
					<span class="token comment">// By happy coincidence, a (broken) gEBTN appears on DocumentFragment nodes too</span>
					results <span class="token operator">=</span> context<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> tag <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Filter out possible comments</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> tag <span class="token operator">===</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> results<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							tmp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token keyword">return</span> tmp<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> results<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Class</span>
		Expr<span class="token punctuation">.</span>find<span class="token punctuation">[</span><span class="token string">&quot;CLASS&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> support<span class="token punctuation">.</span>getElementsByClassName <span class="token operator">&amp;&amp;</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">className<span class="token punctuation">,</span> context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> context<span class="token punctuation">.</span>getElementsByClassName <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">&amp;&amp;</span> documentIsHTML <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> context<span class="token punctuation">.</span><span class="token function">getElementsByClassName</span><span class="token punctuation">(</span> className <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">/* QSA/matchesSelector
		---------------------------------------------------------------------- */</span>

		<span class="token comment">// QSA and matchesSelector support</span>

		<span class="token comment">// matchesSelector(:active) reports false when true (IE9/Opera 11.5)</span>
		rbuggyMatches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// qSa(:focus) reports false when true (Chrome 21)</span>
		<span class="token comment">// We allow this because of a bug in IE8/9 that throws an error</span>
		<span class="token comment">// whenever `document.activeElement` is accessed on an iframe</span>
		<span class="token comment">// So, we allow :focus to pass through QSA all the time to avoid the IE error</span>
		<span class="token comment">// See http://bugs.jquery.com/ticket/13378</span>
		rbuggyQSA <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>support<span class="token punctuation">.</span>qsa <span class="token operator">=</span> rnative<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span>querySelectorAll <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// Build QSA regex</span>
			<span class="token comment">// Regex strategy adopted from Diego Perini</span>
			<span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Select is set to empty string on purpose</span>
				<span class="token comment">// This is to test IE's treatment of not explicitly</span>
				<span class="token comment">// setting a boolean content attribute,</span>
				<span class="token comment">// since its presence should be enough</span>
				<span class="token comment">// http://bugs.jquery.com/ticket/12359</span>
				docElem<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;a id='&quot;</span> <span class="token operator">+</span> expando <span class="token operator">+</span> <span class="token string">&quot;'&gt;&lt;/a&gt;&quot;</span> <span class="token operator">+</span>
					<span class="token string">&quot;&lt;select id='&quot;</span> <span class="token operator">+</span> expando <span class="token operator">+</span> <span class="token string">&quot;-\r\\' msallowcapture=''&gt;&quot;</span> <span class="token operator">+</span>
					<span class="token string">&quot;&lt;option selected=''&gt;&lt;/option&gt;&lt;/select&gt;&quot;</span><span class="token punctuation">;</span>

				<span class="token comment">// Support: IE8, Opera 11-12.16</span>
				<span class="token comment">// Nothing should be selected when empty strings follow ^= or $= or *=</span>
				<span class="token comment">// The test attribute must be unknown in Opera but &quot;safe&quot; for WinRT</span>
				<span class="token comment">// http://msdn.microsoft.com/en-us/library/ie/hh465388.aspx#attribute_section</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;[msallowcapture^='']&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">&quot;[*^$]=&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*(?:''|\&quot;\&quot;)&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Support: IE8</span>
				<span class="token comment">// Boolean attributes and &quot;value&quot; are not treated correctly</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;[selected]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">&quot;\\[&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*(?:value|&quot;</span> <span class="token operator">+</span> booleans <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Support: Chrome&lt;29, Android&lt;4.4, Safari&lt;7.0+, iOS&lt;7.0+, PhantomJS&lt;1.9.8+</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span> <span class="token string">&quot;[id~=&quot;</span> <span class="token operator">+</span> expando <span class="token operator">+</span> <span class="token string">&quot;-]&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;~=&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Webkit/Opera - :checked should return selected option elements</span>
				<span class="token comment">// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked</span>
				<span class="token comment">// IE8 throws error here and will not see later tests</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;:checked&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;:checked&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Support: Safari 8+, iOS 8+</span>
				<span class="token comment">// https://bugs.webkit.org/show_bug.cgi?id=136851</span>
				<span class="token comment">// In-page `selector#id sibing-combinator selector` fails</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span> <span class="token string">&quot;a#&quot;</span> <span class="token operator">+</span> expando <span class="token operator">+</span> <span class="token string">&quot;+*&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;.#.+[+~]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Support: Windows 8 Native Apps</span>
				<span class="token comment">// The type and name attributes are restricted during .innerHTML assignment</span>
				<span class="token keyword">var</span> input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;input&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				input<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hidden&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> input <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;D&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Support: IE8</span>
				<span class="token comment">// Enforce case-sensitivity of name attribute</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;[name=d]&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">&quot;name&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;*[*^$|!~]?=&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// FF 3.5 - :enabled/:disabled and hidden elements (hidden elements are still enabled)</span>
				<span class="token comment">// IE8 throws error here and will not see later tests</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;:enabled&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">&quot;:enabled&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;:disabled&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Opera 10-11 does not throw on post-comma invalid pseudos</span>
				div<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span><span class="token string">&quot;*,:x&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				rbuggyQSA<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;,.*:&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>support<span class="token punctuation">.</span>matchesSelector <span class="token operator">=</span> rnative<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>matches <span class="token operator">=</span> docElem<span class="token punctuation">.</span>matches <span class="token operator">||</span>
			docElem<span class="token punctuation">.</span>webkitMatchesSelector <span class="token operator">||</span>
			docElem<span class="token punctuation">.</span>mozMatchesSelector <span class="token operator">||</span>
			docElem<span class="token punctuation">.</span>oMatchesSelector <span class="token operator">||</span>
			docElem<span class="token punctuation">.</span>msMatchesSelector<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Check to see if it's possible to do matchesSelector</span>
				<span class="token comment">// on a disconnected node (IE 9)</span>
				support<span class="token punctuation">.</span>disconnectedMatch <span class="token operator">=</span> <span class="token function">matches</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> div<span class="token punctuation">,</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// This should fail with an exception</span>
				<span class="token comment">// Gecko does not error, returns false instead</span>
				<span class="token function">matches</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> div<span class="token punctuation">,</span> <span class="token string">&quot;[s!='']:x&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				rbuggyMatches<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token string">&quot;!=&quot;</span><span class="token punctuation">,</span> pseudos <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		rbuggyQSA <span class="token operator">=</span> rbuggyQSA<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> rbuggyQSA<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;|&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		rbuggyMatches <span class="token operator">=</span> rbuggyMatches<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> rbuggyMatches<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;|&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">/* Contains
		---------------------------------------------------------------------- */</span>
		hasCompare <span class="token operator">=</span> rnative<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> docElem<span class="token punctuation">.</span>compareDocumentPosition <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Element contains another</span>
		<span class="token comment">// Purposefully self-exclusive</span>
		<span class="token comment">// As in, an element does not contain itself</span>
		contains <span class="token operator">=</span> hasCompare <span class="token operator">||</span> rnative<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> docElem<span class="token punctuation">.</span>contains <span class="token punctuation">)</span> <span class="token operator">?</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">a<span class="token punctuation">,</span> b</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> adown <span class="token operator">=</span> a<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token operator">?</span> a<span class="token punctuation">.</span>documentElement <span class="token operator">:</span> a<span class="token punctuation">,</span>
					bup <span class="token operator">=</span> b <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
				<span class="token keyword">return</span> a <span class="token operator">===</span> bup <span class="token operator">||</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span> bup <span class="token operator">&amp;&amp;</span> bup<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>
					adown<span class="token punctuation">.</span>contains <span class="token operator">?</span>
						adown<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> bup <span class="token punctuation">)</span> <span class="token operator">:</span>
						a<span class="token punctuation">.</span>compareDocumentPosition <span class="token operator">&amp;&amp;</span> a<span class="token punctuation">.</span><span class="token function">compareDocumentPosition</span><span class="token punctuation">(</span> bup <span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">16</span>
				<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token operator">:</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">a<span class="token punctuation">,</span> b</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>b <span class="token operator">=</span> b<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> b <span class="token operator">===</span> a <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">/* Sorting
		---------------------------------------------------------------------- */</span>

		<span class="token comment">// Document order sorting</span>
		sortOrder <span class="token operator">=</span> hasCompare <span class="token operator">?</span>
		<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">a<span class="token punctuation">,</span> b</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Flag for duplicate removal</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">===</span> b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				hasDuplicate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Sort on method existence if only one input has compareDocumentPosition</span>
			<span class="token keyword">var</span> compare <span class="token operator">=</span> <span class="token operator">!</span>a<span class="token punctuation">.</span>compareDocumentPosition <span class="token operator">-</span> <span class="token operator">!</span>b<span class="token punctuation">.</span>compareDocumentPosition<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> compare <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> compare<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Calculate position if both inputs belong to the same document</span>
			compare <span class="token operator">=</span> <span class="token punctuation">(</span> a<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> a <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token punctuation">(</span> b<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> b <span class="token punctuation">)</span> <span class="token operator">?</span>
				a<span class="token punctuation">.</span><span class="token function">compareDocumentPosition</span><span class="token punctuation">(</span> b <span class="token punctuation">)</span> <span class="token operator">:</span>

				<span class="token comment">// Otherwise we know they are disconnected</span>
				<span class="token number">1</span><span class="token punctuation">;</span>

			<span class="token comment">// Disconnected nodes</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> compare <span class="token operator">&amp;</span> <span class="token number">1</span> <span class="token operator">||</span>
				<span class="token punctuation">(</span><span class="token operator">!</span>support<span class="token punctuation">.</span>sortDetached <span class="token operator">&amp;&amp;</span> b<span class="token punctuation">.</span><span class="token function">compareDocumentPosition</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span> <span class="token operator">===</span> compare<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Choose the first element that is related to our preferred document</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">===</span> document <span class="token operator">||</span> a<span class="token punctuation">.</span>ownerDocument <span class="token operator">===</span> preferredDoc <span class="token operator">&amp;&amp;</span> <span class="token function">contains</span><span class="token punctuation">(</span>preferredDoc<span class="token punctuation">,</span> a<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> b <span class="token operator">===</span> document <span class="token operator">||</span> b<span class="token punctuation">.</span>ownerDocument <span class="token operator">===</span> preferredDoc <span class="token operator">&amp;&amp;</span> <span class="token function">contains</span><span class="token punctuation">(</span>preferredDoc<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Maintain original order</span>
				<span class="token keyword">return</span> sortInput <span class="token operator">?</span>
					<span class="token punctuation">(</span> <span class="token function">indexOf</span><span class="token punctuation">(</span> sortInput<span class="token punctuation">,</span> a <span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">indexOf</span><span class="token punctuation">(</span> sortInput<span class="token punctuation">,</span> b <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> compare <span class="token operator">&amp;</span> <span class="token number">4</span> <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token operator">:</span>
		<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">a<span class="token punctuation">,</span> b</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// Exit early if the nodes are identical</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> a <span class="token operator">===</span> b <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				hasDuplicate <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">var</span> cur<span class="token punctuation">,</span>
				i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
				aup <span class="token operator">=</span> a<span class="token punctuation">.</span>parentNode<span class="token punctuation">,</span>
				bup <span class="token operator">=</span> b<span class="token punctuation">.</span>parentNode<span class="token punctuation">,</span>
				ap <span class="token operator">=</span> <span class="token punctuation">[</span> a <span class="token punctuation">]</span><span class="token punctuation">,</span>
				bp <span class="token operator">=</span> <span class="token punctuation">[</span> b <span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token comment">// Parentless nodes are either documents or disconnected</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>aup <span class="token operator">||</span> <span class="token operator">!</span>bup <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> a <span class="token operator">===</span> document <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>
					b <span class="token operator">===</span> document <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span>
					aup <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>
					bup <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span>
					sortInput <span class="token operator">?</span>
					<span class="token punctuation">(</span> <span class="token function">indexOf</span><span class="token punctuation">(</span> sortInput<span class="token punctuation">,</span> a <span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token function">indexOf</span><span class="token punctuation">(</span> sortInput<span class="token punctuation">,</span> b <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token comment">// If the nodes are siblings, we can do a quick check</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> aup <span class="token operator">===</span> bup <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token function">siblingCheck</span><span class="token punctuation">(</span> a<span class="token punctuation">,</span> b <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Otherwise we need full lists of their ancestors for comparison</span>
			cur <span class="token operator">=</span> a<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				ap<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			cur <span class="token operator">=</span> b<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				bp<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Walk down the tree looking for a discrepancy</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> ap<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> bp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				i<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> i <span class="token operator">?</span>
				<span class="token comment">// Do a sibling check if the nodes have a common ancestor</span>
				<span class="token function">siblingCheck</span><span class="token punctuation">(</span> ap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> bp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">:</span>

				<span class="token comment">// Otherwise nodes in our document sort first</span>
				ap<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> preferredDoc <span class="token operator">?</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>
				bp<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">===</span> preferredDoc <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span>
				<span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> document<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	Sizzle<span class="token punctuation">.</span><span class="token function-variable function">matches</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">expr<span class="token punctuation">,</span> elements</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">Sizzle</span><span class="token punctuation">(</span> expr<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> elements <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	Sizzle<span class="token punctuation">.</span><span class="token function-variable function">matchesSelector</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> expr</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Set document vars if needed</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> elem <span class="token punctuation">)</span> <span class="token operator">!==</span> document <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setDocument</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Make sure that attribute selectors are quoted</span>
		expr <span class="token operator">=</span> expr<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rattributeQuotes<span class="token punctuation">,</span> <span class="token string">&quot;='$1']&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> support<span class="token punctuation">.</span>matchesSelector <span class="token operator">&amp;&amp;</span> documentIsHTML <span class="token operator">&amp;&amp;</span>
			<span class="token operator">!</span>compilerCache<span class="token punctuation">[</span> expr <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
			<span class="token punctuation">(</span> <span class="token operator">!</span>rbuggyMatches <span class="token operator">||</span> <span class="token operator">!</span>rbuggyMatches<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> expr <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
			<span class="token punctuation">(</span> <span class="token operator">!</span>rbuggyQSA     <span class="token operator">||</span> <span class="token operator">!</span>rbuggyQSA<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> expr <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">matches</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> expr <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// IE 9's matchesSelector returns false on disconnected nodes</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">||</span> support<span class="token punctuation">.</span>disconnectedMatch <span class="token operator">||</span>
						<span class="token comment">// As well, disconnected nodes are said to be in a document</span>
						<span class="token comment">// fragment in IE 9</span>
						elem<span class="token punctuation">.</span>document <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>document<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">11</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span>e<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">Sizzle</span><span class="token punctuation">(</span> expr<span class="token punctuation">,</span> document<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> elem <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	Sizzle<span class="token punctuation">.</span><span class="token function-variable function">contains</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">context<span class="token punctuation">,</span> elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Set document vars if needed</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> context<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> context <span class="token punctuation">)</span> <span class="token operator">!==</span> document <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setDocument</span><span class="token punctuation">(</span> context <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token function">contains</span><span class="token punctuation">(</span> context<span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	Sizzle<span class="token punctuation">.</span><span class="token function-variable function">attr</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Set document vars if needed</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> elem <span class="token punctuation">)</span> <span class="token operator">!==</span> document <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setDocument</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">var</span> fn <span class="token operator">=</span> Expr<span class="token punctuation">.</span>attrHandle<span class="token punctuation">[</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token comment">// Don't get fooled by Object.prototype properties (jQuery #13807)</span>
			val <span class="token operator">=</span> fn <span class="token operator">&amp;&amp;</span> <span class="token function">hasOwn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> Expr<span class="token punctuation">.</span>attrHandle<span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">?</span>
				<span class="token function">fn</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token operator">!</span>documentIsHTML <span class="token punctuation">)</span> <span class="token operator">:</span>
				<span class="token keyword">undefined</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> val <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
			val <span class="token operator">:</span>
			support<span class="token punctuation">.</span>attributes <span class="token operator">||</span> <span class="token operator">!</span>documentIsHTML <span class="token operator">?</span>
				elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token operator">:</span>
				<span class="token punctuation">(</span>val <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span>name<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span>specified <span class="token operator">?</span>
					val<span class="token punctuation">.</span>value <span class="token operator">:</span>
					<span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	Sizzle<span class="token punctuation">.</span><span class="token function-variable function">error</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">msg</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">throw</span> <span class="token keyword">new</span> <span class="token class-name">Error</span><span class="token punctuation">(</span> <span class="token string">&quot;Syntax error, unrecognized expression: &quot;</span> <span class="token operator">+</span> msg <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	* Document sorting and removing duplicates
	* @param {ArrayLike} results
	*/</span>
	Sizzle<span class="token punctuation">.</span><span class="token function-variable function">uniqueSort</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">results</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> elem<span class="token punctuation">,</span>
			duplicates <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

		<span class="token comment">// Unless we *know* we can detect duplicates, assume their presence</span>
		hasDuplicate <span class="token operator">=</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>detectDuplicates<span class="token punctuation">;</span>
		sortInput <span class="token operator">=</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>sortStable <span class="token operator">&amp;&amp;</span> results<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		results<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span> sortOrder <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> hasDuplicate <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> results<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> elem <span class="token operator">===</span> results<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					j <span class="token operator">=</span> duplicates<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> j<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				results<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> duplicates<span class="token punctuation">[</span> j <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Clear input after sorting to release objects</span>
		<span class="token comment">// See https://github.com/jquery/sizzle/pull/225</span>
		sortInput <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> results<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	* Utility function for retrieving the text value of an array of DOM nodes
	* @param {Array|Element} elem
	*/</span>
	getText <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span><span class="token function-variable function">getText</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> node<span class="token punctuation">,</span>
			ret <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			nodeType <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>nodeType <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// If no nodeType, this is expected to be an array</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>node <span class="token operator">=</span> elem<span class="token punctuation">[</span>i<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Do not traverse comment nodes</span>
				ret <span class="token operator">+=</span> <span class="token function">getText</span><span class="token punctuation">(</span> node <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token operator">||</span> nodeType <span class="token operator">===</span> <span class="token number">11</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// Use textContent for elements</span>
			<span class="token comment">// innerText usage removed for consistency of new lines (jQuery #11153)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">.</span>textContent <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span>textContent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token comment">// Traverse its children</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span> elem<span class="token punctuation">;</span> elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>nextSibling <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					ret <span class="token operator">+=</span> <span class="token function">getText</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> nodeType <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">||</span> nodeType <span class="token operator">===</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> elem<span class="token punctuation">.</span>nodeValue<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token comment">// Do not include comment or processing instruction nodes</span>

		<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	Expr <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span>selectors <span class="token operator">=</span> <span class="token punctuation">{</span>

		<span class="token comment">// Can be adjusted by the user</span>
		cacheLength<span class="token operator">:</span> <span class="token number">50</span><span class="token punctuation">,</span>

		createPseudo<span class="token operator">:</span> markFunction<span class="token punctuation">,</span>

		match<span class="token operator">:</span> matchExpr<span class="token punctuation">,</span>

		attrHandle<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

		find<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

		relative<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;&gt;&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> dir<span class="token operator">:</span> <span class="token string">&quot;parentNode&quot;</span><span class="token punctuation">,</span> first<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token string">&quot; &quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> dir<span class="token operator">:</span> <span class="token string">&quot;parentNode&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token string">&quot;+&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> dir<span class="token operator">:</span> <span class="token string">&quot;previousSibling&quot;</span><span class="token punctuation">,</span> first<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token string">&quot;~&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span> dir<span class="token operator">:</span> <span class="token string">&quot;previousSibling&quot;</span> <span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		preFilter<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;ATTR&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">match</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Move the given value to match[3] whether quoted or unquoted</span>
				match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">||</span> match<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">||</span> match<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;~=&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> match<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;CHILD&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">match</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">/* matches from matchExpr[&quot;CHILD&quot;]
					1 type (only|nth|...)
					2 what (child|of-type)
					3 argument (even|odd|\d*|\d*n([+-]\d+)?|...)
					4 xn-component of xn+y argument ([+-]?\d*n|)
					5 sign of xn-component
					6 x of xn-component
					7 sign of y-component
					8 y of y-component
				*/</span>
				match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;nth&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">// nth-* requires argument</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						Sizzle<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// numeric x and y parameters for Expr.filter.CHILD</span>
					<span class="token comment">// remember that false/true cast respectively to 0/1</span>
					match<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">+</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">?</span> match<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token punctuation">(</span>match<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token operator">*</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;even&quot;</span> <span class="token operator">||</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;odd&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					match<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">+</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">7</span><span class="token punctuation">]</span> <span class="token operator">+</span> match<span class="token punctuation">[</span><span class="token number">8</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">||</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;odd&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// other types prohibit arguments</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					Sizzle<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> match<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;PSEUDO&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">match</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> excess<span class="token punctuation">,</span>
					unquoted <span class="token operator">=</span> <span class="token operator">!</span>match<span class="token punctuation">[</span><span class="token number">6</span><span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> matchExpr<span class="token punctuation">[</span><span class="token string">&quot;CHILD&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Accept quoted arguments as-is</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">3</span><span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">4</span><span class="token punctuation">]</span> <span class="token operator">||</span> match<span class="token punctuation">[</span><span class="token number">5</span><span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

				<span class="token comment">// Strip excess characters from unquoted arguments</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> unquoted <span class="token operator">&amp;&amp;</span> rpseudo<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> unquoted <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					<span class="token comment">// Get excess from tokenize (recursively)</span>
					<span class="token punctuation">(</span>excess <span class="token operator">=</span> <span class="token function">tokenize</span><span class="token punctuation">(</span> unquoted<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					<span class="token comment">// advance to the next closing parenthesis</span>
					<span class="token punctuation">(</span>excess <span class="token operator">=</span> unquoted<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">,</span> unquoted<span class="token punctuation">.</span>length <span class="token operator">-</span> excess <span class="token punctuation">)</span> <span class="token operator">-</span> unquoted<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// excess is a negative index</span>
					match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> excess <span class="token punctuation">)</span><span class="token punctuation">;</span>
					match<span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span> <span class="token operator">=</span> unquoted<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> excess <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Return only captures needed by the pseudo filter method (type and argument)</span>
				<span class="token keyword">return</span> match<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		filter<span class="token operator">:</span> <span class="token punctuation">{</span>

			<span class="token string">&quot;TAG&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">nodeNameSelector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> nodeName <span class="token operator">=</span> nodeNameSelector<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> nodeNameSelector <span class="token operator">===</span> <span class="token string">&quot;*&quot;</span> <span class="token operator">?</span>
					<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">:</span>
					<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> elem<span class="token punctuation">.</span>nodeName <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> nodeName<span class="token punctuation">;</span>
					<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;CLASS&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">className</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> pattern <span class="token operator">=</span> classCache<span class="token punctuation">[</span> className <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token keyword">return</span> pattern <span class="token operator">||</span>
					<span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;(^|&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span> <span class="token operator">+</span> className <span class="token operator">+</span> <span class="token string">&quot;(&quot;</span> <span class="token operator">+</span> whitespace <span class="token operator">+</span> <span class="token string">&quot;|$)&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					<span class="token function">classCache</span><span class="token punctuation">(</span> className<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> pattern<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">.</span>className <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>className <span class="token operator">||</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">.</span>getAttribute <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;class&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;ATTR&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> operator<span class="token punctuation">,</span> check</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> result <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> operator <span class="token operator">===</span> <span class="token string">&quot;!=&quot;</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>operator <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					result <span class="token operator">+=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

					<span class="token keyword">return</span> operator <span class="token operator">===</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">?</span> result <span class="token operator">===</span> check <span class="token operator">:</span>
						operator <span class="token operator">===</span> <span class="token string">&quot;!=&quot;</span> <span class="token operator">?</span> result <span class="token operator">!==</span> check <span class="token operator">:</span>
						operator <span class="token operator">===</span> <span class="token string">&quot;^=&quot;</span> <span class="token operator">?</span> check <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> check <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">:</span>
						operator <span class="token operator">===</span> <span class="token string">&quot;*=&quot;</span> <span class="token operator">?</span> check <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> check <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>
						operator <span class="token operator">===</span> <span class="token string">&quot;$=&quot;</span> <span class="token operator">?</span> check <span class="token operator">&amp;&amp;</span> result<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token operator">-</span>check<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token operator">===</span> check <span class="token operator">:</span>
						operator <span class="token operator">===</span> <span class="token string">&quot;~=&quot;</span> <span class="token operator">?</span> <span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> result<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rwhitespace<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> check <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>
						operator <span class="token operator">===</span> <span class="token string">&quot;|=&quot;</span> <span class="token operator">?</span> result <span class="token operator">===</span> check <span class="token operator">||</span> result<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> check<span class="token punctuation">.</span>length <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">===</span> check <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token operator">:</span>
						<span class="token boolean">false</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;CHILD&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> what<span class="token punctuation">,</span> argument<span class="token punctuation">,</span> first<span class="token punctuation">,</span> last</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> simple <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;nth&quot;</span><span class="token punctuation">,</span>
					forward <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">4</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;last&quot;</span><span class="token punctuation">,</span>
					ofType <span class="token operator">=</span> what <span class="token operator">===</span> <span class="token string">&quot;of-type&quot;</span><span class="token punctuation">;</span>

				<span class="token keyword">return</span> first <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> last <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span>

					<span class="token comment">// Shortcut for :nth-*(n)</span>
					<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token operator">:</span>

					<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">var</span> cache<span class="token punctuation">,</span> uniqueCache<span class="token punctuation">,</span> outerCache<span class="token punctuation">,</span> node<span class="token punctuation">,</span> nodeIndex<span class="token punctuation">,</span> start<span class="token punctuation">,</span>
							dir <span class="token operator">=</span> simple <span class="token operator">!==</span> forward <span class="token operator">?</span> <span class="token string">&quot;nextSibling&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;previousSibling&quot;</span><span class="token punctuation">,</span>
							parent <span class="token operator">=</span> elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">,</span>
							name <span class="token operator">=</span> ofType <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
							useCache <span class="token operator">=</span> <span class="token operator">!</span>xml <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>ofType<span class="token punctuation">,</span>
							diff <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

						<span class="token keyword">if</span> <span class="token punctuation">(</span> parent <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							<span class="token comment">// :(first|last|only)-(child|of-type)</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> simple <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">while</span> <span class="token punctuation">(</span> dir <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									node <span class="token operator">=</span> elem<span class="token punctuation">;</span>
									<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>node <span class="token operator">=</span> node<span class="token punctuation">[</span> dir <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
										<span class="token keyword">if</span> <span class="token punctuation">(</span> ofType <span class="token operator">?</span>
											node<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> name <span class="token operator">:</span>
											node<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

											<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
										<span class="token punctuation">}</span>
									<span class="token punctuation">}</span>
									<span class="token comment">// Reverse direction for :only-* (if we haven't yet done so)</span>
									start <span class="token operator">=</span> dir <span class="token operator">=</span> type <span class="token operator">===</span> <span class="token string">&quot;only&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>start <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;nextSibling&quot;</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
								<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>

							start <span class="token operator">=</span> <span class="token punctuation">[</span> forward <span class="token operator">?</span> parent<span class="token punctuation">.</span>firstChild <span class="token operator">:</span> parent<span class="token punctuation">.</span>lastChild <span class="token punctuation">]</span><span class="token punctuation">;</span>

							<span class="token comment">// non-xml :nth-child(...) stores cache data on `parent`</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> forward <span class="token operator">&amp;&amp;</span> useCache <span class="token punctuation">)</span> <span class="token punctuation">{</span>

								<span class="token comment">// Seek `elem` from a previously-cached index</span>

								<span class="token comment">// ...in a gzip-friendly way</span>
								node <span class="token operator">=</span> parent<span class="token punctuation">;</span>
								outerCache <span class="token operator">=</span> node<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>node<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

								<span class="token comment">// Support: IE &lt;9 only</span>
								<span class="token comment">// Defend against cloned attroperties (jQuery gh-1709)</span>
								uniqueCache <span class="token operator">=</span> outerCache<span class="token punctuation">[</span> node<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">||</span>
									<span class="token punctuation">(</span>outerCache<span class="token punctuation">[</span> node<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

								cache <span class="token operator">=</span> uniqueCache<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
								nodeIndex <span class="token operator">=</span> cache<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">===</span> dirruns <span class="token operator">&amp;&amp;</span> cache<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
								diff <span class="token operator">=</span> nodeIndex <span class="token operator">&amp;&amp;</span> cache<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
								node <span class="token operator">=</span> nodeIndex <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span> nodeIndex <span class="token punctuation">]</span><span class="token punctuation">;</span>

								<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>node <span class="token operator">=</span> <span class="token operator">++</span>nodeIndex <span class="token operator">&amp;&amp;</span> node <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">[</span> dir <span class="token punctuation">]</span> <span class="token operator">||</span>

									<span class="token comment">// Fallback to seeking `elem` from the start</span>
									<span class="token punctuation">(</span>diff <span class="token operator">=</span> nodeIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> start<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

									<span class="token comment">// When found, cache indexes on `parent` and break</span>
									<span class="token keyword">if</span> <span class="token punctuation">(</span> node<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">++</span>diff <span class="token operator">&amp;&amp;</span> node <span class="token operator">===</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
										uniqueCache<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> dirruns<span class="token punctuation">,</span> nodeIndex<span class="token punctuation">,</span> diff <span class="token punctuation">]</span><span class="token punctuation">;</span>
										<span class="token keyword">break</span><span class="token punctuation">;</span>
									<span class="token punctuation">}</span>
								<span class="token punctuation">}</span>

							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
								<span class="token comment">// Use previously-cached element index if available</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> useCache <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									<span class="token comment">// ...in a gzip-friendly way</span>
									node <span class="token operator">=</span> elem<span class="token punctuation">;</span>
									outerCache <span class="token operator">=</span> node<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>node<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

									<span class="token comment">// Support: IE &lt;9 only</span>
									<span class="token comment">// Defend against cloned attroperties (jQuery gh-1709)</span>
									uniqueCache <span class="token operator">=</span> outerCache<span class="token punctuation">[</span> node<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">||</span>
										<span class="token punctuation">(</span>outerCache<span class="token punctuation">[</span> node<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

									cache <span class="token operator">=</span> uniqueCache<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
									nodeIndex <span class="token operator">=</span> cache<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">===</span> dirruns <span class="token operator">&amp;&amp;</span> cache<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
									diff <span class="token operator">=</span> nodeIndex<span class="token punctuation">;</span>
								<span class="token punctuation">}</span>

								<span class="token comment">// xml :nth-child(...)</span>
								<span class="token comment">// or :nth-last-child(...) or :nth(-last)?-of-type(...)</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> diff <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									<span class="token comment">// Use the same loop as above to seek `elem` from the start</span>
									<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>node <span class="token operator">=</span> <span class="token operator">++</span>nodeIndex <span class="token operator">&amp;&amp;</span> node <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">[</span> dir <span class="token punctuation">]</span> <span class="token operator">||</span>
										<span class="token punctuation">(</span>diff <span class="token operator">=</span> nodeIndex <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token operator">||</span> start<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

										<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> ofType <span class="token operator">?</span>
											node<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> name <span class="token operator">:</span>
											node<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
											<span class="token operator">++</span>diff <span class="token punctuation">)</span> <span class="token punctuation">{</span>

											<span class="token comment">// Cache the index of each encountered element</span>
											<span class="token keyword">if</span> <span class="token punctuation">(</span> useCache <span class="token punctuation">)</span> <span class="token punctuation">{</span>
												outerCache <span class="token operator">=</span> node<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>node<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

												<span class="token comment">// Support: IE &lt;9 only</span>
												<span class="token comment">// Defend against cloned attroperties (jQuery gh-1709)</span>
												uniqueCache <span class="token operator">=</span> outerCache<span class="token punctuation">[</span> node<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">||</span>
													<span class="token punctuation">(</span>outerCache<span class="token punctuation">[</span> node<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

												uniqueCache<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> dirruns<span class="token punctuation">,</span> diff <span class="token punctuation">]</span><span class="token punctuation">;</span>
											<span class="token punctuation">}</span>

											<span class="token keyword">if</span> <span class="token punctuation">(</span> node <span class="token operator">===</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
												<span class="token keyword">break</span><span class="token punctuation">;</span>
											<span class="token punctuation">}</span>
										<span class="token punctuation">}</span>
									<span class="token punctuation">}</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>

							<span class="token comment">// Incorporate the offset, then check against cycle size</span>
							diff <span class="token operator">-=</span> last<span class="token punctuation">;</span>
							<span class="token keyword">return</span> diff <span class="token operator">===</span> first <span class="token operator">||</span> <span class="token punctuation">(</span> diff <span class="token operator">%</span> first <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> diff <span class="token operator">/</span> first <span class="token operator">&gt;=</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;PSEUDO&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">pseudo<span class="token punctuation">,</span> argument</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// pseudo-class names are case-insensitive</span>
				<span class="token comment">// http://www.w3.org/TR/selectors/#pseudo-classes</span>
				<span class="token comment">// Prioritize by case sensitivity in case custom pseudos are added with uppercase letters</span>
				<span class="token comment">// Remember that setFilters inherits from pseudos</span>
				<span class="token keyword">var</span> args<span class="token punctuation">,</span>
					fn <span class="token operator">=</span> Expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">[</span> pseudo <span class="token punctuation">]</span> <span class="token operator">||</span> Expr<span class="token punctuation">.</span>setFilters<span class="token punctuation">[</span> pseudo<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">||</span>
						Sizzle<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> <span class="token string">&quot;unsupported pseudo: &quot;</span> <span class="token operator">+</span> pseudo <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// The user may use createPseudo to indicate that</span>
				<span class="token comment">// arguments are needed to create the filter function</span>
				<span class="token comment">// just as Sizzle does</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> fn<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span> argument <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// But maintain support for old signatures</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> fn<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					args <span class="token operator">=</span> <span class="token punctuation">[</span> pseudo<span class="token punctuation">,</span> pseudo<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> argument <span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> Expr<span class="token punctuation">.</span>setFilters<span class="token punctuation">.</span><span class="token function">hasOwnProperty</span><span class="token punctuation">(</span> pseudo<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">?</span>
						<span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">seed<span class="token punctuation">,</span> matches</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">var</span> idx<span class="token punctuation">,</span>
								matched <span class="token operator">=</span> <span class="token function">fn</span><span class="token punctuation">(</span> seed<span class="token punctuation">,</span> argument <span class="token punctuation">)</span><span class="token punctuation">,</span>
								i <span class="token operator">=</span> matched<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
							<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								idx <span class="token operator">=</span> <span class="token function">indexOf</span><span class="token punctuation">(</span> seed<span class="token punctuation">,</span> matched<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
								seed<span class="token punctuation">[</span> idx <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">!</span><span class="token punctuation">(</span> matches<span class="token punctuation">[</span> idx <span class="token punctuation">]</span> <span class="token operator">=</span> matched<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span>
						<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> <span class="token function">fn</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> fn<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		pseudos<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token comment">// Potentially complex pseudos</span>
			<span class="token string">&quot;not&quot;</span><span class="token operator">:</span> <span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Trim the selector passed to compile</span>
				<span class="token comment">// to avoid treating leading and trailing</span>
				<span class="token comment">// spaces as combinators</span>
				<span class="token keyword">var</span> input <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
					results <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
					matcher <span class="token operator">=</span> <span class="token function">compile</span><span class="token punctuation">(</span> selector<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rtrim<span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">return</span> matcher<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">?</span>
					<span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">seed<span class="token punctuation">,</span> matches<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">var</span> elem<span class="token punctuation">,</span>
							unmatched <span class="token operator">=</span> <span class="token function">matcher</span><span class="token punctuation">(</span> seed<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> xml<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
							i <span class="token operator">=</span> seed<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

						<span class="token comment">// Match elements unmatched by `matcher`</span>
						<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> unmatched<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								seed<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">!</span><span class="token punctuation">(</span>matches<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">;</span>
						<span class="token function">matcher</span><span class="token punctuation">(</span> input<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> xml<span class="token punctuation">,</span> results <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token comment">// Don't keep the element (issue #299)</span>
						input<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
						<span class="token keyword">return</span> <span class="token operator">!</span>results<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;has&quot;</span><span class="token operator">:</span> <span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token function">Sizzle</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;contains&quot;</span><span class="token operator">:</span> <span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">text</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				text <span class="token operator">=</span> text<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>textContent <span class="token operator">||</span> elem<span class="token punctuation">.</span>innerText <span class="token operator">||</span> <span class="token function">getText</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> text <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token comment">// &quot;Whether an element is represented by a :lang() selector</span>
			<span class="token comment">// is based solely on the element's language value</span>
			<span class="token comment">// being equal to the identifier C,</span>
			<span class="token comment">// or beginning with the identifier C immediately followed by &quot;-&quot;.</span>
			<span class="token comment">// The matching of C against the element's language value is performed case-insensitively.</span>
			<span class="token comment">// The identifier C does not have to be a valid language name.&quot;</span>
			<span class="token comment">// http://www.w3.org/TR/selectors/#lang-pseudo</span>
			<span class="token string">&quot;lang&quot;</span><span class="token operator">:</span> <span class="token function">markFunction</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">lang</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// lang value must be a valid identifier</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>ridentifier<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span>lang <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					Sizzle<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> <span class="token string">&quot;unsupported lang: &quot;</span> <span class="token operator">+</span> lang <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				lang <span class="token operator">=</span> lang<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> elemLang<span class="token punctuation">;</span>
					<span class="token keyword">do</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elemLang <span class="token operator">=</span> documentIsHTML <span class="token operator">?</span>
							elem<span class="token punctuation">.</span>lang <span class="token operator">:</span>
							elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;xml:lang&quot;</span><span class="token punctuation">)</span> <span class="token operator">||</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;lang&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							elemLang <span class="token operator">=</span> elemLang<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token keyword">return</span> elemLang <span class="token operator">===</span> lang <span class="token operator">||</span> elemLang<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> lang <span class="token operator">+</span> <span class="token string">&quot;-&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token comment">// Miscellaneous</span>
			<span class="token string">&quot;target&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> hash <span class="token operator">=</span> window<span class="token punctuation">.</span>location <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>location<span class="token punctuation">.</span>hash<span class="token punctuation">;</span>
				<span class="token keyword">return</span> hash <span class="token operator">&amp;&amp;</span> hash<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">===</span> elem<span class="token punctuation">.</span>id<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;root&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem <span class="token operator">===</span> docElem<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;focus&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem <span class="token operator">===</span> document<span class="token punctuation">.</span>activeElement <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>document<span class="token punctuation">.</span>hasFocus <span class="token operator">||</span> document<span class="token punctuation">.</span><span class="token function">hasFocus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span>elem<span class="token punctuation">.</span>type <span class="token operator">||</span> elem<span class="token punctuation">.</span>href <span class="token operator">||</span> <span class="token operator">~</span>elem<span class="token punctuation">.</span>tabIndex<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Boolean properties</span>
			<span class="token string">&quot;enabled&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span>disabled <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;disabled&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span>disabled <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;checked&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// In CSS3, :checked should return both checked and selected elements</span>
				<span class="token comment">// http://www.w3.org/TR/2011/REC-css3-selectors-20110929/#checked</span>
				<span class="token keyword">var</span> nodeName <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token punctuation">(</span>nodeName <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>elem<span class="token punctuation">.</span>checked<span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>nodeName <span class="token operator">===</span> <span class="token string">&quot;option&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token operator">!</span>elem<span class="token punctuation">.</span>selected<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;selected&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// Accessing this property makes selected-by-default</span>
				<span class="token comment">// options in Safari work properly</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> elem<span class="token punctuation">.</span>selected <span class="token operator">===</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Contents</span>
			<span class="token string">&quot;empty&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">// http://www.w3.org/TR/selectors/#empty-pseudo</span>
				<span class="token comment">// :empty is negated by element (1) or content nodes (text: 3; cdata: 4; entity ref: 5),</span>
				<span class="token comment">//   but not by others (comment: 8; processing instruction: 7; etc.)</span>
				<span class="token comment">// nodeType &lt; 6 works because attributes (2) do not appear as children</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span> elem<span class="token punctuation">;</span> elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>nextSibling <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">&lt;</span> <span class="token number">6</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;parent&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token operator">!</span>Expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">[</span><span class="token string">&quot;empty&quot;</span><span class="token punctuation">]</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Element/input types</span>
			<span class="token string">&quot;header&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> rheader<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;input&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> rinputs<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;button&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> name <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> name <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;button&quot;</span> <span class="token operator">||</span> name <span class="token operator">===</span> <span class="token string">&quot;button&quot;</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token string">&quot;text&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> attr<span class="token punctuation">;</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token operator">&amp;&amp;</span>
					elem<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;text&quot;</span> <span class="token operator">&amp;&amp;</span>

					<span class="token comment">// Support: IE&lt;8</span>
					<span class="token comment">// New HTML5 attribute values (e.g., &quot;search&quot;) appear with elem.type === &quot;text&quot;</span>
					<span class="token punctuation">(</span> <span class="token punctuation">(</span>attr <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;type&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> attr<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;text&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Position-in-collection</span>
			<span class="token string">&quot;first&quot;</span><span class="token operator">:</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;last&quot;</span><span class="token operator">:</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">matchIndexes<span class="token punctuation">,</span> length</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token punctuation">[</span> length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;eq&quot;</span><span class="token operator">:</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">matchIndexes<span class="token punctuation">,</span> length<span class="token punctuation">,</span> argument</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token punctuation">[</span> argument <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> argument <span class="token operator">+</span> length <span class="token operator">:</span> argument <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;even&quot;</span><span class="token operator">:</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">matchIndexes<span class="token punctuation">,</span> length</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					matchIndexes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> matchIndexes<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;odd&quot;</span><span class="token operator">:</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">matchIndexes<span class="token punctuation">,</span> length</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					matchIndexes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> matchIndexes<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;lt&quot;</span><span class="token operator">:</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">matchIndexes<span class="token punctuation">,</span> length<span class="token punctuation">,</span> argument</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> i <span class="token operator">=</span> argument <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> argument <span class="token operator">+</span> length <span class="token operator">:</span> argument<span class="token punctuation">;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> <span class="token operator">--</span>i <span class="token operator">&gt;=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					matchIndexes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> matchIndexes<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token string">&quot;gt&quot;</span><span class="token operator">:</span> <span class="token function">createPositionalPseudo</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">matchIndexes<span class="token punctuation">,</span> length<span class="token punctuation">,</span> argument</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> i <span class="token operator">=</span> argument <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span> argument <span class="token operator">+</span> length <span class="token operator">:</span> argument<span class="token punctuation">;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> <span class="token operator">++</span>i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					matchIndexes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> matchIndexes<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">)</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	Expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">[</span><span class="token string">&quot;nth&quot;</span><span class="token punctuation">]</span> <span class="token operator">=</span> Expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">[</span><span class="token string">&quot;eq&quot;</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token comment">// Add button/input type pseudos</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> <span class="token punctuation">{</span> radio<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> checkbox<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> file<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> password<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> image<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		Expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createInputPseudo</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> <span class="token punctuation">{</span> submit<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> reset<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		Expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">createButtonPseudo</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Easy API for creating new setFilters</span>
	<span class="token keyword">function</span> <span class="token function">setFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
	setFilters<span class="token punctuation">.</span>prototype <span class="token operator">=</span> Expr<span class="token punctuation">.</span>filters <span class="token operator">=</span> Expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">;</span>
	Expr<span class="token punctuation">.</span>setFilters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">setFilters</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	tokenize <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span><span class="token function-variable function">tokenize</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> parseOnly</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> matched<span class="token punctuation">,</span> match<span class="token punctuation">,</span> tokens<span class="token punctuation">,</span> type<span class="token punctuation">,</span>
			soFar<span class="token punctuation">,</span> groups<span class="token punctuation">,</span> preFilters<span class="token punctuation">,</span>
			cached <span class="token operator">=</span> tokenCache<span class="token punctuation">[</span> selector <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> cached <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> parseOnly <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> cached<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		soFar <span class="token operator">=</span> selector<span class="token punctuation">;</span>
		groups <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		preFilters <span class="token operator">=</span> Expr<span class="token punctuation">.</span>preFilter<span class="token punctuation">;</span>

		<span class="token keyword">while</span> <span class="token punctuation">(</span> soFar <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Comma and first run</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>matched <span class="token operator">||</span> <span class="token punctuation">(</span>match <span class="token operator">=</span> rcomma<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> soFar <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> match <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">// Don't consume trailing commas as valid</span>
					soFar <span class="token operator">=</span> soFar<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token operator">||</span> soFar<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				groups<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>tokens <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			matched <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

			<span class="token comment">// Combinators</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>match <span class="token operator">=</span> rcombinators<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> soFar <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				matched <span class="token operator">=</span> match<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
					value<span class="token operator">:</span> matched<span class="token punctuation">,</span>
					<span class="token comment">// Cast descendant combinators to space</span>
					type<span class="token operator">:</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rtrim<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span>
				<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				soFar <span class="token operator">=</span> soFar<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> matched<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Filters</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> Expr<span class="token punctuation">.</span>filter <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>match <span class="token operator">=</span> matchExpr<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> soFar <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span><span class="token operator">!</span>preFilters<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span>
					<span class="token punctuation">(</span>match <span class="token operator">=</span> preFilters<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">(</span> match <span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					matched <span class="token operator">=</span> match<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					tokens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
						value<span class="token operator">:</span> matched<span class="token punctuation">,</span>
						type<span class="token operator">:</span> type<span class="token punctuation">,</span>
						matches<span class="token operator">:</span> match
					<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					soFar <span class="token operator">=</span> soFar<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> matched<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>matched <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Return the length of the invalid excess</span>
		<span class="token comment">// if we're just parsing</span>
		<span class="token comment">// Otherwise, throw an error or return tokens</span>
		<span class="token keyword">return</span> parseOnly <span class="token operator">?</span>
			soFar<span class="token punctuation">.</span>length <span class="token operator">:</span>
			soFar <span class="token operator">?</span>
				Sizzle<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">:</span>
				<span class="token comment">// Cache the tokens</span>
				<span class="token function">tokenCache</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> groups <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">function</span> <span class="token function">toSelector</span><span class="token punctuation">(</span> <span class="token parameter">tokens</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			len <span class="token operator">=</span> tokens<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			selector <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			selector <span class="token operator">+=</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> selector<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">addCombinator</span><span class="token punctuation">(</span> <span class="token parameter">matcher<span class="token punctuation">,</span> combinator<span class="token punctuation">,</span> base</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> dir <span class="token operator">=</span> combinator<span class="token punctuation">.</span>dir<span class="token punctuation">,</span>
			checkNonElements <span class="token operator">=</span> base <span class="token operator">&amp;&amp;</span> dir <span class="token operator">===</span> <span class="token string">&quot;parentNode&quot;</span><span class="token punctuation">,</span>
			doneName <span class="token operator">=</span> done<span class="token operator">++</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> combinator<span class="token punctuation">.</span>first <span class="token operator">?</span>
			<span class="token comment">// Check against closest ancestor/preceding element</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> elem<span class="token punctuation">[</span> dir <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> checkNonElements <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> <span class="token function">matcher</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token operator">:</span>

			<span class="token comment">// Check against all ancestor/preceding elements</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> oldCache<span class="token punctuation">,</span> uniqueCache<span class="token punctuation">,</span> outerCache<span class="token punctuation">,</span>
					newCache <span class="token operator">=</span> <span class="token punctuation">[</span> dirruns<span class="token punctuation">,</span> doneName <span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token comment">// We can't set arbitrary data on XML nodes, so they don't benefit from combinator caching</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> xml <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> elem<span class="token punctuation">[</span> dir <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> checkNonElements <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">matcher</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> elem<span class="token punctuation">[</span> dir <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> checkNonElements <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							outerCache <span class="token operator">=</span> elem<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>elem<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

							<span class="token comment">// Support: IE &lt;9 only</span>
							<span class="token comment">// Defend against cloned attroperties (jQuery gh-1709)</span>
							uniqueCache <span class="token operator">=</span> outerCache<span class="token punctuation">[</span> elem<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span>outerCache<span class="token punctuation">[</span> elem<span class="token punctuation">.</span>uniqueID <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

							<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>oldCache <span class="token operator">=</span> uniqueCache<span class="token punctuation">[</span> dir <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
								oldCache<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">===</span> dirruns <span class="token operator">&amp;&amp;</span> oldCache<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">===</span> doneName <span class="token punctuation">)</span> <span class="token punctuation">{</span>

								<span class="token comment">// Assign to newCache so results back-propagate to previous elements</span>
								<span class="token keyword">return</span> <span class="token punctuation">(</span>newCache<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">=</span> oldCache<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
								<span class="token comment">// Reuse newcache so results back-propagate to previous elements</span>
								uniqueCache<span class="token punctuation">[</span> dir <span class="token punctuation">]</span> <span class="token operator">=</span> newCache<span class="token punctuation">;</span>

								<span class="token comment">// A match means we're done; a fail means we have to keep checking</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>newCache<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">matcher</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">elementMatcher</span><span class="token punctuation">(</span> <span class="token parameter">matchers</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> matchers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> i <span class="token operator">=</span> matchers<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>matchers<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token operator">:</span>
			matchers<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">multipleContexts</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> contexts<span class="token punctuation">,</span> results</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			len <span class="token operator">=</span> contexts<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">Sizzle</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> contexts<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> results <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> results<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">condense</span><span class="token punctuation">(</span> <span class="token parameter">unmatched<span class="token punctuation">,</span> map<span class="token punctuation">,</span> filter<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> elem<span class="token punctuation">,</span>
			newUnmatched <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			len <span class="token operator">=</span> unmatched<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			mapped <span class="token operator">=</span> map <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> unmatched<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>filter <span class="token operator">||</span> <span class="token function">filter</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					newUnmatched<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> mapped <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						map<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> newUnmatched<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">setMatcher</span><span class="token punctuation">(</span> <span class="token parameter">preFilter<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> matcher<span class="token punctuation">,</span> postFilter<span class="token punctuation">,</span> postFinder<span class="token punctuation">,</span> postSelector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> postFilter <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>postFilter<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			postFilter <span class="token operator">=</span> <span class="token function">setMatcher</span><span class="token punctuation">(</span> postFilter <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> postFinder <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>postFinder<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			postFinder <span class="token operator">=</span> <span class="token function">setMatcher</span><span class="token punctuation">(</span> postFinder<span class="token punctuation">,</span> postSelector <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token function">markFunction</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">seed<span class="token punctuation">,</span> results<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> temp<span class="token punctuation">,</span> i<span class="token punctuation">,</span> elem<span class="token punctuation">,</span>
				preMap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				postMap <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
				preexisting <span class="token operator">=</span> results<span class="token punctuation">.</span>length<span class="token punctuation">,</span>

				<span class="token comment">// Get initial elements from seed or context</span>
				elems <span class="token operator">=</span> seed <span class="token operator">||</span> <span class="token function">multipleContexts</span><span class="token punctuation">(</span> selector <span class="token operator">||</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> context<span class="token punctuation">.</span>nodeType <span class="token operator">?</span> <span class="token punctuation">[</span> context <span class="token punctuation">]</span> <span class="token operator">:</span> context<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

				<span class="token comment">// Prefilter to get matcher input, preserving a map for seed-results synchronization</span>
				matcherIn <span class="token operator">=</span> preFilter <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> seed <span class="token operator">||</span> <span class="token operator">!</span>selector <span class="token punctuation">)</span> <span class="token operator">?</span>
					<span class="token function">condense</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> preMap<span class="token punctuation">,</span> preFilter<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span> <span class="token operator">:</span>
					elems<span class="token punctuation">,</span>

				matcherOut <span class="token operator">=</span> matcher <span class="token operator">?</span>
					<span class="token comment">// If we have a postFinder, or filtered seed, or non-seed postFilter or preexisting results,</span>
					postFinder <span class="token operator">||</span> <span class="token punctuation">(</span> seed <span class="token operator">?</span> preFilter <span class="token operator">:</span> preexisting <span class="token operator">||</span> postFilter <span class="token punctuation">)</span> <span class="token operator">?</span>

						<span class="token comment">// ...intermediate processing is necessary</span>
						<span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span>

						<span class="token comment">// ...otherwise use results directly</span>
						results <span class="token operator">:</span>
					matcherIn<span class="token punctuation">;</span>

			<span class="token comment">// Find primary matches</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> matcher <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">matcher</span><span class="token punctuation">(</span> matcherIn<span class="token punctuation">,</span> matcherOut<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Apply postFilter</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> postFilter <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				temp <span class="token operator">=</span> <span class="token function">condense</span><span class="token punctuation">(</span> matcherOut<span class="token punctuation">,</span> postMap <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">postFilter</span><span class="token punctuation">(</span> temp<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Un-match failing elements by moving them back to matcherIn</span>
				i <span class="token operator">=</span> temp<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> temp<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						matcherOut<span class="token punctuation">[</span> postMap<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">!</span><span class="token punctuation">(</span>matcherIn<span class="token punctuation">[</span> postMap<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> seed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> postFinder <span class="token operator">||</span> preFilter <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> postFinder <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token comment">// Get the final matcherOut by condensing this intermediate into postFinder contexts</span>
						temp <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
						i <span class="token operator">=</span> matcherOut<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
						<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> matcherOut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token comment">// Restore matcherIn since elem is not yet a final match</span>
								temp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>matcherIn<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
						<span class="token function">postFinder</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">(</span>matcherOut <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">,</span> temp<span class="token punctuation">,</span> xml <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Move matched elements from seed to results to keep them synchronized</span>
					i <span class="token operator">=</span> matcherOut<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> matcherOut<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
							<span class="token punctuation">(</span>temp <span class="token operator">=</span> postFinder <span class="token operator">?</span> <span class="token function">indexOf</span><span class="token punctuation">(</span> seed<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token operator">:</span> preMap<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							seed<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token operator">!</span><span class="token punctuation">(</span>results<span class="token punctuation">[</span>temp<span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

			<span class="token comment">// Add elements to results, through postFinder if defined</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				matcherOut <span class="token operator">=</span> <span class="token function">condense</span><span class="token punctuation">(</span>
					matcherOut <span class="token operator">===</span> results <span class="token operator">?</span>
						matcherOut<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> preexisting<span class="token punctuation">,</span> matcherOut<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token operator">:</span>
						matcherOut
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> postFinder <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">postFinder</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> results<span class="token punctuation">,</span> matcherOut<span class="token punctuation">,</span> xml <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> results<span class="token punctuation">,</span> matcherOut <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">matcherFromTokens</span><span class="token punctuation">(</span> <span class="token parameter">tokens</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> checkContext<span class="token punctuation">,</span> matcher<span class="token punctuation">,</span> j<span class="token punctuation">,</span>
			len <span class="token operator">=</span> tokens<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			leadingRelative <span class="token operator">=</span> Expr<span class="token punctuation">.</span>relative<span class="token punctuation">[</span> tokens<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token punctuation">]</span><span class="token punctuation">,</span>
			implicitRelative <span class="token operator">=</span> leadingRelative <span class="token operator">||</span> Expr<span class="token punctuation">.</span>relative<span class="token punctuation">[</span><span class="token string">&quot; &quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> leadingRelative <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

			<span class="token comment">// The foundational matcher ensures that elements are reachable from top-level context(s)</span>
			matchContext <span class="token operator">=</span> <span class="token function">addCombinator</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem <span class="token operator">===</span> checkContext<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span> implicitRelative<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			matchAnyContext <span class="token operator">=</span> <span class="token function">addCombinator</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token function">indexOf</span><span class="token punctuation">(</span> checkContext<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span> implicitRelative<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			matchers <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token operator">!</span>leadingRelative <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> xml <span class="token operator">||</span> context <span class="token operator">!==</span> outermostContext <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span>
					<span class="token punctuation">(</span>checkContext <span class="token operator">=</span> context<span class="token punctuation">)</span><span class="token punctuation">.</span>nodeType <span class="token operator">?</span>
						<span class="token function">matchContext</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span> <span class="token operator">:</span>
						<span class="token function">matchAnyContext</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token comment">// Avoid hanging onto element (issue #299)</span>
				checkContext <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>matcher <span class="token operator">=</span> Expr<span class="token punctuation">.</span>relative<span class="token punctuation">[</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				matchers <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token function">addCombinator</span><span class="token punctuation">(</span><span class="token function">elementMatcher</span><span class="token punctuation">(</span> matchers <span class="token punctuation">)</span><span class="token punctuation">,</span> matcher<span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				matcher <span class="token operator">=</span> Expr<span class="token punctuation">.</span>filter<span class="token punctuation">[</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">null</span><span class="token punctuation">,</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span>matches <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Return special upon seeing a positional matcher</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> matcher<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">// Find the next relative operator (if any) for proper handling</span>
					j <span class="token operator">=</span> <span class="token operator">++</span>i<span class="token punctuation">;</span>
					<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> j <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> j<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> Expr<span class="token punctuation">.</span>relative<span class="token punctuation">[</span> tokens<span class="token punctuation">[</span>j<span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">break</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">return</span> <span class="token function">setMatcher</span><span class="token punctuation">(</span>
						i <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token function">elementMatcher</span><span class="token punctuation">(</span> matchers <span class="token punctuation">)</span><span class="token punctuation">,</span>
						i <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token function">toSelector</span><span class="token punctuation">(</span>
							<span class="token comment">// If the preceding token was a descendant combinator, insert an implicit any-element `*`</span>
							tokens<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> i <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span><span class="token punctuation">{</span> value<span class="token operator">:</span> tokens<span class="token punctuation">[</span> i <span class="token operator">-</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot; &quot;</span> <span class="token operator">?</span> <span class="token string">&quot;*&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">)</span>
						<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rtrim<span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
						matcher<span class="token punctuation">,</span>
						i <span class="token operator">&lt;</span> j <span class="token operator">&amp;&amp;</span> <span class="token function">matcherFromTokens</span><span class="token punctuation">(</span> tokens<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> i<span class="token punctuation">,</span> j <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
						j <span class="token operator">&lt;</span> len <span class="token operator">&amp;&amp;</span> <span class="token function">matcherFromTokens</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>tokens <span class="token operator">=</span> tokens<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> j <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
						j <span class="token operator">&lt;</span> len <span class="token operator">&amp;&amp;</span> <span class="token function">toSelector</span><span class="token punctuation">(</span> tokens <span class="token punctuation">)</span>
					<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				matchers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> matcher <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token function">elementMatcher</span><span class="token punctuation">(</span> matchers <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">function</span> <span class="token function">matcherFromGroupMatchers</span><span class="token punctuation">(</span> <span class="token parameter">elementMatchers<span class="token punctuation">,</span> setMatchers</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> bySet <span class="token operator">=</span> setMatchers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
			byElement <span class="token operator">=</span> elementMatchers<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
			<span class="token function-variable function">superMatcher</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">seed<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml<span class="token punctuation">,</span> results<span class="token punctuation">,</span> outermost</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> elem<span class="token punctuation">,</span> j<span class="token punctuation">,</span> matcher<span class="token punctuation">,</span>
					matchedCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
					i <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
					unmatched <span class="token operator">=</span> seed <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
					setMatched <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
					contextBackup <span class="token operator">=</span> outermostContext<span class="token punctuation">,</span>
					<span class="token comment">// We must always have either seed elements or outermost context</span>
					elems <span class="token operator">=</span> seed <span class="token operator">||</span> byElement <span class="token operator">&amp;&amp;</span> Expr<span class="token punctuation">.</span>find<span class="token punctuation">[</span><span class="token string">&quot;TAG&quot;</span><span class="token punctuation">]</span><span class="token punctuation">(</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">,</span> outermost <span class="token punctuation">)</span><span class="token punctuation">,</span>
					<span class="token comment">// Use integer dirruns iff this is the outermost matcher</span>
					dirrunsUnique <span class="token operator">=</span> <span class="token punctuation">(</span>dirruns <span class="token operator">+=</span> contextBackup <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> Math<span class="token punctuation">.</span><span class="token function">random</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0.1</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					len <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> outermost <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					outermostContext <span class="token operator">=</span> context <span class="token operator">===</span> document <span class="token operator">||</span> context <span class="token operator">||</span> outermost<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Add elements passing elementMatchers directly to results</span>
				<span class="token comment">// Support: IE&lt;9, Safari</span>
				<span class="token comment">// Tolerate NodeList properties (IE: &quot;length&quot;; Safari: &lt;number&gt;) matching elements by id</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">!==</span> len <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> elems<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> byElement <span class="token operator">&amp;&amp;</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>context <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>ownerDocument <span class="token operator">!==</span> document <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token function">setDocument</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
							xml <span class="token operator">=</span> <span class="token operator">!</span>documentIsHTML<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
						<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>matcher <span class="token operator">=</span> elementMatchers<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">matcher</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> context <span class="token operator">||</span> document<span class="token punctuation">,</span> xml<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								results<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token keyword">break</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> outermost <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							dirruns <span class="token operator">=</span> dirrunsUnique<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Track unmatched elements for set filters</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> bySet <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token comment">// They will have gone through all possible matchers</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>elem <span class="token operator">=</span> <span class="token operator">!</span>matcher <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							matchedCount<span class="token operator">--</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Lengthen the array for every element, matched or not</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> seed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							unmatched<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// `i` is now the count of elements visited above, and adding it to `matchedCount`</span>
				<span class="token comment">// makes the latter nonnegative.</span>
				matchedCount <span class="token operator">+=</span> i<span class="token punctuation">;</span>

				<span class="token comment">// Apply set filters to unmatched elements</span>
				<span class="token comment">// NOTE: This can be skipped if there are no unmatched elements (i.e., `matchedCount`</span>
				<span class="token comment">// equals `i`), unless we didn't visit _any_ elements in the above loop because we have</span>
				<span class="token comment">// no element matchers and no seed.</span>
				<span class="token comment">// Incrementing an initially-string &quot;0&quot; `i` allows `i` to remain a string only in that</span>
				<span class="token comment">// case, which will result in a &quot;00&quot; `matchedCount` that differs from `i` but is also</span>
				<span class="token comment">// numerically zero.</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> bySet <span class="token operator">&amp;&amp;</span> i <span class="token operator">!==</span> matchedCount <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>matcher <span class="token operator">=</span> setMatchers<span class="token punctuation">[</span>j<span class="token operator">++</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token function">matcher</span><span class="token punctuation">(</span> unmatched<span class="token punctuation">,</span> setMatched<span class="token punctuation">,</span> context<span class="token punctuation">,</span> xml <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> seed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token comment">// Reintegrate element matches to eliminate the need for sorting</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> matchedCount <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span>unmatched<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">||</span> setMatched<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									setMatched<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">pop</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> results <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Discard index placeholder values to get only actual matches</span>
						setMatched <span class="token operator">=</span> <span class="token function">condense</span><span class="token punctuation">(</span> setMatched <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Add matches to results</span>
					<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> results<span class="token punctuation">,</span> setMatched <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token comment">// Seedless set matches succeeding multiple successful matchers stipulate sorting</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> outermost <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>seed <span class="token operator">&amp;&amp;</span> setMatched<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
						<span class="token punctuation">(</span> matchedCount <span class="token operator">+</span> setMatchers<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						Sizzle<span class="token punctuation">.</span><span class="token function">uniqueSort</span><span class="token punctuation">(</span> results <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Override manipulation of globals by nested matchers</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> outermost <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					dirruns <span class="token operator">=</span> dirrunsUnique<span class="token punctuation">;</span>
					outermostContext <span class="token operator">=</span> contextBackup<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> unmatched<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> bySet <span class="token operator">?</span>
			<span class="token function">markFunction</span><span class="token punctuation">(</span> superMatcher <span class="token punctuation">)</span> <span class="token operator">:</span>
			superMatcher<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	compile <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span><span class="token function-variable function">compile</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> match <span class="token comment">/* Internal Use Only */</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span>
			setMatchers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			elementMatchers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			cached <span class="token operator">=</span> compilerCache<span class="token punctuation">[</span> selector <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>cached <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">// Generate a function of recursive functions that can be used to check each element</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>match <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				match <span class="token operator">=</span> <span class="token function">tokenize</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			i <span class="token operator">=</span> match<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				cached <span class="token operator">=</span> <span class="token function">matcherFromTokens</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> cached<span class="token punctuation">[</span> expando <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					setMatchers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> cached <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					elementMatchers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> cached <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Cache the compiled function</span>
			cached <span class="token operator">=</span> <span class="token function">compilerCache</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> <span class="token function">matcherFromGroupMatchers</span><span class="token punctuation">(</span> elementMatchers<span class="token punctuation">,</span> setMatchers <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Save selector and tokenization</span>
			cached<span class="token punctuation">.</span>selector <span class="token operator">=</span> selector<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> cached<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">/**
	* A low-level selection function that works with Sizzle's compiled
	*  selector functions
	* @param {String|Function} selector A selector or a pre-compiled
	*  selector function built with Sizzle.compile
	* @param {Element} context
	* @param {Array} [results]
	* @param {Array} [seed] A set of elements to match against
	*/</span>
	select <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span><span class="token function-variable function">select</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> context<span class="token punctuation">,</span> results<span class="token punctuation">,</span> seed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span> tokens<span class="token punctuation">,</span> token<span class="token punctuation">,</span> type<span class="token punctuation">,</span> find<span class="token punctuation">,</span>
			compiled <span class="token operator">=</span> <span class="token keyword">typeof</span> selector <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">&amp;&amp;</span> selector<span class="token punctuation">,</span>
			match <span class="token operator">=</span> <span class="token operator">!</span>seed <span class="token operator">&amp;&amp;</span> <span class="token function">tokenize</span><span class="token punctuation">(</span> <span class="token punctuation">(</span>selector <span class="token operator">=</span> compiled<span class="token punctuation">.</span>selector <span class="token operator">||</span> selector<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		results <span class="token operator">=</span> results <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Try to minimize operations if there is only one selector in the list and no seed</span>
		<span class="token comment">// (the latter of which guarantees us context)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> match<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Reduce context if the leading compound selector is an ID</span>
			tokens <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> match<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> tokens<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">2</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span>token <span class="token operator">=</span> tokens<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;ID&quot;</span> <span class="token operator">&amp;&amp;</span>
					support<span class="token punctuation">.</span>getById <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token operator">&amp;&amp;</span> documentIsHTML <span class="token operator">&amp;&amp;</span>
					Expr<span class="token punctuation">.</span>relative<span class="token punctuation">[</span> tokens<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				context <span class="token operator">=</span> <span class="token punctuation">(</span> Expr<span class="token punctuation">.</span>find<span class="token punctuation">[</span><span class="token string">&quot;ID&quot;</span><span class="token punctuation">]</span><span class="token punctuation">(</span> token<span class="token punctuation">.</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span>runescape<span class="token punctuation">,</span> funescape<span class="token punctuation">)</span><span class="token punctuation">,</span> context <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>context <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> results<span class="token punctuation">;</span>

				<span class="token comment">// Precompiled matchers will still verify ancestry, so step up a level</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> compiled <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					context <span class="token operator">=</span> context<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				selector <span class="token operator">=</span> selector<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> tokens<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Fetch a seed set for right-to-left matching</span>
			i <span class="token operator">=</span> matchExpr<span class="token punctuation">[</span><span class="token string">&quot;needsContext&quot;</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> tokens<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				token <span class="token operator">=</span> tokens<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token comment">// Abort if we hit a combinator</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> Expr<span class="token punctuation">.</span>relative<span class="token punctuation">[</span> <span class="token punctuation">(</span>type <span class="token operator">=</span> token<span class="token punctuation">.</span>type<span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>find <span class="token operator">=</span> Expr<span class="token punctuation">.</span>find<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token comment">// Search, expanding context for leading sibling combinators</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span>seed <span class="token operator">=</span> <span class="token function">find</span><span class="token punctuation">(</span>
						token<span class="token punctuation">.</span>matches<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> runescape<span class="token punctuation">,</span> funescape <span class="token punctuation">)</span><span class="token punctuation">,</span>
						rsibling<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> tokens<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">.</span>type <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">testContext</span><span class="token punctuation">(</span> context<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token operator">||</span> context
					<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// If seed is empty or no tokens remain, we can return early</span>
						tokens<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> i<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						selector <span class="token operator">=</span> seed<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token function">toSelector</span><span class="token punctuation">(</span> tokens <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>selector <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> results<span class="token punctuation">,</span> seed <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token keyword">return</span> results<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token keyword">break</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Compile and execute a filtering function if one is not provided</span>
		<span class="token comment">// Provide `match` to avoid retokenization if we modified the selector above</span>
		<span class="token punctuation">(</span> compiled <span class="token operator">||</span> <span class="token function">compile</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> match <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">(</span>
			seed<span class="token punctuation">,</span>
			context<span class="token punctuation">,</span>
			<span class="token operator">!</span>documentIsHTML<span class="token punctuation">,</span>
			results<span class="token punctuation">,</span>
			<span class="token operator">!</span>context <span class="token operator">||</span> rsibling<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">testContext</span><span class="token punctuation">(</span> context<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token operator">||</span> context
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> results<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// One-time assignments</span>

	<span class="token comment">// Sort stability</span>
	support<span class="token punctuation">.</span>sortStable <span class="token operator">=</span> expando<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span> sortOrder <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> expando<span class="token punctuation">;</span>

	<span class="token comment">// Support: Chrome 14-35+</span>
	<span class="token comment">// Always assume duplicates if they aren't passed to the comparison function</span>
	support<span class="token punctuation">.</span>detectDuplicates <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>hasDuplicate<span class="token punctuation">;</span>

	<span class="token comment">// Initialize against the default document</span>
	<span class="token function">setDocument</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: Webkit&lt;537.32 - Safari 6.0.3/Chrome 25 (fixed in Chrome 27)</span>
	<span class="token comment">// Detached nodes confoundingly follow *each other*</span>
	support<span class="token punctuation">.</span>sortDetached <span class="token operator">=</span> <span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">// Should return 1, but returns 4 (following)</span>
		<span class="token keyword">return</span> div1<span class="token punctuation">.</span><span class="token function">compareDocumentPosition</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&quot;div&quot;</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;</span> <span class="token number">1</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: IE&lt;8</span>
	<span class="token comment">// Prevent attribute/property &quot;interpolation&quot;</span>
	<span class="token comment">// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;a href='#'&gt;&lt;/a&gt;&quot;</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> div<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;href&quot;</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;#&quot;</span> <span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">addHandle</span><span class="token punctuation">(</span> <span class="token string">&quot;type|href|height|width&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> isXML</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>isXML <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;type&quot;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">2</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Support: IE&lt;9</span>
	<span class="token comment">// Use defaultValue in place of getAttribute(&quot;value&quot;)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>attributes <span class="token operator">||</span> <span class="token operator">!</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;input/&gt;&quot;</span><span class="token punctuation">;</span>
		div<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> div<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;value&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">addHandle</span><span class="token punctuation">(</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> isXML</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>isXML <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Support: IE&lt;9</span>
	<span class="token comment">// Use getAttributeNode to fetch booleans when getAttribute lies</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">assert</span><span class="token punctuation">(</span><span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">div</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span><span class="token string">&quot;disabled&quot;</span><span class="token punctuation">)</span> <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">addHandle</span><span class="token punctuation">(</span> booleans<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> isXML</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> val<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>isXML <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">?</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span>
						<span class="token punctuation">(</span>val <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> val<span class="token punctuation">.</span>specified <span class="token operator">?</span>
						val<span class="token punctuation">.</span>value <span class="token operator">:</span>
					<span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token keyword">return</span> Sizzle<span class="token punctuation">;</span>

<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">(</span>window<span class="token punctuation">)</span><span class="token punctuation">;</span>



jQuery<span class="token punctuation">.</span>find <span class="token operator">=</span> Sizzle<span class="token punctuation">;</span>
jQuery<span class="token punctuation">.</span>expr <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span>selectors<span class="token punctuation">;</span>
jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">[</span> <span class="token string">&quot;:&quot;</span> <span class="token punctuation">]</span> <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>pseudos<span class="token punctuation">;</span>
jQuery<span class="token punctuation">.</span>uniqueSort <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>unique <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span>uniqueSort<span class="token punctuation">;</span>
jQuery<span class="token punctuation">.</span>text <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span>getText<span class="token punctuation">;</span>
jQuery<span class="token punctuation">.</span>isXMLDoc <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span>isXML<span class="token punctuation">;</span>
jQuery<span class="token punctuation">.</span>contains <span class="token operator">=</span> Sizzle<span class="token punctuation">.</span>contains<span class="token punctuation">;</span>



<span class="token keyword">var</span> <span class="token function-variable function">dir</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> dir<span class="token punctuation">,</span> until</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> matched <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		truncate <span class="token operator">=</span> until <span class="token operator">!==</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> elem<span class="token punctuation">[</span> dir <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">9</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> truncate <span class="token operator">&amp;&amp;</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span> until <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			matched<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> matched<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> <span class="token function-variable function">siblings</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">n<span class="token punctuation">,</span> elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> matched <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> n<span class="token punctuation">;</span> n <span class="token operator">=</span> n<span class="token punctuation">.</span>nextSibling <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> n<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> n <span class="token operator">!==</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			matched<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> n <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> matched<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> rneedsContext <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>match<span class="token punctuation">.</span>needsContext<span class="token punctuation">;</span>

<span class="token keyword">var</span> rsingleTag <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/^&lt;([\w-]+)\s*\/?&gt;(?:&lt;\/\1&gt;|)$/</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token keyword">var</span> risSimple <span class="token operator">=</span> <span class="token regex">/^.[^:#\[\.,]*$/</span><span class="token punctuation">;</span>

<span class="token comment">// Implement the identical functionality for filter and not</span>
<span class="token keyword">function</span> <span class="token function">winnow</span><span class="token punctuation">(</span> <span class="token parameter">elements<span class="token punctuation">,</span> qualifier<span class="token punctuation">,</span> not</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> qualifier <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span> elements<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token comment">/* jshint -W018 */</span>
			<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token function">qualifier</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> i<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token operator">!==</span> not<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> qualifier<span class="token punctuation">.</span>nodeType <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span> elements<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span> elem <span class="token operator">===</span> qualifier <span class="token punctuation">)</span> <span class="token operator">!==</span> not<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> qualifier <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> risSimple<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> qualifier <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> qualifier<span class="token punctuation">,</span> elements<span class="token punctuation">,</span> not <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		qualifier <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> qualifier<span class="token punctuation">,</span> elements <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span> elements<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> qualifier <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> not<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span><span class="token function-variable function">filter</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">expr<span class="token punctuation">,</span> elems<span class="token punctuation">,</span> not</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> elem <span class="token operator">=</span> elems<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> not <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		expr <span class="token operator">=</span> <span class="token string">&quot;:not(&quot;</span> <span class="token operator">+</span> expr <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> elems<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span>
		jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span><span class="token function">matchesSelector</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> expr <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token punctuation">[</span> elem <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token operator">:</span>
		jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span><span class="token function">matches</span><span class="token punctuation">(</span> expr<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">find</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span>
			ret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
			len <span class="token operator">=</span> self<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> selector <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> self<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> self<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Needed because $( selector, context ) becomes $( context ).find( selector )</span>
		ret <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span> len <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> jQuery<span class="token punctuation">.</span><span class="token function">unique</span><span class="token punctuation">(</span> ret <span class="token punctuation">)</span> <span class="token operator">:</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>
		ret<span class="token punctuation">.</span>selector <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selector <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>selector <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> selector <span class="token operator">:</span> selector<span class="token punctuation">;</span>
		<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span> <span class="token function">winnow</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> selector <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">not</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span> <span class="token function">winnow</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> selector <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">is</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token function">winnow</span><span class="token punctuation">(</span>
			<span class="token keyword">this</span><span class="token punctuation">,</span>

			<span class="token comment">// If this is a positional/relative selector, check membership in the returned set</span>
			<span class="token comment">// so $(&quot;p:first&quot;).is(&quot;p:last&quot;) won't return true for a doc with two &quot;p&quot;.</span>
			<span class="token keyword">typeof</span> selector <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span> rneedsContext<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">?</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">:</span>
				selector <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token boolean">false</span>
		<span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// Initialize a jQuery object</span>


<span class="token comment">// A central reference to the root jQuery(document)</span>
<span class="token keyword">var</span> rootjQuery<span class="token punctuation">,</span>

	<span class="token comment">// A simple way to check for HTML strings</span>
	<span class="token comment">// Prioritize #id over &lt;tag&gt; to avoid XSS via location.hash (#9521)</span>
	<span class="token comment">// Strict HTML recognition (#11290: must start with &lt;)</span>
	rquickExpr <span class="token operator">=</span> <span class="token regex">/^(?:\s*(&lt;[\w\W]+&gt;)[^&gt;]*|#([\w-]*))$/</span><span class="token punctuation">,</span>

	init <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">init</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> context<span class="token punctuation">,</span> root</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> match<span class="token punctuation">,</span> elem<span class="token punctuation">;</span>

		<span class="token comment">// HANDLE: $(&quot;&quot;), $(null), $(undefined), $(false)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>selector <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// init accepts an alternate rootjQuery</span>
		<span class="token comment">// so migrate can support jQuery.sub (gh-2101)</span>
		root <span class="token operator">=</span> root <span class="token operator">||</span> rootjQuery<span class="token punctuation">;</span>

		<span class="token comment">// Handle HTML strings</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> selector <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> selector<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&lt;&quot;</span> <span class="token operator">&amp;&amp;</span>
				selector<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span> selector<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&gt;&quot;</span> <span class="token operator">&amp;&amp;</span>
				selector<span class="token punctuation">.</span>length <span class="token operator">&gt;=</span> <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Assume that strings that start and end with &lt;&gt; are HTML and skip the regex check</span>
				match <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token keyword">null</span><span class="token punctuation">,</span> selector<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				match <span class="token operator">=</span> rquickExpr<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Match html or make sure no context is specified for #id</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> match <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token operator">!</span>context <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// HANDLE: $(html) -&gt; $(array)</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> match<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					context <span class="token operator">=</span> context <span class="token keyword">instanceof</span> <span class="token class-name">jQuery</span> <span class="token operator">?</span> context<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">:</span> context<span class="token punctuation">;</span>

					<span class="token comment">// scripts is true for back-compat</span>
					<span class="token comment">// Intentionally let the error be thrown if parseHTML is not present</span>
					jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">parseHTML</span><span class="token punctuation">(</span>
						match<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
						context <span class="token operator">&amp;&amp;</span> context<span class="token punctuation">.</span>nodeType <span class="token operator">?</span> context<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> context <span class="token operator">:</span> document<span class="token punctuation">,</span>
						<span class="token boolean">true</span>
					<span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token comment">// HANDLE: $(html, props)</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> rsingleTag<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span> context <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">for</span> <span class="token punctuation">(</span> match <span class="token keyword">in</span> context <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							<span class="token comment">// Properties of context are called as methods if possible</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> match <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">this</span><span class="token punctuation">[</span> match <span class="token punctuation">]</span><span class="token punctuation">(</span> context<span class="token punctuation">[</span> match <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

							<span class="token comment">// ...and otherwise set as attributes</span>
							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
								<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> match<span class="token punctuation">,</span> context<span class="token punctuation">[</span> match <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

				<span class="token comment">// HANDLE: $(#id)</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					elem <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span> match<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token comment">// Check parentNode to catch when Blackberry 4.6 returns</span>
					<span class="token comment">// nodes that are no longer in the document #6963</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> elem <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Handle the case where IE and Opera return items</span>
						<span class="token comment">// by name instead of ID</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>id <span class="token operator">!==</span> match<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> rootjQuery<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Otherwise, we inject the element directly into the jQuery object</span>
						<span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
						<span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> document<span class="token punctuation">;</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span>selector <span class="token operator">=</span> selector<span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

			<span class="token comment">// HANDLE: $(expr, $(...))</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>context <span class="token operator">||</span> context<span class="token punctuation">.</span>jquery <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token punctuation">(</span> context <span class="token operator">||</span> root <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// HANDLE: $(expr, context)</span>
			<span class="token comment">// (which is just equivalent to: $(context).find(expr)</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">constructor</span><span class="token punctuation">(</span> context <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

		<span class="token comment">// HANDLE: $(DOMElement)</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> selector<span class="token punctuation">.</span>nodeType <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">=</span> selector<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

		<span class="token comment">// HANDLE: $(function)</span>
		<span class="token comment">// Shortcut for document ready</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">typeof</span> root<span class="token punctuation">.</span>ready <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">?</span>
				root<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">:</span>

				<span class="token comment">// Execute immediately if ready is not present</span>
				<span class="token function">selector</span><span class="token punctuation">(</span> jQuery <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> selector<span class="token punctuation">.</span>selector <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>selector <span class="token operator">=</span> selector<span class="token punctuation">.</span>selector<span class="token punctuation">;</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token operator">=</span> selector<span class="token punctuation">.</span>context<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Give the init function the jQuery prototype for later instantiation</span>
init<span class="token punctuation">.</span>prototype <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">;</span>

<span class="token comment">// Initialize central reference</span>
rootjQuery <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> document <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> rparentsprev <span class="token operator">=</span> <span class="token regex">/^(?:parents|prev(?:Until|All))/</span><span class="token punctuation">,</span>

	<span class="token comment">// methods guaranteed to produce a unique set when starting from a unique set</span>
	guaranteedUnique <span class="token operator">=</span> <span class="token punctuation">{</span>
		children<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		contents<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		next<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		prev<span class="token operator">:</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">has</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">target</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span>
			targets <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> target<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			len <span class="token operator">=</span> targets<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> targets<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">closest</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selectors<span class="token punctuation">,</span> context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> cur<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			l <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			matched <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			pos <span class="token operator">=</span> rneedsContext<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> selectors <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> selectors <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> selectors<span class="token punctuation">,</span> context <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>context <span class="token punctuation">)</span> <span class="token operator">:</span>
				<span class="token number">0</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> cur <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span> cur <span class="token operator">&amp;&amp;</span> cur <span class="token operator">!==</span> context<span class="token punctuation">;</span> cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Always skip document fragments</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> cur<span class="token punctuation">.</span>nodeType <span class="token operator">&lt;</span> <span class="token number">11</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> pos <span class="token operator">?</span>
					pos<span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>

					<span class="token comment">// Don't pass non-elements to Sizzle</span>
					cur<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>
						jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span><span class="token function">matchesSelector</span><span class="token punctuation">(</span> cur<span class="token punctuation">,</span> selectors <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					matched<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">break</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span> matched<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> jQuery<span class="token punctuation">.</span><span class="token function">uniqueSort</span><span class="token punctuation">(</span> matched <span class="token punctuation">)</span> <span class="token operator">:</span> matched <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Determine the position of an element within</span>
	<span class="token comment">// the matched set of elements</span>
	<span class="token function-variable function">index</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// No argument, return index in parent</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">first</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">prevAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// index in selector</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> elem <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Locate the position of the desired element</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span>

			<span class="token comment">// If it receives a jQuery object, the first element is used</span>
			elem<span class="token punctuation">.</span>jquery <span class="token operator">?</span> elem<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">:</span> elem<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> context</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span>
			jQuery<span class="token punctuation">.</span><span class="token function">uniqueSort</span><span class="token punctuation">(</span>
				jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> context <span class="token punctuation">)</span> <span class="token punctuation">)</span>
			<span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">addBack</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> selector <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>prevObject <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prevObject<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">sibling</span><span class="token punctuation">(</span> <span class="token parameter">cur<span class="token punctuation">,</span> dir</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">do</span> <span class="token punctuation">{</span>
		cur <span class="token operator">=</span> cur<span class="token punctuation">[</span> dir <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span> cur <span class="token operator">&amp;&amp;</span> cur<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> cur<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">parent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> parent <span class="token operator">=</span> elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
		<span class="token keyword">return</span> parent <span class="token operator">&amp;&amp;</span> parent<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">11</span> <span class="token operator">?</span> parent <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">parents</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">dir</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;parentNode&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">parentsUntil</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> i<span class="token punctuation">,</span> until</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">dir</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;parentNode&quot;</span><span class="token punctuation">,</span> until <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">next</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">sibling</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;nextSibling&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">prev</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">sibling</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;previousSibling&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">nextAll</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">dir</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;nextSibling&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">prevAll</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">dir</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;previousSibling&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">nextUntil</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> i<span class="token punctuation">,</span> until</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">dir</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;nextSibling&quot;</span><span class="token punctuation">,</span> until <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">prevUntil</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> i<span class="token punctuation">,</span> until</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">dir</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;previousSibling&quot;</span><span class="token punctuation">,</span> until <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">siblings</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">siblings</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>parentNode <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>firstChild<span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">children</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">siblings</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">contents</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;iframe&quot;</span> <span class="token punctuation">)</span> <span class="token operator">?</span>
			elem<span class="token punctuation">.</span>contentDocument <span class="token operator">||</span> elem<span class="token punctuation">.</span>contentWindow<span class="token punctuation">.</span>document <span class="token operator">:</span>
			jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> elem<span class="token punctuation">.</span>childNodes <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">until<span class="token punctuation">,</span> selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> ret <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> fn<span class="token punctuation">,</span> until <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">5</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;Until&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			selector <span class="token operator">=</span> until<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> selector <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> selector <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			ret <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Remove duplicates</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>guaranteedUnique<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				ret <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">uniqueSort</span><span class="token punctuation">(</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Reverse order for parents* and prev-derivatives</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> rparentsprev<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				ret <span class="token operator">=</span> ret<span class="token punctuation">.</span><span class="token function">reverse</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> rnotwhite <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/\S+/g</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token comment">// Convert String-formatted options into Object-formatted ones</span>
<span class="token keyword">function</span> <span class="token function">createOptions</span><span class="token punctuation">(</span> <span class="token parameter">options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> object <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
	jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> options<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> flag</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		object<span class="token punctuation">[</span> flag <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> object<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
 * Create a callback list using the following parameters:
 *
 *	options: an optional list of space-separated options that will change how
 *			the callback list behaves or a more traditional option object
 *
 * By default a callback list will act like an event callback list and can be
 * &quot;fired&quot; multiple times.
 *
 * Possible options:
 *
 *	once:			will ensure the callback list can only be fired once (like a Deferred)
 *
 *	memory:			will keep track of previous values and will call any callback added
 *					after the list has been fired right away with the latest &quot;memorized&quot;
 *					values (like a Deferred)
 *
 *	unique:			will ensure a callback can only be added once (no duplicate in the list)
 *
 *	stopOnFalse:	interrupt callings when a callback returns false
 *
 */</span>
jQuery<span class="token punctuation">.</span><span class="token function-variable function">Callbacks</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Convert options from String-formatted to Object-formatted if needed</span>
	<span class="token comment">// (we check in cache first)</span>
	options <span class="token operator">=</span> <span class="token keyword">typeof</span> options <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span>
		<span class="token function">createOptions</span><span class="token punctuation">(</span> options <span class="token punctuation">)</span> <span class="token operator">:</span>
		jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> options <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">var</span> <span class="token comment">// Flag to know if list is currently firing</span>
		firing<span class="token punctuation">,</span>

		<span class="token comment">// Last fire value for non-forgettable lists</span>
		memory<span class="token punctuation">,</span>

		<span class="token comment">// Flag to know if list was already fired</span>
		fired<span class="token punctuation">,</span>

		<span class="token comment">// Flag to prevent firing</span>
		locked<span class="token punctuation">,</span>

		<span class="token comment">// Actual callback list</span>
		list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

		<span class="token comment">// Queue of execution data for repeatable lists</span>
		queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>

		<span class="token comment">// Index of currently firing callback (modified by add/remove as needed)</span>
		firingIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>

		<span class="token comment">// Fire callbacks</span>
		<span class="token function-variable function">fire</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Enforce single-firing</span>
			locked <span class="token operator">=</span> options<span class="token punctuation">.</span>once<span class="token punctuation">;</span>

			<span class="token comment">// Execute callbacks for all pending executions,</span>
			<span class="token comment">// respecting firingIndex overrides and runtime changes</span>
			fired <span class="token operator">=</span> firing <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">;</span> firingIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				memory <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token operator">++</span>firingIndex <span class="token operator">&lt;</span> list<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// Run callback and check for early termination</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> list<span class="token punctuation">[</span> firingIndex <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> memory<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> memory<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span>
						options<span class="token punctuation">.</span>stopOnFalse <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Jump to end and forget the data so .add doesn't re-fire</span>
						firingIndex <span class="token operator">=</span> list<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
						memory <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Forget the data if we're done with it</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>memory <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				memory <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			firing <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

			<span class="token comment">// Clean up if we're done firing for good</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> locked <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Keep an empty list if we have data for future add calls</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> memory <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token comment">// Otherwise, this object is spent</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					list <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">// Actual Callbacks object</span>
		self <span class="token operator">=</span> <span class="token punctuation">{</span>

			<span class="token comment">// Add a callback or a collection of callbacks to the list</span>
			<span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> list <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// If we have memory from a past run, we should fire after adding</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> memory <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>firing <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						firingIndex <span class="token operator">=</span> list<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>
						queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> memory <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">add</span><span class="token punctuation">(</span> <span class="token parameter">args</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> args<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> arg</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> arg <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>unique <span class="token operator">||</span> <span class="token operator">!</span>self<span class="token punctuation">.</span><span class="token function">has</span><span class="token punctuation">(</span> arg <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									list<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> arg <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> arg <span class="token operator">&amp;&amp;</span> arg<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> arg <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

								<span class="token comment">// Inspect recursively</span>
								<span class="token function">add</span><span class="token punctuation">(</span> arg <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> memory <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>firing <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Remove a callback from the list</span>
			<span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> arguments<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> arg</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> index<span class="token punctuation">;</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> index <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> arg<span class="token punctuation">,</span> list<span class="token punctuation">,</span> index <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						list<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> index<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

						<span class="token comment">// Handle firing indexes</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> index <span class="token operator">&lt;=</span> firingIndex <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							firingIndex<span class="token operator">--</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Check if a given callback is in the list.</span>
			<span class="token comment">// If no argument is given, return whether or not list has callbacks attached.</span>
			<span class="token function-variable function">has</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> fn <span class="token operator">?</span>
					jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> fn<span class="token punctuation">,</span> list <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>
					list<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Remove all callbacks from the list</span>
			<span class="token function-variable function">empty</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> list <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					list <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Disable .fire and .add</span>
			<span class="token comment">// Abort any current/pending executions</span>
			<span class="token comment">// Clear all callbacks and values</span>
			<span class="token function-variable function">disable</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				locked <span class="token operator">=</span> queue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				list <span class="token operator">=</span> memory <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function-variable function">disabled</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token operator">!</span>list<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Disable .fire</span>
			<span class="token comment">// Also disable .add unless we have memory (since it would have no effect)</span>
			<span class="token comment">// Abort any pending executions</span>
			<span class="token function-variable function">lock</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				locked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>memory <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					self<span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function-variable function">locked</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>locked<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Call all callbacks with the given context and arguments</span>
			<span class="token function-variable function">fireWith</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">context<span class="token punctuation">,</span> args</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>locked <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					args <span class="token operator">=</span> args <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
					args <span class="token operator">=</span> <span class="token punctuation">[</span> context<span class="token punctuation">,</span> args<span class="token punctuation">.</span>slice <span class="token operator">?</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> args <span class="token punctuation">]</span><span class="token punctuation">;</span>
					queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>firing <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Call all the callbacks with the given arguments</span>
			<span class="token function-variable function">fire</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				self<span class="token punctuation">.</span><span class="token function">fireWith</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// To know if the callbacks have already been called at least once</span>
			<span class="token function-variable function">fired</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>fired<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> self<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

	<span class="token function-variable function">Deferred</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">func</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> tuples <span class="token operator">=</span> <span class="token punctuation">[</span>

				<span class="token comment">// action, add listener, listener list, final state</span>
				<span class="token punctuation">[</span> <span class="token string">&quot;resolve&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;done&quot;</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">Callbacks</span><span class="token punctuation">(</span> <span class="token string">&quot;once memory&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;resolved&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token punctuation">[</span> <span class="token string">&quot;reject&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;fail&quot;</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">Callbacks</span><span class="token punctuation">(</span> <span class="token string">&quot;once memory&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;rejected&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
				<span class="token punctuation">[</span> <span class="token string">&quot;notify&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;progress&quot;</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">Callbacks</span><span class="token punctuation">(</span> <span class="token string">&quot;memory&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">]</span>
			<span class="token punctuation">]</span><span class="token punctuation">,</span>
			state <span class="token operator">=</span> <span class="token string">&quot;pending&quot;</span><span class="token punctuation">,</span>
			promise <span class="token operator">=</span> <span class="token punctuation">{</span>
				<span class="token function-variable function">state</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> state<span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token function-variable function">always</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					deferred<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>
				<span class="token function-variable function">then</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token comment">/* fnDone, fnFail, fnProgress */</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> fns <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
					<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">newDefer</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> tuples<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> tuple</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">var</span> fn <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> fns<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> fns<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>

							<span class="token comment">// deferred[ done | fail | progress ] for forwarding actions to newDefer</span>
							deferred<span class="token punctuation">[</span> tuple<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">var</span> returned <span class="token operator">=</span> fn <span class="token operator">&amp;&amp;</span> <span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> returned <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> returned<span class="token punctuation">.</span>promise <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									returned<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
										<span class="token punctuation">.</span><span class="token function">progress</span><span class="token punctuation">(</span> newDefer<span class="token punctuation">.</span>notify <span class="token punctuation">)</span>
										<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> newDefer<span class="token punctuation">.</span>resolve <span class="token punctuation">)</span>
										<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span> newDefer<span class="token punctuation">.</span>reject <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
									newDefer<span class="token punctuation">[</span> tuple<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;With&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">(</span>
										<span class="token keyword">this</span> <span class="token operator">===</span> promise <span class="token operator">?</span> newDefer<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
										fn <span class="token operator">?</span> <span class="token punctuation">[</span> returned <span class="token punctuation">]</span> <span class="token operator">:</span> arguments
									<span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						fns <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token comment">// Get a promise for this deferred</span>
				<span class="token comment">// If obj is provided, the promise aspect is added to the object</span>
				<span class="token function-variable function">promise</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">obj</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> obj <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> promise <span class="token punctuation">)</span> <span class="token operator">:</span> promise<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			deferred <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Keep pipe for back-compat</span>
		promise<span class="token punctuation">.</span>pipe <span class="token operator">=</span> promise<span class="token punctuation">.</span>then<span class="token punctuation">;</span>

		<span class="token comment">// Add list-specific methods</span>
		jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> tuples<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> tuple</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> list <span class="token operator">=</span> tuple<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
				stateString <span class="token operator">=</span> tuple<span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token comment">// promise[ done | fail | progress ] = list.add</span>
			promise<span class="token punctuation">[</span> tuple<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span>add<span class="token punctuation">;</span>

			<span class="token comment">// Handle state</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> stateString <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				list<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// state = [ resolved | rejected ]</span>
					state <span class="token operator">=</span> stateString<span class="token punctuation">;</span>

				<span class="token comment">// [ reject_list | resolve_list ].disable; progress_list.lock</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> tuples<span class="token punctuation">[</span> i <span class="token operator">^</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>disable<span class="token punctuation">,</span> tuples<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>lock <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// deferred[ resolve | reject | notify ]</span>
			deferred<span class="token punctuation">[</span> tuple<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				deferred<span class="token punctuation">[</span> tuple<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;With&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">===</span> deferred <span class="token operator">?</span> promise <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
			deferred<span class="token punctuation">[</span> tuple<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;With&quot;</span> <span class="token punctuation">]</span> <span class="token operator">=</span> list<span class="token punctuation">.</span>fireWith<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Make the deferred a promise</span>
		promise<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span> deferred <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Call given func if any</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> func <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">func</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> deferred<span class="token punctuation">,</span> deferred <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// All done!</span>
		<span class="token keyword">return</span> deferred<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Deferred helper</span>
	<span class="token function-variable function">when</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> subordinate <span class="token comment">/* , ..., subordinateN */</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			resolveValues <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span><span class="token punctuation">,</span>
			length <span class="token operator">=</span> resolveValues<span class="token punctuation">.</span>length<span class="token punctuation">,</span>

			<span class="token comment">// the count of uncompleted subordinates</span>
			remaining <span class="token operator">=</span> length <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">||</span>
				<span class="token punctuation">(</span> subordinate <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> subordinate<span class="token punctuation">.</span>promise <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">?</span> length <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

			<span class="token comment">// the master Deferred.</span>
			<span class="token comment">// If resolveValues consist of only a single Deferred, just use that.</span>
			deferred <span class="token operator">=</span> remaining <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span> subordinate <span class="token operator">:</span> jQuery<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token comment">// Update function for both resolve and progress values</span>
			<span class="token function-variable function">updateFunc</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> contexts<span class="token punctuation">,</span> values</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					contexts<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
					values<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span> <span class="token operator">:</span> value<span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> values <span class="token operator">===</span> progressValues <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						deferred<span class="token punctuation">.</span><span class="token function">notifyWith</span><span class="token punctuation">(</span> contexts<span class="token punctuation">,</span> values <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> <span class="token operator">--</span>remaining <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						deferred<span class="token punctuation">.</span><span class="token function">resolveWith</span><span class="token punctuation">(</span> contexts<span class="token punctuation">,</span> values <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			progressValues<span class="token punctuation">,</span> progressContexts<span class="token punctuation">,</span> resolveContexts<span class="token punctuation">;</span>

		<span class="token comment">// add listeners to Deferred subordinates; treat others as resolved</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			progressValues <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span> length <span class="token punctuation">)</span><span class="token punctuation">;</span>
			progressContexts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span> length <span class="token punctuation">)</span><span class="token punctuation">;</span>
			resolveContexts <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Array</span><span class="token punctuation">(</span> length <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> resolveValues<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> resolveValues<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">.</span>promise <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					resolveValues<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
						<span class="token punctuation">.</span><span class="token function">progress</span><span class="token punctuation">(</span> <span class="token function">updateFunc</span><span class="token punctuation">(</span> i<span class="token punctuation">,</span> progressContexts<span class="token punctuation">,</span> progressValues <span class="token punctuation">)</span> <span class="token punctuation">)</span>
						<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> <span class="token function">updateFunc</span><span class="token punctuation">(</span> i<span class="token punctuation">,</span> resolveContexts<span class="token punctuation">,</span> resolveValues <span class="token punctuation">)</span> <span class="token punctuation">)</span>
						<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span> deferred<span class="token punctuation">.</span>reject <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token operator">--</span>remaining<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// if we're not waiting on anything, resolve the master</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>remaining <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			deferred<span class="token punctuation">.</span><span class="token function">resolveWith</span><span class="token punctuation">(</span> resolveContexts<span class="token punctuation">,</span> resolveValues <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> deferred<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// The deferred used on DOM ready</span>
<span class="token keyword">var</span> readyList<span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">ready</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Add the callback</span>
	jQuery<span class="token punctuation">.</span>ready<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> fn <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

	<span class="token comment">// Is the DOM ready to be used? Set to true once it occurs.</span>
	isReady<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>

	<span class="token comment">// A counter to track how many items to wait for before</span>
	<span class="token comment">// the ready event fires. See #6781</span>
	readyWait<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span>

	<span class="token comment">// Hold (or release) the ready event</span>
	<span class="token function-variable function">holdReady</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">hold</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> hold <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span>readyWait<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Handle when the DOM is ready</span>
	<span class="token function-variable function">ready</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">wait</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Abort if there are pending holds or we're already ready</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> wait <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token operator">--</span>jQuery<span class="token punctuation">.</span>readyWait <span class="token operator">:</span> jQuery<span class="token punctuation">.</span>isReady <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Remember that the DOM is ready</span>
		jQuery<span class="token punctuation">.</span>isReady <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

		<span class="token comment">// If a normal DOM Ready event fired, decrement, and wait if need be</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> wait <span class="token operator">!==</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">--</span>jQuery<span class="token punctuation">.</span>readyWait <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// If there are functions bound, to execute</span>
		readyList<span class="token punctuation">.</span><span class="token function">resolveWith</span><span class="token punctuation">(</span> document<span class="token punctuation">,</span> <span class="token punctuation">[</span> jQuery <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Trigger any bound ready events</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>triggerHandler <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">jQuery</span><span class="token punctuation">(</span> document <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">triggerHandler</span><span class="token punctuation">(</span> <span class="token string">&quot;ready&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">jQuery</span><span class="token punctuation">(</span> document <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span> <span class="token string">&quot;ready&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Clean-up method for dom ready events
 */</span>
<span class="token keyword">function</span> <span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>addEventListener <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		document<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>
		window<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		document<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span> <span class="token string">&quot;onreadystatechange&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>
		window<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span> <span class="token string">&quot;onload&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * The ready event handler and self cleanup method
 */</span>
<span class="token keyword">function</span> <span class="token function">completed</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// readyState === &quot;complete&quot; is good enough for us to call the dom ready in oldIE</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>addEventListener <span class="token operator">||</span>
		window<span class="token punctuation">.</span>event<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;load&quot;</span> <span class="token operator">||</span>
		document<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token string">&quot;complete&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		jQuery<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span>ready<span class="token punctuation">.</span><span class="token function-variable function">promise</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">obj</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>readyList <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		readyList <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Catch cases where $(document).ready() is called</span>
		<span class="token comment">// after the browser event has already occurred.</span>
		<span class="token comment">// Support: IE6-10</span>
		<span class="token comment">// Older IE sometimes signals &quot;interactive&quot; too soon</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token string">&quot;complete&quot;</span> <span class="token operator">||</span>
			<span class="token punctuation">(</span> document<span class="token punctuation">.</span>readyState <span class="token operator">!==</span> <span class="token string">&quot;loading&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">.</span>doScroll <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Handle it asynchronously to allow scripts the opportunity to delay ready</span>
			window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>ready <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Standards-based browsers support DOMContentLoaded</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>addEventListener <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Use the handy event callback</span>
			document<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;DOMContentLoaded&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// A fallback to window.onload, that will always work</span>
			window<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> <span class="token string">&quot;load&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// If IE event model is used</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

			<span class="token comment">// Ensure firing before onload, maybe late but safe also for iframes</span>
			document<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span> <span class="token string">&quot;onreadystatechange&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// A fallback to window.onload, that will always work</span>
			window<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span> <span class="token string">&quot;onload&quot;</span><span class="token punctuation">,</span> completed <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// If IE and not a frame</span>
			<span class="token comment">// continually check to see if the document is ready</span>
			<span class="token keyword">var</span> top <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				top <span class="token operator">=</span> window<span class="token punctuation">.</span>frameElement <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> top <span class="token operator">&amp;&amp;</span> top<span class="token punctuation">.</span>doScroll <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token punctuation">(</span> <span class="token keyword">function</span> <span class="token function">doScrollCheck</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span>isReady <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token keyword">try</span> <span class="token punctuation">{</span>

							<span class="token comment">// Use the trick by Diego Perini</span>
							<span class="token comment">// http://javascript.nwbox.com/IEContentLoaded/</span>
							top<span class="token punctuation">.</span><span class="token function">doScroll</span><span class="token punctuation">(</span> <span class="token string">&quot;left&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span> doScrollCheck<span class="token punctuation">,</span> <span class="token number">50</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// detach all dom ready events</span>
						<span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

						<span class="token comment">// and execute any waiting functions</span>
						jQuery<span class="token punctuation">.</span><span class="token function">ready</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> readyList<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Kick off the DOM ready check even if the user does not</span>
jQuery<span class="token punctuation">.</span>ready<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>




<span class="token comment">// Support: IE&lt;9</span>
<span class="token comment">// Iteration over object's inherited properties before its own</span>
<span class="token keyword">var</span> i<span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> support <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">break</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
support<span class="token punctuation">.</span>ownFirst <span class="token operator">=</span> i <span class="token operator">===</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// Note: most support tests are defined in their respective modules.</span>
<span class="token comment">// false until the test is run</span>
support<span class="token punctuation">.</span>inlineBlockNeedsLayout <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

<span class="token comment">// Execute ASAP in case we need to set body.style.zoom</span>
<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Minified: var a,b,c,d</span>
	<span class="token keyword">var</span> val<span class="token punctuation">,</span> div<span class="token punctuation">,</span> body<span class="token punctuation">,</span> container<span class="token punctuation">;</span>

	body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;body&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>body <span class="token operator">||</span> <span class="token operator">!</span>body<span class="token punctuation">.</span>style <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Return for frameset docs that don't have a body</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Setup</span>
	div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	container<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;position:absolute;border:0;width:0;height:0;top:0;left:-9999px&quot;</span><span class="token punctuation">;</span>
	body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> container <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zoom <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Support: IE&lt;8</span>
		<span class="token comment">// Check if natively block-level elements act like inline-block</span>
		<span class="token comment">// elements when setting their display to 'inline' and giving</span>
		<span class="token comment">// them layout</span>
		div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1&quot;</span><span class="token punctuation">;</span>

		support<span class="token punctuation">.</span>inlineBlockNeedsLayout <span class="token operator">=</span> val <span class="token operator">=</span> div<span class="token punctuation">.</span>offsetWidth <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Prevent IE 6 from affecting layout for positioned elements #11048</span>
			<span class="token comment">// Prevent IE from shrinking the body in IE 7 mode #12869</span>
			<span class="token comment">// Support: IE&lt;8</span>
			body<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zoom <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> container <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: IE&lt;9</span>
	support<span class="token punctuation">.</span>deleteExpando <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">delete</span> div<span class="token punctuation">.</span>test<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		support<span class="token punctuation">.</span>deleteExpando <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Null elements to avoid leaks in IE.</span>
	div <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> <span class="token function-variable function">acceptData</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> noData <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>noData<span class="token punctuation">[</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
		nodeType <span class="token operator">=</span> <span class="token operator">+</span>elem<span class="token punctuation">.</span>nodeType <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>

	<span class="token comment">// Do not set data on non-element DOM nodes because it will not be cleared (#8335).</span>
	<span class="token keyword">return</span> nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> nodeType <span class="token operator">!==</span> <span class="token number">9</span> <span class="token operator">?</span>
		<span class="token boolean">false</span> <span class="token operator">:</span>

		<span class="token comment">// Nodes accept data unless otherwise specified; rejection can be conditional</span>
		<span class="token operator">!</span>noData <span class="token operator">||</span> noData <span class="token operator">!==</span> <span class="token boolean">true</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;classid&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> noData<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>




<span class="token keyword">var</span> rbrace <span class="token operator">=</span> <span class="token regex">/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/</span><span class="token punctuation">,</span>
	rmultiDash <span class="token operator">=</span> <span class="token regex">/([A-Z])/g</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">dataAttr</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> key<span class="token punctuation">,</span> data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// If nothing was found internally, try to fetch any</span>
	<span class="token comment">// data from the HTML5 data-* attribute</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> data <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;data-&quot;</span> <span class="token operator">+</span> key<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rmultiDash<span class="token punctuation">,</span> <span class="token string">&quot;-$1&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		data <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> data <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				data <span class="token operator">=</span> data <span class="token operator">===</span> <span class="token string">&quot;true&quot;</span> <span class="token operator">?</span> <span class="token boolean">true</span> <span class="token operator">:</span>
					data <span class="token operator">===</span> <span class="token string">&quot;false&quot;</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span>
					data <span class="token operator">===</span> <span class="token string">&quot;null&quot;</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span>

					<span class="token comment">// Only convert to a number if it doesn't change the string</span>
					<span class="token operator">+</span>data <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">===</span> data <span class="token operator">?</span> <span class="token operator">+</span>data <span class="token operator">:</span>
					rbrace<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token operator">?</span> jQuery<span class="token punctuation">.</span><span class="token function">parseJSON</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token operator">:</span>
					data<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

			<span class="token comment">// Make sure we set the data so it isn't changed later</span>
			jQuery<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> key<span class="token punctuation">,</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			data <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> data<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// checks a cache object for emptiness</span>
<span class="token keyword">function</span> <span class="token function">isEmptyDataObject</span><span class="token punctuation">(</span> <span class="token parameter">obj</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> name<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// if the public data object is empty, the private is still empty</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token operator">===</span> <span class="token string">&quot;data&quot;</span> <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span> obj<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token operator">!==</span> <span class="token string">&quot;toJSON&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">internalData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> data<span class="token punctuation">,</span> pvt <span class="token comment">/* Internal Use Only */</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">acceptData</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> ret<span class="token punctuation">,</span> thisCache<span class="token punctuation">,</span>
		internalKey <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>expando<span class="token punctuation">,</span>

		<span class="token comment">// We have to handle DOM nodes and JS objects differently because IE6-7</span>
		<span class="token comment">// can't GC object references properly across the DOM-JS boundary</span>
		isNode <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType<span class="token punctuation">,</span>

		<span class="token comment">// Only DOM nodes need the global jQuery cache; JS object data is</span>
		<span class="token comment">// attached directly to the object so GC can occur automatically</span>
		cache <span class="token operator">=</span> isNode <span class="token operator">?</span> jQuery<span class="token punctuation">.</span>cache <span class="token operator">:</span> elem<span class="token punctuation">,</span>

		<span class="token comment">// Only defining an ID for JS objects if its cache already exists allows</span>
		<span class="token comment">// the code to shortcut on the same path as a DOM node with no cache</span>
		id <span class="token operator">=</span> isNode <span class="token operator">?</span> elem<span class="token punctuation">[</span> internalKey <span class="token punctuation">]</span> <span class="token operator">:</span> elem<span class="token punctuation">[</span> internalKey <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> internalKey<span class="token punctuation">;</span>

	<span class="token comment">// Avoid doing any more work than we need to when trying to get data on an</span>
	<span class="token comment">// object that has no data at all</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token operator">!</span>id <span class="token operator">||</span> <span class="token operator">!</span>cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span> <span class="token operator">!</span>pvt <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
		data <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>id <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Only DOM nodes need a new unique ID for each element since their data</span>
		<span class="token comment">// ends up in the global cache</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> isNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			id <span class="token operator">=</span> elem<span class="token punctuation">[</span> internalKey <span class="token punctuation">]</span> <span class="token operator">=</span> deletedIds<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>guid<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			id <span class="token operator">=</span> internalKey<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Avoid exposing jQuery metadata on plain JS objects when the object</span>
		<span class="token comment">// is serialized using JSON.stringify</span>
		cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token operator">=</span> isNode <span class="token operator">?</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token operator">:</span> <span class="token punctuation">{</span> toJSON<span class="token operator">:</span> jQuery<span class="token punctuation">.</span>noop <span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// An object can be passed to jQuery.data instead of a key/value pair; this gets</span>
	<span class="token comment">// shallow copied over onto the existing cache</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> pvt <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">.</span>data <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	thisCache <span class="token operator">=</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token comment">// jQuery data() is stored in a separate object inside the object's internal data</span>
	<span class="token comment">// cache in order to avoid key collisions between internal data and user-defined</span>
	<span class="token comment">// data.</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>pvt <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>thisCache<span class="token punctuation">.</span>data <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			thisCache<span class="token punctuation">.</span>data <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		thisCache <span class="token operator">=</span> thisCache<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> data <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		thisCache<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">=</span> data<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Check for both converted-to-camel and non-converted data property names</span>
	<span class="token comment">// If a data property was specified</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> name <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// First Try to find as-is property data</span>
		ret <span class="token operator">=</span> thisCache<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Test for null|undefined property data</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Try to find the camelCased property</span>
			ret <span class="token operator">=</span> thisCache<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		ret <span class="token operator">=</span> thisCache<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">internalRemoveData</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> pvt</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">acceptData</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> thisCache<span class="token punctuation">,</span> i<span class="token punctuation">,</span>
		isNode <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType<span class="token punctuation">,</span>

		<span class="token comment">// See jQuery.data for more information</span>
		cache <span class="token operator">=</span> isNode <span class="token operator">?</span> jQuery<span class="token punctuation">.</span>cache <span class="token operator">:</span> elem<span class="token punctuation">,</span>
		id <span class="token operator">=</span> isNode <span class="token operator">?</span> elem<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span> <span class="token operator">:</span> jQuery<span class="token punctuation">.</span>expando<span class="token punctuation">;</span>

	<span class="token comment">// If there is already no cache entry for this object, there is no</span>
	<span class="token comment">// purpose in continuing</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		thisCache <span class="token operator">=</span> pvt <span class="token operator">?</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token operator">:</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> thisCache <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Support array or space separated string names for data keys</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// try the string as a key before any manipulation</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> thisCache <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					name <span class="token operator">=</span> <span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

					<span class="token comment">// split the camel cased version by spaces unless a key with the spaces exists</span>
					name <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> thisCache <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						name <span class="token operator">=</span> <span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

				<span class="token comment">// If &quot;name&quot; is an array of keys...</span>
				<span class="token comment">// When data is initially created, via (&quot;key&quot;, &quot;val&quot;) signature,</span>
				<span class="token comment">// keys will be converted to camelCase.</span>
				<span class="token comment">// Since there is no way to tell _how_ a key was added, remove</span>
				<span class="token comment">// both plain key and camelCase key. #12786</span>
				<span class="token comment">// This will only penalize the array argument path.</span>
				name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>camelCase <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			i <span class="token operator">=</span> name<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">delete</span> thisCache<span class="token punctuation">[</span> name<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// If there is no data left in the cache, we want to continue</span>
			<span class="token comment">// and let the cache object itself get destroyed</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> pvt <span class="token operator">?</span> <span class="token operator">!</span><span class="token function">isEmptyDataObject</span><span class="token punctuation">(</span> thisCache <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span> thisCache <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// See jQuery.data for more information</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>pvt <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">delete</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">.</span>data<span class="token punctuation">;</span>

		<span class="token comment">// Don't destroy the parent cache unless the internal data object</span>
		<span class="token comment">// had been the only thing left in it</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">isEmptyDataObject</span><span class="token punctuation">(</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Destroy the cache</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> isNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span><span class="token function">cleanData</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> elem <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Use delete when supported for expandos or `cache` is not a window per isWindow (#10080)</span>
	<span class="token comment">/* jshint eqeqeq: false */</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> support<span class="token punctuation">.</span>deleteExpando <span class="token operator">||</span> cache <span class="token operator">!=</span> cache<span class="token punctuation">.</span>window <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token comment">/* jshint eqeqeq: true */</span>
		<span class="token keyword">delete</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token comment">// When all else fails, undefined</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	cache<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// The following elements (space-suffixed to avoid Object.prototype collisions)</span>
	<span class="token comment">// throw uncatchable exceptions if you attempt to set expando properties</span>
	noData<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;applet &quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;embed &quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

		<span class="token comment">// ...but Flash objects (which have this classid) *can* handle expandos</span>
		<span class="token string">&quot;object &quot;</span><span class="token operator">:</span> <span class="token string">&quot;clsid:D27CDB6E-AE6D-11cf-96B8-444553540000&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">hasData</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">?</span> jQuery<span class="token punctuation">.</span>cache<span class="token punctuation">[</span> elem<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">:</span> elem<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token operator">!</span><span class="token operator">!</span>elem <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">isEmptyDataObject</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">internalData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">removeData</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">internalRemoveData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// For internal use only.</span>
	<span class="token function-variable function">_data</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">internalData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">_removeData</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">internalRemoveData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">data</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">key<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span> name<span class="token punctuation">,</span> data<span class="token punctuation">,</span>
			elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
			attrs <span class="token operator">=</span> elem <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>attributes<span class="token punctuation">;</span>

		<span class="token comment">// Special expections of .data basically thwart jQuery.access,</span>
		<span class="token comment">// so implement the relevant behavior ourselves</span>

		<span class="token comment">// Gets all values</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> key <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				data <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;parsedAttrs&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					i <span class="token operator">=</span> attrs<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Support: IE11+</span>
						<span class="token comment">// The attrs elements can be null (#14894)</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> attrs<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							name <span class="token operator">=</span> attrs<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">.</span>name<span class="token punctuation">;</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;data-&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								name <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">5</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token function">dataAttr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> data<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;parsedAttrs&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> data<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Sets multiple values</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> key <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> key <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span>

			<span class="token comment">// Sets one value</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> key<span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token operator">:</span>

			<span class="token comment">// Gets one value</span>
			<span class="token comment">// Try to fetch any internally stored data first</span>
			elem <span class="token operator">?</span> <span class="token function">dataAttr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> key<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> key <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">removeData</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">key</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">removeData</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> key <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">queue</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> queue<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			type <span class="token operator">=</span> <span class="token punctuation">(</span> type <span class="token operator">||</span> <span class="token string">&quot;fx&quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;queue&quot;</span><span class="token punctuation">;</span>
			queue <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Speed up dequeue by getting out quickly if this is just a lookup</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>queue <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					queue <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					queue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> queue <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">dequeue</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		type <span class="token operator">=</span> type <span class="token operator">||</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">;</span>

		<span class="token keyword">var</span> queue <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">,</span>
			startLength <span class="token operator">=</span> queue<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			fn <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_queueHooks</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function-variable function">next</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// If the fx queue is dequeued, always remove the progress sentinel</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> fn <span class="token operator">===</span> <span class="token string">&quot;inprogress&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			fn <span class="token operator">=</span> queue<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			startLength<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> fn <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Add a progress sentinel to prevent the fx queue from being</span>
			<span class="token comment">// automatically dequeued</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> type <span class="token operator">===</span> <span class="token string">&quot;fx&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				queue<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> <span class="token string">&quot;inprogress&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// clear up the last queue stop function</span>
			<span class="token keyword">delete</span> hooks<span class="token punctuation">.</span>stop<span class="token punctuation">;</span>
			<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> next<span class="token punctuation">,</span> hooks <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>startLength <span class="token operator">&amp;&amp;</span> hooks <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			hooks<span class="token punctuation">.</span>empty<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// not intended for public consumption - generates a queueHooks object,</span>
	<span class="token comment">// or returns the current one</span>
	<span class="token function-variable function">_queueHooks</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> key <span class="token operator">=</span> type <span class="token operator">+</span> <span class="token string">&quot;queueHooks&quot;</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> key <span class="token punctuation">)</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
			empty<span class="token operator">:</span> jQuery<span class="token punctuation">.</span><span class="token function">Callbacks</span><span class="token punctuation">(</span> <span class="token string">&quot;once memory&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">_removeData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type <span class="token operator">+</span> <span class="token string">&quot;queue&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				jQuery<span class="token punctuation">.</span><span class="token function">_removeData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> key <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">queue</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> setter <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> type <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			data <span class="token operator">=</span> type<span class="token punctuation">;</span>
			type <span class="token operator">=</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">;</span>
			setter<span class="token operator">--</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&lt;</span> setter <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> data <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
			<span class="token keyword">this</span> <span class="token operator">:</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> queue <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> type<span class="token punctuation">,</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// ensure a hooks for this queue</span>
				jQuery<span class="token punctuation">.</span><span class="token function">_queueHooks</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> type <span class="token operator">===</span> <span class="token string">&quot;fx&quot;</span> <span class="token operator">&amp;&amp;</span> queue<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&quot;inprogress&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">dequeue</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">clearQueue</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> type <span class="token operator">||</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Get a promise resolved when queues of a certain type</span>
	<span class="token comment">// are emptied (fx is the type by default)</span>
	<span class="token function-variable function">promise</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> obj</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> tmp<span class="token punctuation">,</span>
			count <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
			defer <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			elements <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">,</span>
			<span class="token function-variable function">resolve</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> <span class="token operator">--</span>count <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					defer<span class="token punctuation">.</span><span class="token function">resolveWith</span><span class="token punctuation">(</span> elements<span class="token punctuation">,</span> <span class="token punctuation">[</span> elements <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> type <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			obj <span class="token operator">=</span> type<span class="token punctuation">;</span>
			type <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		type <span class="token operator">=</span> type <span class="token operator">||</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">;</span>

		<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tmp <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elements<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> type <span class="token operator">+</span> <span class="token string">&quot;queueHooks&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> tmp <span class="token operator">&amp;&amp;</span> tmp<span class="token punctuation">.</span>empty <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				count<span class="token operator">++</span><span class="token punctuation">;</span>
				tmp<span class="token punctuation">.</span>empty<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> resolve <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		<span class="token function">resolve</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> defer<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> shrinkWrapBlocksVal<span class="token punctuation">;</span>

	support<span class="token punctuation">.</span><span class="token function-variable function">shrinkWrapBlocks</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> shrinkWrapBlocksVal <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> shrinkWrapBlocksVal<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Will be changed later if needed.</span>
		shrinkWrapBlocksVal <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

		<span class="token comment">// Minified: var b,c,d</span>
		<span class="token keyword">var</span> div<span class="token punctuation">,</span> body<span class="token punctuation">,</span> container<span class="token punctuation">;</span>

		body <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;body&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>body <span class="token operator">||</span> <span class="token operator">!</span>body<span class="token punctuation">.</span>style <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Test fired too early or in an unsupported environment, exit.</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Setup</span>
		div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		container<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;position:absolute;border:0;width:0;height:0;top:0;left:-9999px&quot;</span><span class="token punctuation">;</span>
		body<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> container <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Support: IE6</span>
		<span class="token comment">// Check if elements with layout shrink-wrap their children</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>zoom <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Reset CSS: box-sizing; display; margin; border</span>
			div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span>

				<span class="token comment">// Support: Firefox&lt;29, Android 2.3</span>
				<span class="token comment">// Vendor-prefix box-sizing</span>
				<span class="token string">&quot;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;&quot;</span> <span class="token operator">+</span>
				<span class="token string">&quot;box-sizing:content-box;display:block;margin:0;border:0;&quot;</span> <span class="token operator">+</span>
				<span class="token string">&quot;padding:1px;width:1px;zoom:1&quot;</span><span class="token punctuation">;</span>
			div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">&quot;5px&quot;</span><span class="token punctuation">;</span>
			shrinkWrapBlocksVal <span class="token operator">=</span> div<span class="token punctuation">.</span>offsetWidth <span class="token operator">!==</span> <span class="token number">3</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		body<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> container <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> shrinkWrapBlocksVal<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> pnum <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>source<span class="token punctuation">;</span>

<span class="token keyword">var</span> rcssNum <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^(?:([+-])=|)(&quot;</span> <span class="token operator">+</span> pnum <span class="token operator">+</span> <span class="token string">&quot;)([a-z%]*)$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> cssExpand <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">&quot;Top&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Right&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Bottom&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Left&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">isHidden</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> el</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// isHidden might be called from jQuery#filter function;</span>
		<span class="token comment">// in that case, element will be second argument</span>
		elem <span class="token operator">=</span> el <span class="token operator">||</span> elem<span class="token punctuation">;</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;display&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token operator">||</span>
			<span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>



<span class="token keyword">function</span> <span class="token function">adjustCSS</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> valueParts<span class="token punctuation">,</span> tween</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> adjusted<span class="token punctuation">,</span>
		scale <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">,</span>
		maxIterations <span class="token operator">=</span> <span class="token number">20</span><span class="token punctuation">,</span>
		currentValue <span class="token operator">=</span> tween <span class="token operator">?</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> tween<span class="token punctuation">.</span><span class="token function">cur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span> <span class="token operator">:</span>
			<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
		initial <span class="token operator">=</span> <span class="token function">currentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		unit <span class="token operator">=</span> valueParts <span class="token operator">&amp;&amp;</span> valueParts<span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>cssNumber<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;px&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

		<span class="token comment">// Starting value computation is required for potential unit mismatches</span>
		initialInUnit <span class="token operator">=</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>cssNumber<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">||</span> unit <span class="token operator">!==</span> <span class="token string">&quot;px&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">+</span>initial <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
			rcssNum<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> prop <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> initialInUnit <span class="token operator">&amp;&amp;</span> initialInUnit<span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span> <span class="token operator">!==</span> unit <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Trust units reported by jQuery.css</span>
		unit <span class="token operator">=</span> unit <span class="token operator">||</span> initialInUnit<span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Make sure we update the tween properties later on</span>
		valueParts <span class="token operator">=</span> valueParts <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Iteratively approximate from a nonzero starting point</span>
		initialInUnit <span class="token operator">=</span> <span class="token operator">+</span>initial <span class="token operator">||</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token keyword">do</span> <span class="token punctuation">{</span>

			<span class="token comment">// If previous iteration zeroed out, double until we get *something*.</span>
			<span class="token comment">// Use string for doubling so we don't accidentally see scale as unchanged below</span>
			scale <span class="token operator">=</span> scale <span class="token operator">||</span> <span class="token string">&quot;.5&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// Adjust and apply</span>
			initialInUnit <span class="token operator">=</span> initialInUnit <span class="token operator">/</span> scale<span class="token punctuation">;</span>
			jQuery<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> initialInUnit <span class="token operator">+</span> unit <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Update scale, tolerating zero or NaN from tween.cur()</span>
		<span class="token comment">// Break the loop if scale is unchanged or perfect, or if we've just had enough.</span>
		<span class="token punctuation">}</span> <span class="token keyword">while</span> <span class="token punctuation">(</span>
			scale <span class="token operator">!==</span> <span class="token punctuation">(</span> scale <span class="token operator">=</span> <span class="token function">currentValue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">/</span> initial <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> scale <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">--</span>maxIterations
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> valueParts <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		initialInUnit <span class="token operator">=</span> <span class="token operator">+</span>initialInUnit <span class="token operator">||</span> <span class="token operator">+</span>initial <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>

		<span class="token comment">// Apply relative offset (+=/-=) if specified</span>
		adjusted <span class="token operator">=</span> valueParts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">?</span>
			initialInUnit <span class="token operator">+</span> <span class="token punctuation">(</span> valueParts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">*</span> valueParts<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">:</span>
			<span class="token operator">+</span>valueParts<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> tween <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tween<span class="token punctuation">.</span>unit <span class="token operator">=</span> unit<span class="token punctuation">;</span>
			tween<span class="token punctuation">.</span>start <span class="token operator">=</span> initialInUnit<span class="token punctuation">;</span>
			tween<span class="token punctuation">.</span>end <span class="token operator">=</span> adjusted<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> adjusted<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// Multifunctional method to get and set values of a collection</span>
<span class="token comment">// The value/s can optionally be executed if it's a function</span>
<span class="token keyword">var</span> <span class="token function-variable function">access</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elems<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value<span class="token punctuation">,</span> chainable<span class="token punctuation">,</span> emptyGet<span class="token punctuation">,</span> raw</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		length <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
		bulk <span class="token operator">=</span> key <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

	<span class="token comment">// Sets many values</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> key <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		chainable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> key <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">access</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> i<span class="token punctuation">,</span> key<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> emptyGet<span class="token punctuation">,</span> raw <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token comment">// Sets one value</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		chainable <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			raw <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> bulk <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Bulk operations run against the entire set</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> raw <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
				fn <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

			<span class="token comment">// ...except when executing function values</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				bulk <span class="token operator">=</span> fn<span class="token punctuation">;</span>
				<span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> key<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token function">bulk</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> fn <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">fn</span><span class="token punctuation">(</span>
					elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span>
					key<span class="token punctuation">,</span>
					raw <span class="token operator">?</span> value <span class="token operator">:</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">fn</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> key <span class="token punctuation">)</span> <span class="token punctuation">)</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> chainable <span class="token operator">?</span>
		elems <span class="token operator">:</span>

		<span class="token comment">// Gets</span>
		bulk <span class="token operator">?</span>
			<span class="token function">fn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elems <span class="token punctuation">)</span> <span class="token operator">:</span>
			length <span class="token operator">?</span> <span class="token function">fn</span><span class="token punctuation">(</span> elems<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> key <span class="token punctuation">)</span> <span class="token operator">:</span> emptyGet<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token keyword">var</span> rcheckableType <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/^(?:checkbox|radio)$/i</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rtagName <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/&lt;([\w:-]+)/</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rscriptType <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/^$|\/(?:java|ecma)script/i</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rleadingWhitespace <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/^\s+/</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> nodeNames <span class="token operator">=</span> <span class="token string">&quot;abbr|article|aside|audio|bdi|canvas|data|datalist|&quot;</span> <span class="token operator">+</span>
		<span class="token string">&quot;details|dialog|figcaption|figure|footer|header|hgroup|main|&quot;</span> <span class="token operator">+</span>
		<span class="token string">&quot;mark|meter|nav|output|picture|progress|section|summary|template|time|video&quot;</span><span class="token punctuation">;</span>



<span class="token keyword">function</span> <span class="token function">createSafeFragment</span><span class="token punctuation">(</span> <span class="token parameter">document</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> list <span class="token operator">=</span> nodeNames<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot;|&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		safeFrag <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> safeFrag<span class="token punctuation">.</span>createElement <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span> list<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			safeFrag<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span>
				list<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> safeFrag<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		fragment <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createDocumentFragment</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
		input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Setup</span>
	div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// IE strips leading whitespace when .innerHTML is used</span>
	support<span class="token punctuation">.</span>leadingWhitespace <span class="token operator">=</span> div<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">3</span><span class="token punctuation">;</span>

	<span class="token comment">// Make sure that tbody elements aren't automatically inserted</span>
	<span class="token comment">// IE will insert them into empty tables</span>
	support<span class="token punctuation">.</span>tbody <span class="token operator">=</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;tbody&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>

	<span class="token comment">// Make sure that link elements get serialized correctly by innerHTML</span>
	<span class="token comment">// This requires a wrapper element in IE</span>
	support<span class="token punctuation">.</span>htmlSerialize <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;link&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>

	<span class="token comment">// Makes sure cloning an html5 element does not cause problems</span>
	<span class="token comment">// Where outerHTML is undefined, this still works</span>
	support<span class="token punctuation">.</span>html5Clone <span class="token operator">=</span>
		document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;nav&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>outerHTML <span class="token operator">!==</span> <span class="token string">&quot;&lt;:nav&gt;&lt;/:nav&gt;&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// Check if a disconnected checkbox will retain its checked</span>
	<span class="token comment">// value of true after appended to the DOM (IE6/7)</span>
	input<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;checkbox&quot;</span><span class="token punctuation">;</span>
	input<span class="token punctuation">.</span>checked <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> input <span class="token punctuation">)</span><span class="token punctuation">;</span>
	support<span class="token punctuation">.</span>appendChecked <span class="token operator">=</span> input<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>

	<span class="token comment">// Make sure textarea (and checkbox) defaultValue is properly cloned</span>
	<span class="token comment">// Support: IE6-IE11+</span>
	div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;textarea&gt;x&lt;/textarea&gt;&quot;</span><span class="token punctuation">;</span>
	support<span class="token punctuation">.</span>noCloneChecked <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>lastChild<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>

	<span class="token comment">// #11217 - WebKit loses check when the name is after the checked attribute</span>
	fragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: Windows Web Apps (WWA)</span>
	<span class="token comment">// `name` and `type` must use .setAttribute for WWA (#14901)</span>
	input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	input<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;radio&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	input<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;checked&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;checked&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	input<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;name&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> input <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: Safari 5.1, iOS 5.1, Android 4.x, Android 2.3</span>
	<span class="token comment">// old WebKit doesn't clone checked state correctly in fragments</span>
	support<span class="token punctuation">.</span>checkClone <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>lastChild<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>

	<span class="token comment">// Support: IE&lt;9</span>
	<span class="token comment">// Cloned elements keep attachEvent handlers, we use addEventListener on IE9+</span>
	support<span class="token punctuation">.</span>noCloneEvent <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>div<span class="token punctuation">.</span>addEventListener<span class="token punctuation">;</span>

	<span class="token comment">// Support: IE&lt;9</span>
	<span class="token comment">// Since attributes and properties are the same in IE,</span>
	<span class="token comment">// cleanData must set properties to undefined rather than use removeAttribute</span>
	div<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
	support<span class="token punctuation">.</span>attributes <span class="token operator">=</span> <span class="token operator">!</span>div<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// We have to close these tags to support XHTML (#13200)</span>
<span class="token keyword">var</span> wrapMap <span class="token operator">=</span> <span class="token punctuation">{</span>
	option<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;select multiple='multiple'&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/select&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
	legend<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;fieldset&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/fieldset&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
	area<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;map&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/map&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>

	<span class="token comment">// Support: IE8</span>
	param<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;object&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/object&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
	thead<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;table&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/table&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
	tr<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;table&gt;&lt;tbody&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/tbody&gt;&lt;/table&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
	col<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">2</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;table&gt;&lt;tbody&gt;&lt;/tbody&gt;&lt;colgroup&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/colgroup&gt;&lt;/table&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
	td<span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">3</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;table&gt;&lt;tbody&gt;&lt;tr&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>

	<span class="token comment">// IE6-8 can't serialize link, script, style, or any html5 (NoScope) tags,</span>
	<span class="token comment">// unless wrapped in a div with non-breaking characters in front of it.</span>
	_default<span class="token operator">:</span> support<span class="token punctuation">.</span>htmlSerialize <span class="token operator">?</span> <span class="token punctuation">[</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;X&lt;div&gt;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&lt;/div&gt;&quot;</span> <span class="token punctuation">]</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Support: IE8-IE9</span>
wrapMap<span class="token punctuation">.</span>optgroup <span class="token operator">=</span> wrapMap<span class="token punctuation">.</span>option<span class="token punctuation">;</span>

wrapMap<span class="token punctuation">.</span>tbody <span class="token operator">=</span> wrapMap<span class="token punctuation">.</span>tfoot <span class="token operator">=</span> wrapMap<span class="token punctuation">.</span>colgroup <span class="token operator">=</span> wrapMap<span class="token punctuation">.</span>caption <span class="token operator">=</span> wrapMap<span class="token punctuation">.</span>thead<span class="token punctuation">;</span>
wrapMap<span class="token punctuation">.</span>th <span class="token operator">=</span> wrapMap<span class="token punctuation">.</span>td<span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">getAll</span><span class="token punctuation">(</span> <span class="token parameter">context<span class="token punctuation">,</span> tag</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> elems<span class="token punctuation">,</span> elem<span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		found <span class="token operator">=</span> <span class="token keyword">typeof</span> context<span class="token punctuation">.</span>getElementsByTagName <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">?</span>
			context<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> tag <span class="token operator">||</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token keyword">typeof</span> context<span class="token punctuation">.</span>querySelectorAll <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">?</span>
				context<span class="token punctuation">.</span><span class="token function">querySelectorAll</span><span class="token punctuation">(</span> tag <span class="token operator">||</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
				<span class="token keyword">undefined</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>found <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> found <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> elems <span class="token operator">=</span> context<span class="token punctuation">.</span>childNodes <span class="token operator">||</span> context<span class="token punctuation">;</span>
			<span class="token punctuation">(</span> elem <span class="token operator">=</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
			i<span class="token operator">++</span>
		<span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>tag <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> tag <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				found<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> found<span class="token punctuation">,</span> <span class="token function">getAll</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> tag <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> tag <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> tag <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> context<span class="token punctuation">,</span> tag <span class="token punctuation">)</span> <span class="token operator">?</span>
		jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> context <span class="token punctuation">]</span><span class="token punctuation">,</span> found <span class="token punctuation">)</span> <span class="token operator">:</span>
		found<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token comment">// Mark scripts as having already been evaluated</span>
<span class="token keyword">function</span> <span class="token function">setGlobalEval</span><span class="token punctuation">(</span> <span class="token parameter">elems<span class="token punctuation">,</span> refElements</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> elem<span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span>
			elem<span class="token punctuation">,</span>
			<span class="token string">&quot;globalEval&quot;</span><span class="token punctuation">,</span>
			<span class="token operator">!</span>refElements <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> refElements<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;globalEval&quot;</span> <span class="token punctuation">)</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>


<span class="token keyword">var</span> rhtml <span class="token operator">=</span> <span class="token regex">/&lt;|&amp;#?\w+;/</span><span class="token punctuation">,</span>
	rtbody <span class="token operator">=</span> <span class="token regex">/&lt;tbody/i</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">fixDefaultChecked</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> rcheckableType<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>type <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		elem<span class="token punctuation">.</span>defaultChecked <span class="token operator">=</span> elem<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">buildFragment</span><span class="token punctuation">(</span> <span class="token parameter">elems<span class="token punctuation">,</span> context<span class="token punctuation">,</span> scripts<span class="token punctuation">,</span> selection<span class="token punctuation">,</span> ignored</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> j<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> contains<span class="token punctuation">,</span>
		tmp<span class="token punctuation">,</span> tag<span class="token punctuation">,</span> tbody<span class="token punctuation">,</span> wrap<span class="token punctuation">,</span>
		l <span class="token operator">=</span> elems<span class="token punctuation">.</span>length<span class="token punctuation">,</span>

		<span class="token comment">// Ensure a safe fragment</span>
		safe <span class="token operator">=</span> <span class="token function">createSafeFragment</span><span class="token punctuation">(</span> context <span class="token punctuation">)</span><span class="token punctuation">,</span>

		nodes <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		elem <span class="token operator">=</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> elem <span class="token operator">||</span> elem <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Add nodes directly</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> nodes<span class="token punctuation">,</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">?</span> <span class="token punctuation">[</span> elem <span class="token punctuation">]</span> <span class="token operator">:</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Convert non-html into a text node</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>rhtml<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> context<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Convert html into DOM nodes</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				tmp <span class="token operator">=</span> tmp <span class="token operator">||</span> safe<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> context<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Deserialize a standard representation</span>
				tag <span class="token operator">=</span> <span class="token punctuation">(</span> rtagName<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				wrap <span class="token operator">=</span> wrapMap<span class="token punctuation">[</span> tag <span class="token punctuation">]</span> <span class="token operator">||</span> wrapMap<span class="token punctuation">.</span>_default<span class="token punctuation">;</span>

				tmp<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> wrap<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">+</span> jQuery<span class="token punctuation">.</span><span class="token function">htmlPrefilter</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">+</span> wrap<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token comment">// Descend through wrappers to the right content</span>
				j <span class="token operator">=</span> wrap<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> j<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					tmp <span class="token operator">=</span> tmp<span class="token punctuation">.</span>lastChild<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Manually add leading whitespace removed by IE</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>leadingWhitespace <span class="token operator">&amp;&amp;</span> rleadingWhitespace<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					nodes<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> context<span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span> rleadingWhitespace<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Remove IE's autoinserted &lt;tbody&gt; from table fragments</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>tbody <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// String was a &lt;table&gt;, *may* have spurious &lt;tbody&gt;</span>
					elem <span class="token operator">=</span> tag <span class="token operator">===</span> <span class="token string">&quot;table&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>rtbody<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">?</span>
						tmp<span class="token punctuation">.</span>firstChild <span class="token operator">:</span>

						<span class="token comment">// String was a bare &lt;thead&gt; or &lt;tfoot&gt;</span>
						wrap<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;&lt;table&gt;&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>rtbody<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">?</span>
							tmp <span class="token operator">:</span>
							<span class="token number">0</span><span class="token punctuation">;</span>

					j <span class="token operator">=</span> elem <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> j<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> tbody <span class="token operator">=</span> elem<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span> j <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;tbody&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
							<span class="token operator">!</span>tbody<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							elem<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> tbody <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> nodes<span class="token punctuation">,</span> tmp<span class="token punctuation">.</span>childNodes <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Fix #12392 for WebKit and IE &gt; 9</span>
				tmp<span class="token punctuation">.</span>textContent <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

				<span class="token comment">// Fix #12392 for oldIE</span>
				<span class="token keyword">while</span> <span class="token punctuation">(</span> tmp<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					tmp<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> tmp<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Remember the top-level container for proper cleanup</span>
				tmp <span class="token operator">=</span> safe<span class="token punctuation">.</span>lastChild<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Fix #11356: Clear elements from fragment</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> tmp <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		safe<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> tmp <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Reset defaultChecked for any radios and checkboxes</span>
	<span class="token comment">// about to be appended to the DOM in IE 6/7 (#8060)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>appendChecked <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span> <span class="token function">getAll</span><span class="token punctuation">(</span> nodes<span class="token punctuation">,</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> fixDefaultChecked <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> nodes<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Skip elements already in the context collection (trac-4087)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> selection <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> selection <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> ignored <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				ignored<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		contains <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Append to fragment</span>
		tmp <span class="token operator">=</span> <span class="token function">getAll</span><span class="token punctuation">(</span> safe<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Preserve script evaluation history</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> contains <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setGlobalEval</span><span class="token punctuation">(</span> tmp <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Capture executables</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> scripts <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> tmp<span class="token punctuation">[</span> j<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> rscriptType<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					scripts<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	tmp <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> safe<span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> i<span class="token punctuation">,</span> eventName<span class="token punctuation">,</span>
		div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: IE&lt;9 (lack submit/change bubble), Firefox (lack focus(in | out) events)</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> <span class="token punctuation">{</span> submit<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> change<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> focusin<span class="token operator">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		eventName <span class="token operator">=</span> <span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> i<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> support<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> eventName <span class="token keyword">in</span> window <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Beware of CSP restrictions (https://developer.mozilla.org/en/Security/CSP)</span>
			div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> eventName<span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			support<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> div<span class="token punctuation">.</span>attributes<span class="token punctuation">[</span> eventName <span class="token punctuation">]</span><span class="token punctuation">.</span>expando <span class="token operator">===</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Null elements to avoid leaks in IE.</span>
	div <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> rformElems <span class="token operator">=</span> <span class="token regex">/^(?:input|select|textarea)$/i</span><span class="token punctuation">,</span>
	rkeyEvent <span class="token operator">=</span> <span class="token regex">/^key/</span><span class="token punctuation">,</span>
	rmouseEvent <span class="token operator">=</span> <span class="token regex">/^(?:mouse|pointer|contextmenu|drag|drop)|click/</span><span class="token punctuation">,</span>
	rfocusMorph <span class="token operator">=</span> <span class="token regex">/^(?:focusinfocus|focusoutblur)$/</span><span class="token punctuation">,</span>
	rtypenamespace <span class="token operator">=</span> <span class="token regex">/^([^.]*)(?:\.(.+)|)/</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">returnTrue</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">returnFalse</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Support: IE9</span>
<span class="token comment">// See #13393 for more info</span>
<span class="token keyword">function</span> <span class="token function">safeActiveElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> document<span class="token punctuation">.</span>activeElement<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> err <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">on</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> types<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> one</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> origFn<span class="token punctuation">,</span> type<span class="token punctuation">;</span>

	<span class="token comment">// Types can be a map of types/handlers</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> types <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// ( types-Object, selector, data )</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> selector <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// ( types-Object, data )</span>
			data <span class="token operator">=</span> data <span class="token operator">||</span> selector<span class="token punctuation">;</span>
			selector <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> types <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">on</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> data<span class="token punctuation">,</span> types<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">,</span> one <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> elem<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> data <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> fn <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// ( types, fn )</span>
		fn <span class="token operator">=</span> selector<span class="token punctuation">;</span>
		data <span class="token operator">=</span> selector <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> fn <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> selector <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// ( types, selector, fn )</span>
			fn <span class="token operator">=</span> data<span class="token punctuation">;</span>
			data <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

			<span class="token comment">// ( types, data, fn )</span>
			fn <span class="token operator">=</span> data<span class="token punctuation">;</span>
			data <span class="token operator">=</span> selector<span class="token punctuation">;</span>
			selector <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> fn <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fn <span class="token operator">=</span> returnFalse<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>fn <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> elem<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> one <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		origFn <span class="token operator">=</span> fn<span class="token punctuation">;</span>
		<span class="token function-variable function">fn</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Can use an empty set, since event contains the info</span>
			<span class="token function">jQuery</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span> event <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">origFn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Use same guid so caller can remove using origFn</span>
		fn<span class="token punctuation">.</span>guid <span class="token operator">=</span> origFn<span class="token punctuation">.</span>guid <span class="token operator">||</span> <span class="token punctuation">(</span> origFn<span class="token punctuation">.</span>guid <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>guid<span class="token operator">++</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> elem<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> types<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> data<span class="token punctuation">,</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/*
 * Helper functions for managing events -- not part of the public interface.
 * Props to Dean Edwards' addEvent library for many of the ideas.
 */</span>
jQuery<span class="token punctuation">.</span>event <span class="token operator">=</span> <span class="token punctuation">{</span>

	global<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">add</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> types<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> data<span class="token punctuation">,</span> selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> tmp<span class="token punctuation">,</span> events<span class="token punctuation">,</span> t<span class="token punctuation">,</span> handleObjIn<span class="token punctuation">,</span>
			special<span class="token punctuation">,</span> eventHandle<span class="token punctuation">,</span> handleObj<span class="token punctuation">,</span>
			handlers<span class="token punctuation">,</span> type<span class="token punctuation">,</span> namespaces<span class="token punctuation">,</span> origType<span class="token punctuation">,</span>
			elemData <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Don't attach events to noData or text/comment nodes (but allow plain objects)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>elemData <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Caller can pass in an object of custom data in lieu of the handler</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> handler<span class="token punctuation">.</span>handler <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			handleObjIn <span class="token operator">=</span> handler<span class="token punctuation">;</span>
			handler <span class="token operator">=</span> handleObjIn<span class="token punctuation">.</span>handler<span class="token punctuation">;</span>
			selector <span class="token operator">=</span> handleObjIn<span class="token punctuation">.</span>selector<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Make sure that the handler has a unique ID, used to find/remove it later</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>handler<span class="token punctuation">.</span>guid <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			handler<span class="token punctuation">.</span>guid <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>guid<span class="token operator">++</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Init the element's event structure and main handler, if this is the first</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> events <span class="token operator">=</span> elemData<span class="token punctuation">.</span>events <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			events <span class="token operator">=</span> elemData<span class="token punctuation">.</span>events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> eventHandle <span class="token operator">=</span> elemData<span class="token punctuation">.</span>handle <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			eventHandle <span class="token operator">=</span> elemData<span class="token punctuation">.</span><span class="token function-variable function">handle</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">e</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Discard the second event of a jQuery.event.trigger() and</span>
				<span class="token comment">// when an event is called after a page has unloaded</span>
				<span class="token keyword">return</span> <span class="token keyword">typeof</span> jQuery <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> <span class="token operator">!</span>e <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>triggered <span class="token operator">!==</span> e<span class="token punctuation">.</span>type <span class="token punctuation">)</span> <span class="token operator">?</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">dispatch</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> eventHandle<span class="token punctuation">.</span>elem<span class="token punctuation">,</span> arguments <span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token keyword">undefined</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

			<span class="token comment">// Add elem as a property of the handle fn to prevent a memory leak</span>
			<span class="token comment">// with IE non-native events</span>
			eventHandle<span class="token punctuation">.</span>elem <span class="token operator">=</span> elem<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Handle multiple events separated by a space</span>
		types <span class="token operator">=</span> <span class="token punctuation">(</span> types <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		t <span class="token operator">=</span> types<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span> t<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tmp <span class="token operator">=</span> rtypenamespace<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> types<span class="token punctuation">[</span> t <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			type <span class="token operator">=</span> origType <span class="token operator">=</span> tmp<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			namespaces <span class="token operator">=</span> <span class="token punctuation">(</span> tmp<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot;.&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// There *must* be a type, no attaching namespace-only handlers</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>type <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">continue</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// If event changes its type, use the special event handlers for the changed type</span>
			special <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

			<span class="token comment">// If selector defined, determine special event api type, otherwise given type</span>
			type <span class="token operator">=</span> <span class="token punctuation">(</span> selector <span class="token operator">?</span> special<span class="token punctuation">.</span>delegateType <span class="token operator">:</span> special<span class="token punctuation">.</span>bindType <span class="token punctuation">)</span> <span class="token operator">||</span> type<span class="token punctuation">;</span>

			<span class="token comment">// Update special based on newly reset type</span>
			special <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

			<span class="token comment">// handleObj is passed to all event handlers</span>
			handleObj <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
				type<span class="token operator">:</span> type<span class="token punctuation">,</span>
				origType<span class="token operator">:</span> origType<span class="token punctuation">,</span>
				data<span class="token operator">:</span> data<span class="token punctuation">,</span>
				handler<span class="token operator">:</span> handler<span class="token punctuation">,</span>
				guid<span class="token operator">:</span> handler<span class="token punctuation">.</span>guid<span class="token punctuation">,</span>
				selector<span class="token operator">:</span> selector<span class="token punctuation">,</span>
				needsContext<span class="token operator">:</span> selector <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>match<span class="token punctuation">.</span>needsContext<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">,</span>
				namespace<span class="token operator">:</span> namespaces<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;.&quot;</span> <span class="token punctuation">)</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span> handleObjIn <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Init the event handler queue if we're the first</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> handlers <span class="token operator">=</span> events<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				handlers <span class="token operator">=</span> events<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
				handlers<span class="token punctuation">.</span>delegateCount <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

				<span class="token comment">// Only use addEventListener/attachEvent if the special events handler returns false</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>special<span class="token punctuation">.</span>setup <span class="token operator">||</span>
					special<span class="token punctuation">.</span><span class="token function">setup</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> data<span class="token punctuation">,</span> namespaces<span class="token punctuation">,</span> eventHandle <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// Bind the global event handler to the element</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>addEventListener <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> eventHandle<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>attachEvent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span> <span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">,</span> eventHandle <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> special<span class="token punctuation">.</span>add <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				special<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> handleObj <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>handleObj<span class="token punctuation">.</span>handler<span class="token punctuation">.</span>guid <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					handleObj<span class="token punctuation">.</span>handler<span class="token punctuation">.</span>guid <span class="token operator">=</span> handler<span class="token punctuation">.</span>guid<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Add to the element's handler list, delegates in front</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				handlers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> handlers<span class="token punctuation">.</span>delegateCount<span class="token operator">++</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> handleObj <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				handlers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> handleObj <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Keep track of which events have ever been used, for event optimization</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>global<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Nullify elem to prevent memory leaks in IE</span>
		elem <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Detach an event or set of events from an element</span>
	<span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> types<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> mappedTypes</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> j<span class="token punctuation">,</span> handleObj<span class="token punctuation">,</span> tmp<span class="token punctuation">,</span>
			origCount<span class="token punctuation">,</span> t<span class="token punctuation">,</span> events<span class="token punctuation">,</span>
			special<span class="token punctuation">,</span> handlers<span class="token punctuation">,</span> type<span class="token punctuation">,</span>
			namespaces<span class="token punctuation">,</span> origType<span class="token punctuation">,</span>
			elemData <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">hasData</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>elemData <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">(</span> events <span class="token operator">=</span> elemData<span class="token punctuation">.</span>events <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Once for each type.namespace in types; type may be omitted</span>
		types <span class="token operator">=</span> <span class="token punctuation">(</span> types <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		t <span class="token operator">=</span> types<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span> t<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tmp <span class="token operator">=</span> rtypenamespace<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> types<span class="token punctuation">[</span> t <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			type <span class="token operator">=</span> origType <span class="token operator">=</span> tmp<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			namespaces <span class="token operator">=</span> <span class="token punctuation">(</span> tmp<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot;.&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Unbind all events (on this namespace, if provided) for the element</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>type <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> events <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type <span class="token operator">+</span> types<span class="token punctuation">[</span> t <span class="token punctuation">]</span><span class="token punctuation">,</span> handler<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">continue</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			special <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
			type <span class="token operator">=</span> <span class="token punctuation">(</span> selector <span class="token operator">?</span> special<span class="token punctuation">.</span>delegateType <span class="token operator">:</span> special<span class="token punctuation">.</span>bindType <span class="token punctuation">)</span> <span class="token operator">||</span> type<span class="token punctuation">;</span>
			handlers <span class="token operator">=</span> events<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			tmp <span class="token operator">=</span> tmp<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
				<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;(^|\\.)&quot;</span> <span class="token operator">+</span> namespaces<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;\\.(?:.*\\.|)&quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;(\\.|$)&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Remove matching events</span>
			origCount <span class="token operator">=</span> j <span class="token operator">=</span> handlers<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> j<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				handleObj <span class="token operator">=</span> handlers<span class="token punctuation">[</span> j <span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> mappedTypes <span class="token operator">||</span> origType <span class="token operator">===</span> handleObj<span class="token punctuation">.</span>origType <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> <span class="token operator">!</span>handler <span class="token operator">||</span> handler<span class="token punctuation">.</span>guid <span class="token operator">===</span> handleObj<span class="token punctuation">.</span>guid <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> <span class="token operator">!</span>tmp <span class="token operator">||</span> tmp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> handleObj<span class="token punctuation">.</span>namespace <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> <span class="token operator">!</span>selector <span class="token operator">||</span> selector <span class="token operator">===</span> handleObj<span class="token punctuation">.</span>selector <span class="token operator">||</span>
						selector <span class="token operator">===</span> <span class="token string">&quot;**&quot;</span> <span class="token operator">&amp;&amp;</span> handleObj<span class="token punctuation">.</span>selector <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					handlers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> j<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> handleObj<span class="token punctuation">.</span>selector <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						handlers<span class="token punctuation">.</span>delegateCount<span class="token operator">--</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> special<span class="token punctuation">.</span>remove <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						special<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> handleObj <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Remove generic event handler if we removed something and no more handlers exist</span>
			<span class="token comment">// (avoids potential for endless recursion during removal of special event handlers)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> origCount <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>handlers<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>special<span class="token punctuation">.</span>teardown <span class="token operator">||</span>
					special<span class="token punctuation">.</span><span class="token function">teardown</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> namespaces<span class="token punctuation">,</span> elemData<span class="token punctuation">.</span>handle <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					jQuery<span class="token punctuation">.</span><span class="token function">removeEvent</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> elemData<span class="token punctuation">.</span>handle <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">delete</span> events<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Remove the expando if it's no longer used</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span> events <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">delete</span> elemData<span class="token punctuation">.</span>handle<span class="token punctuation">;</span>

			<span class="token comment">// removeData also checks for emptiness and clears the expando if empty</span>
			<span class="token comment">// so use it instead of delete</span>
			jQuery<span class="token punctuation">.</span><span class="token function">_removeData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;events&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">trigger</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event<span class="token punctuation">,</span> data<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> onlyHandlers</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> handle<span class="token punctuation">,</span> ontype<span class="token punctuation">,</span> cur<span class="token punctuation">,</span>
			bubbleType<span class="token punctuation">,</span> special<span class="token punctuation">,</span> tmp<span class="token punctuation">,</span> i<span class="token punctuation">,</span>
			eventPath <span class="token operator">=</span> <span class="token punctuation">[</span> elem <span class="token operator">||</span> document <span class="token punctuation">]</span><span class="token punctuation">,</span>
			type <span class="token operator">=</span> <span class="token function">hasOwn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> event<span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span> <span class="token punctuation">)</span> <span class="token operator">?</span> event<span class="token punctuation">.</span>type <span class="token operator">:</span> event<span class="token punctuation">,</span>
			namespaces <span class="token operator">=</span> <span class="token function">hasOwn</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> event<span class="token punctuation">,</span> <span class="token string">&quot;namespace&quot;</span> <span class="token punctuation">)</span> <span class="token operator">?</span> event<span class="token punctuation">.</span>namespace<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot;.&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		cur <span class="token operator">=</span> tmp <span class="token operator">=</span> elem <span class="token operator">=</span> elem <span class="token operator">||</span> document<span class="token punctuation">;</span>

		<span class="token comment">// Don't do events on text and comment nodes</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">||</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">8</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// focus/blur morphs to focusin/out; ensure we're not firing them right now</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> rfocusMorph<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> type <span class="token operator">+</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>triggered <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;.&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Namespaced trigger; create a regexp to match event type in handle()</span>
			namespaces <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot;.&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			type <span class="token operator">=</span> namespaces<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			namespaces<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		ontype <span class="token operator">=</span> type<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;:&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">;</span>

		<span class="token comment">// Caller can pass in a jQuery.Event object, Object, or just an event type string</span>
		event <span class="token operator">=</span> event<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span> <span class="token operator">?</span>
			event <span class="token operator">:</span>
			<span class="token keyword">new</span> <span class="token class-name">jQuery<span class="token punctuation">.</span>Event</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> <span class="token keyword">typeof</span> event <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> event <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Trigger bitmask: &amp; 1 for native handlers; &amp; 2 for jQuery (always true)</span>
		event<span class="token punctuation">.</span>isTrigger <span class="token operator">=</span> onlyHandlers <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token number">3</span><span class="token punctuation">;</span>
		event<span class="token punctuation">.</span>namespace <span class="token operator">=</span> namespaces<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;.&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		event<span class="token punctuation">.</span>rnamespace <span class="token operator">=</span> event<span class="token punctuation">.</span>namespace <span class="token operator">?</span>
			<span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;(^|\\.)&quot;</span> <span class="token operator">+</span> namespaces<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;\\.(?:.*\\.|)&quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;(\\.|$)&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token keyword">null</span><span class="token punctuation">;</span>

		<span class="token comment">// Clean up the event in case it is being reused</span>
		event<span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>target <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			event<span class="token punctuation">.</span>target <span class="token operator">=</span> elem<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Clone any incoming data and prepend the event, creating the handler arg list</span>
		data <span class="token operator">=</span> data <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span>
			<span class="token punctuation">[</span> event <span class="token punctuation">]</span> <span class="token operator">:</span>
			jQuery<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span> data<span class="token punctuation">,</span> <span class="token punctuation">[</span> event <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Allow special events to draw outside the lines</span>
		special <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>onlyHandlers <span class="token operator">&amp;&amp;</span> special<span class="token punctuation">.</span>trigger <span class="token operator">&amp;&amp;</span> special<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> data <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Determine event propagation path in advance, per W3C events spec (#9951)</span>
		<span class="token comment">// Bubble up to document, then to window; watch for a global ownerDocument var (#9724)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>onlyHandlers <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>special<span class="token punctuation">.</span>noBubble <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			bubbleType <span class="token operator">=</span> special<span class="token punctuation">.</span>delegateType <span class="token operator">||</span> type<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>rfocusMorph<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> bubbleType <span class="token operator">+</span> type <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> cur<span class="token punctuation">;</span> cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				eventPath<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span><span class="token punctuation">;</span>
				tmp <span class="token operator">=</span> cur<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Only add window if we got to document (e.g., not plain obj or detached DOM)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> tmp <span class="token operator">===</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> document <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				eventPath<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> tmp<span class="token punctuation">.</span>defaultView <span class="token operator">||</span> tmp<span class="token punctuation">.</span>parentWindow <span class="token operator">||</span> window <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Fire handlers on the event path</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> cur <span class="token operator">=</span> eventPath<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>event<span class="token punctuation">.</span><span class="token function">isPropagationStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			event<span class="token punctuation">.</span>type <span class="token operator">=</span> i <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">?</span>
				bubbleType <span class="token operator">:</span>
				special<span class="token punctuation">.</span>bindType <span class="token operator">||</span> type<span class="token punctuation">;</span>

			<span class="token comment">// jQuery handler</span>
			handle <span class="token operator">=</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> cur<span class="token punctuation">,</span> <span class="token string">&quot;events&quot;</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> event<span class="token punctuation">.</span>type <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span>
				jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> cur<span class="token punctuation">,</span> <span class="token string">&quot;handle&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> handle <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">handle</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> cur<span class="token punctuation">,</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Native handler</span>
			handle <span class="token operator">=</span> ontype <span class="token operator">&amp;&amp;</span> cur<span class="token punctuation">[</span> ontype <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> handle <span class="token operator">&amp;&amp;</span> handle<span class="token punctuation">.</span>apply <span class="token operator">&amp;&amp;</span> <span class="token function">acceptData</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				event<span class="token punctuation">.</span>result <span class="token operator">=</span> <span class="token function">handle</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> cur<span class="token punctuation">,</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>result <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
		event<span class="token punctuation">.</span>type <span class="token operator">=</span> type<span class="token punctuation">;</span>

		<span class="token comment">// If nobody prevented the default action, do it now</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>onlyHandlers <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>event<span class="token punctuation">.</span><span class="token function">isDefaultPrevented</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span>
				<span class="token punctuation">(</span> <span class="token operator">!</span>special<span class="token punctuation">.</span>_default <span class="token operator">||</span>
				 special<span class="token punctuation">.</span><span class="token function">_default</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> eventPath<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> data <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span>
				<span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token function">acceptData</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span>
			<span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Call a native DOM method on the target with the same name name as the event.</span>
				<span class="token comment">// Can't use an .isFunction() check here because IE6/7 fails that test.</span>
				<span class="token comment">// Don't do default actions on window, that's where global variables be (#6170)</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> ontype <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// Don't re-trigger an onFOO event when we call its FOO() method</span>
					tmp <span class="token operator">=</span> elem<span class="token punctuation">[</span> ontype <span class="token punctuation">]</span><span class="token punctuation">;</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> tmp <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">[</span> ontype <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Prevent re-triggering of the same event, since we already bubbled it above</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>triggered <span class="token operator">=</span> type<span class="token punctuation">;</span>
					<span class="token keyword">try</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// IE&lt;9 dies on focus/blur to hidden element (#1486,#12518)</span>
						<span class="token comment">// only reproducible on winXP IE8 native, not IE9 in IE8 mode</span>
					<span class="token punctuation">}</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>triggered <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> tmp <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">[</span> ontype <span class="token punctuation">]</span> <span class="token operator">=</span> tmp<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> event<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">dispatch</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Make a writable jQuery.Event from the native event object</span>
		event <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">fix</span><span class="token punctuation">(</span> event <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">var</span> i<span class="token punctuation">,</span> j<span class="token punctuation">,</span> ret<span class="token punctuation">,</span> matched<span class="token punctuation">,</span> handleObj<span class="token punctuation">,</span>
			handlerQueue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			args <span class="token operator">=</span> <span class="token function">slice</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> arguments <span class="token punctuation">)</span><span class="token punctuation">,</span>
			handlers <span class="token operator">=</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;events&quot;</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> event<span class="token punctuation">.</span>type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			special <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> event<span class="token punctuation">.</span>type <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Use the fix-ed jQuery.Event rather than the (read-only) native event</span>
		args<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">=</span> event<span class="token punctuation">;</span>
		event<span class="token punctuation">.</span>delegateTarget <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

		<span class="token comment">// Call the preDispatch hook for the mapped type, and let it bail if desired</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> special<span class="token punctuation">.</span>preDispatch <span class="token operator">&amp;&amp;</span> special<span class="token punctuation">.</span><span class="token function">preDispatch</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> event <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Determine handlers</span>
		handlerQueue <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">handlers</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> event<span class="token punctuation">,</span> handlers <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Run delegates first; they may want to stop propagation beneath us</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> matched <span class="token operator">=</span> handlerQueue<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>event<span class="token punctuation">.</span><span class="token function">isPropagationStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			event<span class="token punctuation">.</span>currentTarget <span class="token operator">=</span> matched<span class="token punctuation">.</span>elem<span class="token punctuation">;</span>

			j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> handleObj <span class="token operator">=</span> matched<span class="token punctuation">.</span>handlers<span class="token punctuation">[</span> j<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				<span class="token operator">!</span>event<span class="token punctuation">.</span><span class="token function">isImmediatePropagationStopped</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Triggered event must either 1) have no namespace, or 2) have namespace(s)</span>
				<span class="token comment">// a subset or equal to those in the bound event (both can have no namespace).</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>rnamespace <span class="token operator">||</span> event<span class="token punctuation">.</span>rnamespace<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> handleObj<span class="token punctuation">.</span>namespace <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					event<span class="token punctuation">.</span>handleObj <span class="token operator">=</span> handleObj<span class="token punctuation">;</span>
					event<span class="token punctuation">.</span>data <span class="token operator">=</span> handleObj<span class="token punctuation">.</span>data<span class="token punctuation">;</span>

					ret <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> handleObj<span class="token punctuation">.</span>origType <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>handle <span class="token operator">||</span>
						handleObj<span class="token punctuation">.</span>handler <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> matched<span class="token punctuation">.</span>elem<span class="token punctuation">,</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>result <span class="token operator">=</span> ret <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
							event<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Call the postDispatch hook for the mapped type</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> special<span class="token punctuation">.</span>postDispatch <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			special<span class="token punctuation">.</span><span class="token function">postDispatch</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> event <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> event<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">handlers</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event<span class="token punctuation">,</span> handlers</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span> matches<span class="token punctuation">,</span> sel<span class="token punctuation">,</span> handleObj<span class="token punctuation">,</span>
			handlerQueue <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			delegateCount <span class="token operator">=</span> handlers<span class="token punctuation">.</span>delegateCount<span class="token punctuation">,</span>
			cur <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">;</span>

		<span class="token comment">// Support (at least): Chrome, IE9</span>
		<span class="token comment">// Find delegate handlers</span>
		<span class="token comment">// Black-hole SVG &lt;use&gt; instance trees (#13180)</span>
		<span class="token comment">//</span>
		<span class="token comment">// Support: Firefox&lt;=42+</span>
		<span class="token comment">// Avoid non-left-click in FF but don't block IE radio events (#3861, gh-2343)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> delegateCount <span class="token operator">&amp;&amp;</span> cur<span class="token punctuation">.</span>nodeType <span class="token operator">&amp;&amp;</span>
			<span class="token punctuation">(</span> event<span class="token punctuation">.</span>type <span class="token operator">!==</span> <span class="token string">&quot;click&quot;</span> <span class="token operator">||</span> <span class="token function">isNaN</span><span class="token punctuation">(</span> event<span class="token punctuation">.</span>button <span class="token punctuation">)</span> <span class="token operator">||</span> event<span class="token punctuation">.</span>button <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">/* jshint eqeqeq: false */</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> cur <span class="token operator">!=</span> <span class="token keyword">this</span><span class="token punctuation">;</span> cur <span class="token operator">=</span> cur<span class="token punctuation">.</span>parentNode <span class="token operator">||</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token comment">/* jshint eqeqeq: true */</span>

				<span class="token comment">// Don't check non-elements (#13208)</span>
				<span class="token comment">// Don't process clicks on disabled elements (#6911, #8165, #11382, #11764)</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> cur<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> cur<span class="token punctuation">.</span>disabled <span class="token operator">!==</span> <span class="token boolean">true</span> <span class="token operator">||</span> event<span class="token punctuation">.</span>type <span class="token operator">!==</span> <span class="token string">&quot;click&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					matches <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> delegateCount<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						handleObj <span class="token operator">=</span> handlers<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>

						<span class="token comment">// Don't conflict with Object.prototype properties (#13203)</span>
						sel <span class="token operator">=</span> handleObj<span class="token punctuation">.</span>selector <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>

						<span class="token keyword">if</span> <span class="token punctuation">(</span> matches<span class="token punctuation">[</span> sel <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							matches<span class="token punctuation">[</span> sel <span class="token punctuation">]</span> <span class="token operator">=</span> handleObj<span class="token punctuation">.</span>needsContext <span class="token operator">?</span>
								<span class="token function">jQuery</span><span class="token punctuation">(</span> sel<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">index</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token operator">:</span>
								jQuery<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> sel<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> cur <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> matches<span class="token punctuation">[</span> sel <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							matches<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> handleObj <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> matches<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						handlerQueue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> elem<span class="token operator">:</span> cur<span class="token punctuation">,</span> handlers<span class="token operator">:</span> matches <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Add the remaining (directly-bound) handlers</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> delegateCount <span class="token operator">&lt;</span> handlers<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			handlerQueue<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> elem<span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">,</span> handlers<span class="token operator">:</span> handlers<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> delegateCount <span class="token punctuation">)</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> handlerQueue<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">fix</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> event<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Create a writable copy of the event object and normalize some properties</span>
		<span class="token keyword">var</span> i<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> copy<span class="token punctuation">,</span>
			type <span class="token operator">=</span> event<span class="token punctuation">.</span>type<span class="token punctuation">,</span>
			originalEvent <span class="token operator">=</span> event<span class="token punctuation">,</span>
			fixHook <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>fixHooks<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>fixHook <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>fixHooks<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">=</span> fixHook <span class="token operator">=</span>
				rmouseEvent<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> type <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>mouseHooks <span class="token operator">:</span>
				rkeyEvent<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> type <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>keyHooks <span class="token operator">:</span>
				<span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		copy <span class="token operator">=</span> fixHook<span class="token punctuation">.</span>props <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> fixHook<span class="token punctuation">.</span>props <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span>props<span class="token punctuation">;</span>

		event <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">jQuery<span class="token punctuation">.</span>Event</span><span class="token punctuation">(</span> originalEvent <span class="token punctuation">)</span><span class="token punctuation">;</span>

		i <span class="token operator">=</span> copy<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			prop <span class="token operator">=</span> copy<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>
			event<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">=</span> originalEvent<span class="token punctuation">[</span> prop <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE&lt;9</span>
		<span class="token comment">// Fix target property (#1925)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>target <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			event<span class="token punctuation">.</span>target <span class="token operator">=</span> originalEvent<span class="token punctuation">.</span>srcElement <span class="token operator">||</span> document<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: Safari 6-8+</span>
		<span class="token comment">// Target should not be a text node (#504, #13143)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">3</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			event<span class="token punctuation">.</span>target <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE&lt;9</span>
		<span class="token comment">// For mouse/key events, metaKey==false if it's undefined (#3368, #11328)</span>
		event<span class="token punctuation">.</span>metaKey <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>event<span class="token punctuation">.</span>metaKey<span class="token punctuation">;</span>

		<span class="token keyword">return</span> fixHook<span class="token punctuation">.</span>filter <span class="token operator">?</span> fixHook<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> event<span class="token punctuation">,</span> originalEvent <span class="token punctuation">)</span> <span class="token operator">:</span> event<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Includes some event props shared by KeyEvent and MouseEvent</span>
	props<span class="token operator">:</span> <span class="token punctuation">(</span> <span class="token string">&quot;altKey bubbles cancelable ctrlKey currentTarget detail eventPhase &quot;</span> <span class="token operator">+</span>
		<span class="token string">&quot;metaKey relatedTarget shiftKey target timeStamp view which&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

	fixHooks<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	keyHooks<span class="token operator">:</span> <span class="token punctuation">{</span>
		props<span class="token operator">:</span> <span class="token string">&quot;char charCode key keyCode&quot;</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event<span class="token punctuation">,</span> original</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Add which for key events</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>which <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				event<span class="token punctuation">.</span>which <span class="token operator">=</span> original<span class="token punctuation">.</span>charCode <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> original<span class="token punctuation">.</span>charCode <span class="token operator">:</span> original<span class="token punctuation">.</span>keyCode<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> event<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	mouseHooks<span class="token operator">:</span> <span class="token punctuation">{</span>
		props<span class="token operator">:</span> <span class="token punctuation">(</span> <span class="token string">&quot;button buttons clientX clientY fromElement offsetX offsetY &quot;</span> <span class="token operator">+</span>
			<span class="token string">&quot;pageX pageY screenX screenY toElement&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">filter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event<span class="token punctuation">,</span> original</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> body<span class="token punctuation">,</span> eventDoc<span class="token punctuation">,</span> doc<span class="token punctuation">,</span>
				button <span class="token operator">=</span> original<span class="token punctuation">.</span>button<span class="token punctuation">,</span>
				fromElement <span class="token operator">=</span> original<span class="token punctuation">.</span>fromElement<span class="token punctuation">;</span>

			<span class="token comment">// Calculate pageX/Y if missing and clientX/Y available</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>pageX <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> original<span class="token punctuation">.</span>clientX <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				eventDoc <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> document<span class="token punctuation">;</span>
				doc <span class="token operator">=</span> eventDoc<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>
				body <span class="token operator">=</span> eventDoc<span class="token punctuation">.</span>body<span class="token punctuation">;</span>

				event<span class="token punctuation">.</span>pageX <span class="token operator">=</span> original<span class="token punctuation">.</span>clientX <span class="token operator">+</span>
					<span class="token punctuation">(</span> doc <span class="token operator">&amp;&amp;</span> doc<span class="token punctuation">.</span>scrollLeft <span class="token operator">||</span> body <span class="token operator">&amp;&amp;</span> body<span class="token punctuation">.</span>scrollLeft <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token operator">-</span>
					<span class="token punctuation">(</span> doc <span class="token operator">&amp;&amp;</span> doc<span class="token punctuation">.</span>clientLeft <span class="token operator">||</span> body <span class="token operator">&amp;&amp;</span> body<span class="token punctuation">.</span>clientLeft <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				event<span class="token punctuation">.</span>pageY <span class="token operator">=</span> original<span class="token punctuation">.</span>clientY <span class="token operator">+</span>
					<span class="token punctuation">(</span> doc <span class="token operator">&amp;&amp;</span> doc<span class="token punctuation">.</span>scrollTop  <span class="token operator">||</span> body <span class="token operator">&amp;&amp;</span> body<span class="token punctuation">.</span>scrollTop  <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token operator">-</span>
					<span class="token punctuation">(</span> doc <span class="token operator">&amp;&amp;</span> doc<span class="token punctuation">.</span>clientTop  <span class="token operator">||</span> body <span class="token operator">&amp;&amp;</span> body<span class="token punctuation">.</span>clientTop  <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Add relatedTarget, if necessary</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>relatedTarget <span class="token operator">&amp;&amp;</span> fromElement <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				event<span class="token punctuation">.</span>relatedTarget <span class="token operator">=</span> fromElement <span class="token operator">===</span> event<span class="token punctuation">.</span>target <span class="token operator">?</span>
					original<span class="token punctuation">.</span>toElement <span class="token operator">:</span>
					fromElement<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Add which for click: 1 === left; 2 === middle; 3 === right</span>
			<span class="token comment">// Note: button is not normalized, so don't use it</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>which <span class="token operator">&amp;&amp;</span> button <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				event<span class="token punctuation">.</span>which <span class="token operator">=</span> <span class="token punctuation">(</span> button <span class="token operator">&amp;</span> <span class="token number">1</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token punctuation">(</span> button <span class="token operator">&amp;</span> <span class="token number">2</span> <span class="token operator">?</span> <span class="token number">3</span> <span class="token operator">:</span> <span class="token punctuation">(</span> button <span class="token operator">&amp;</span> <span class="token number">4</span> <span class="token operator">?</span> <span class="token number">2</span> <span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> event<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	special<span class="token operator">:</span> <span class="token punctuation">{</span>
		load<span class="token operator">:</span> <span class="token punctuation">{</span>

			<span class="token comment">// Prevent triggered image.load events from bubbling to window.load</span>
			noBubble<span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		focus<span class="token operator">:</span> <span class="token punctuation">{</span>

			<span class="token comment">// Fire native event if possible so blur/focus sequence is correct</span>
			<span class="token function-variable function">trigger</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">!==</span> <span class="token function">safeActiveElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>focus <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">try</span> <span class="token punctuation">{</span>
						<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">focus</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Support: IE&lt;9</span>
						<span class="token comment">// If we error on focus to hidden element (#1486, #12518),</span>
						<span class="token comment">// let .trigger() run the handlers</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			delegateType<span class="token operator">:</span> <span class="token string">&quot;focusin&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		blur<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">trigger</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">===</span> <span class="token function">safeActiveElement</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>blur <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">blur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			delegateType<span class="token operator">:</span> <span class="token string">&quot;focusout&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		click<span class="token operator">:</span> <span class="token punctuation">{</span>

			<span class="token comment">// For checkbox, fire native event so checked state will be right</span>
			<span class="token function-variable function">trigger</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;checkbox&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">.</span>click <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">click</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// For cross-browser consistency, don't fire native .click() on links</span>
			<span class="token function-variable function">_default</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> event<span class="token punctuation">.</span>target<span class="token punctuation">,</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		beforeunload<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">postDispatch</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Support: Firefox 20+</span>
				<span class="token comment">// Firefox doesn't alert if the returnValue field is not set.</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>result <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span> event<span class="token punctuation">.</span>originalEvent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					event<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> event<span class="token punctuation">.</span>result<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Piggyback on a donor event to simulate a different one</span>
	<span class="token function-variable function">simulate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> e <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span>
			<span class="token keyword">new</span> <span class="token class-name">jQuery<span class="token punctuation">.</span>Event</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			event<span class="token punctuation">,</span>
			<span class="token punctuation">{</span>
				type<span class="token operator">:</span> type<span class="token punctuation">,</span>
				isSimulated<span class="token operator">:</span> <span class="token boolean">true</span>

				<span class="token comment">// Previously, `originalEvent: {}` was set here, so stopPropagation call</span>
				<span class="token comment">// would not be triggered on donor event, since in our own</span>
				<span class="token comment">// jQuery.event.stopPropagation function we had a check for existence of</span>
				<span class="token comment">// originalEvent.stopPropagation method, so, consequently it would be a noop.</span>
				<span class="token comment">//</span>
				<span class="token comment">// Guard for simulated events was moved to jQuery.event.stopPropagation function</span>
				<span class="token comment">// since `originalEvent` should point to the original event for the</span>
				<span class="token comment">// constancy with other events and for more focused logic</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>

		jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> e<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> e<span class="token punctuation">.</span><span class="token function">isDefaultPrevented</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			event<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>removeEvent <span class="token operator">=</span> document<span class="token punctuation">.</span>removeEventListener <span class="token operator">?</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handle</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// This &quot;if&quot; is needed for plain objects</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>removeEventListener <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			elem<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> handle <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token operator">:</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> handle</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> name <span class="token operator">=</span> <span class="token string">&quot;on&quot;</span> <span class="token operator">+</span> type<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>detachEvent <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// #8545, #7054, preventing memory leaks for custom events in IE6-8</span>
			<span class="token comment">// detachEvent needed property on element, by name of that event,</span>
			<span class="token comment">// to properly expose it to GC</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				elem<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			elem<span class="token punctuation">.</span><span class="token function">detachEvent</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> handle <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function-variable function">Event</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">src<span class="token punctuation">,</span> props</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Allow instantiation without the 'new' keyword</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token keyword">instanceof</span> <span class="token class-name">jQuery<span class="token punctuation">.</span>Event</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">jQuery<span class="token punctuation">.</span>Event</span><span class="token punctuation">(</span> src<span class="token punctuation">,</span> props <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Event object</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> src <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">.</span>type <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>originalEvent <span class="token operator">=</span> src<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> src<span class="token punctuation">.</span>type<span class="token punctuation">;</span>

		<span class="token comment">// Events bubbling up the document may have been marked as prevented</span>
		<span class="token comment">// by a handler lower down the tree; reflect the correct value.</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>isDefaultPrevented <span class="token operator">=</span> src<span class="token punctuation">.</span>defaultPrevented <span class="token operator">||</span>
				src<span class="token punctuation">.</span>defaultPrevented <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">&amp;&amp;</span>

				<span class="token comment">// Support: IE &lt; 9, Android &lt; 4.0</span>
				src<span class="token punctuation">.</span>returnValue <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">?</span>
			returnTrue <span class="token operator">:</span>
			returnFalse<span class="token punctuation">;</span>

	<span class="token comment">// Event type</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">=</span> src<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Put explicitly provided properties onto the event object</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> props <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> props <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Create a timestamp if incoming event doesn't have one</span>
	<span class="token keyword">this</span><span class="token punctuation">.</span>timeStamp <span class="token operator">=</span> src <span class="token operator">&amp;&amp;</span> src<span class="token punctuation">.</span>timeStamp <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Mark it as fixed</span>
	<span class="token keyword">this</span><span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// jQuery.Event is based on DOM3 Events as specified by the ECMAScript Language Binding</span>
<span class="token comment">// http://www.w3.org/TR/2003/WD-DOM-Level-3-Events-20030331/ecma-script-binding.html</span>
jQuery<span class="token punctuation">.</span><span class="token class-name">Event</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
	constructor<span class="token operator">:</span> jQuery<span class="token punctuation">.</span>Event<span class="token punctuation">,</span>
	isDefaultPrevented<span class="token operator">:</span> returnFalse<span class="token punctuation">,</span>
	isPropagationStopped<span class="token operator">:</span> returnFalse<span class="token punctuation">,</span>
	isImmediatePropagationStopped<span class="token operator">:</span> returnFalse<span class="token punctuation">,</span>

	<span class="token function-variable function">preventDefault</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>originalEvent<span class="token punctuation">;</span>

		<span class="token keyword">this</span><span class="token punctuation">.</span>isDefaultPrevented <span class="token operator">=</span> returnTrue<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// If preventDefault exists, run it on the original event</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> e<span class="token punctuation">.</span>preventDefault <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">preventDefault</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Support: IE</span>
		<span class="token comment">// Otherwise set the returnValue property of the original event to false</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span>returnValue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">stopPropagation</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>originalEvent<span class="token punctuation">;</span>

		<span class="token keyword">this</span><span class="token punctuation">.</span>isPropagationStopped <span class="token operator">=</span> returnTrue<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>e <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isSimulated <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// If stopPropagation exists, run it on the original event</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> e<span class="token punctuation">.</span>stopPropagation <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE</span>
		<span class="token comment">// Set the cancelBubble property of the original event to true</span>
		e<span class="token punctuation">.</span>cancelBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">stopImmediatePropagation</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> e <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>originalEvent<span class="token punctuation">;</span>

		<span class="token keyword">this</span><span class="token punctuation">.</span>isImmediatePropagationStopped <span class="token operator">=</span> returnTrue<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> e <span class="token operator">&amp;&amp;</span> e<span class="token punctuation">.</span>stopImmediatePropagation <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			e<span class="token punctuation">.</span><span class="token function">stopImmediatePropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">stopPropagation</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Create mouseenter/leave events using mouseover/out and event-time checks</span>
<span class="token comment">// so that event delegation works in jQuery.</span>
<span class="token comment">// Do the same for pointerenter/pointerleave and pointerover/pointerout</span>
<span class="token comment">//</span>
<span class="token comment">// Support: Safari 7 only</span>
<span class="token comment">// Safari sends mouseenter too often; see:</span>
<span class="token comment">// https://code.google.com/p/chromium/issues/detail?id=470258</span>
<span class="token comment">// for the description of the bug (it existed in older Chrome versions as well).</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	mouseenter<span class="token operator">:</span> <span class="token string">&quot;mouseover&quot;</span><span class="token punctuation">,</span>
	mouseleave<span class="token operator">:</span> <span class="token string">&quot;mouseout&quot;</span><span class="token punctuation">,</span>
	pointerenter<span class="token operator">:</span> <span class="token string">&quot;pointerover&quot;</span><span class="token punctuation">,</span>
	pointerleave<span class="token operator">:</span> <span class="token string">&quot;pointerout&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">orig<span class="token punctuation">,</span> fix</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> orig <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
		delegateType<span class="token operator">:</span> fix<span class="token punctuation">,</span>
		bindType<span class="token operator">:</span> fix<span class="token punctuation">,</span>

		<span class="token function-variable function">handle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> ret<span class="token punctuation">,</span>
				target <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
				related <span class="token operator">=</span> event<span class="token punctuation">.</span>relatedTarget<span class="token punctuation">,</span>
				handleObj <span class="token operator">=</span> event<span class="token punctuation">.</span>handleObj<span class="token punctuation">;</span>

			<span class="token comment">// For mouseenter/leave call the handler if related is outside the target.</span>
			<span class="token comment">// NB: No relatedTarget if the mouse left/entered the browser window</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>related <span class="token operator">||</span> <span class="token punctuation">(</span> related <span class="token operator">!==</span> target <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> target<span class="token punctuation">,</span> related <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				event<span class="token punctuation">.</span>type <span class="token operator">=</span> handleObj<span class="token punctuation">.</span>origType<span class="token punctuation">;</span>
				ret <span class="token operator">=</span> handleObj<span class="token punctuation">.</span><span class="token function">handler</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
				event<span class="token punctuation">.</span>type <span class="token operator">=</span> fix<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// IE submit delegation</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>submit <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">.</span>submit <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">setup</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Only need this for delegated form submit events</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;form&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Lazy-add a submit handler when a descendant form may potentially be submitted</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;click._submit keypress._submit&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">e</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Node name check avoids a VML-related crash in IE (#9807)</span>
				<span class="token keyword">var</span> elem <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">,</span>
					form <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;button&quot;</span> <span class="token punctuation">)</span> <span class="token operator">?</span>

						<span class="token comment">// Support: IE &lt;=8</span>
						<span class="token comment">// We use jQuery.prop instead of elem.form</span>
						<span class="token comment">// to allow fixing the IE8 delegated submit issue (gh-2332)</span>
						<span class="token comment">// by 3rd party polyfills/workarounds.</span>
						jQuery<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;form&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
						<span class="token keyword">undefined</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> form <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> form<span class="token punctuation">,</span> <span class="token string">&quot;submit&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> form<span class="token punctuation">,</span> <span class="token string">&quot;submit._submit&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						event<span class="token punctuation">.</span>_submitBubble <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> form<span class="token punctuation">,</span> <span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// return undefined since we don't need an event listener</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">postDispatch</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// If form was submitted by the user, bubble the event up the tree</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>_submitBubble <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">delete</span> event<span class="token punctuation">.</span>_submitBubble<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>isTrigger <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span> <span class="token string">&quot;submit&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">,</span> event <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">teardown</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Only need this for delegated form submit events</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;form&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Remove delegated handlers; cleanData eventually reaps submit handlers attached above</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;._submit&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// IE change delegation and checkbox/radio fix</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>change <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">.</span>change <span class="token operator">=</span> <span class="token punctuation">{</span>

		<span class="token function-variable function">setup</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> rformElems<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// IE doesn't fire change on a check/radio until blur; trigger it on click</span>
				<span class="token comment">// after a propertychange. Eat the blur-change in special.change.handle.</span>
				<span class="token comment">// This still fires onchange a second time for check/radio after blur.</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;checkbox&quot;</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;radio&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;propertychange._change&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> event<span class="token punctuation">.</span>originalEvent<span class="token punctuation">.</span>propertyName <span class="token operator">===</span> <span class="token string">&quot;checked&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">this</span><span class="token punctuation">.</span>_justChanged <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;click._change&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>_justChanged <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>isTrigger <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">this</span><span class="token punctuation">.</span>_justChanged <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Allow triggered, simulated change events (#11500)</span>
						jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span> <span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">,</span> event <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Delegated event; lazy-add a change handler on descendant inputs</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;beforeactivate._change&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">e</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> elem <span class="token operator">=</span> e<span class="token punctuation">.</span>target<span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> rformElems<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;change&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;change._change&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>isSimulated <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>event<span class="token punctuation">.</span>isTrigger <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span> <span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">,</span> event <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;change&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">handle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> elem <span class="token operator">=</span> event<span class="token punctuation">.</span>target<span class="token punctuation">;</span>

			<span class="token comment">// Swallow native change events from checkbox/radio, we already triggered them above</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token operator">!==</span> elem <span class="token operator">||</span> event<span class="token punctuation">.</span>isSimulated <span class="token operator">||</span> event<span class="token punctuation">.</span>isTrigger <span class="token operator">||</span>
				<span class="token punctuation">(</span> elem<span class="token punctuation">.</span>type <span class="token operator">!==</span> <span class="token string">&quot;radio&quot;</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>type <span class="token operator">!==</span> <span class="token string">&quot;checkbox&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token keyword">return</span> event<span class="token punctuation">.</span>handleObj<span class="token punctuation">.</span><span class="token function">handler</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">teardown</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;._change&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">return</span> <span class="token operator">!</span>rformElems<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Support: Firefox</span>
<span class="token comment">// Firefox doesn't have focus(in | out) events</span>
<span class="token comment">// Related ticket - https://bugzilla.mozilla.org/show_bug.cgi?id=687787</span>
<span class="token comment">//</span>
<span class="token comment">// Support: Chrome, Safari</span>
<span class="token comment">// focus(in | out) events fire after focus &amp; blur events,</span>
<span class="token comment">// which is spec violation - http://www.w3.org/TR/DOM-Level-3-Events/#events-focusevent-event-order</span>
<span class="token comment">// Related ticket - https://code.google.com/p/chromium/issues/detail?id=449857</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>focusin <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> focus<span class="token operator">:</span> <span class="token string">&quot;focusin&quot;</span><span class="token punctuation">,</span> blur<span class="token operator">:</span> <span class="token string">&quot;focusout&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">orig<span class="token punctuation">,</span> fix</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Attach a single capturing handler on the document while someone wants focusin/focusout</span>
		<span class="token keyword">var</span> <span class="token function-variable function">handler</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">event</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">simulate</span><span class="token punctuation">(</span> fix<span class="token punctuation">,</span> event<span class="token punctuation">.</span>target<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">fix</span><span class="token punctuation">(</span> event <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">[</span> fix <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">setup</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> doc <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
					attaches <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> doc<span class="token punctuation">,</span> fix <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>attaches <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					doc<span class="token punctuation">.</span><span class="token function">addEventListener</span><span class="token punctuation">(</span> orig<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> doc<span class="token punctuation">,</span> fix<span class="token punctuation">,</span> <span class="token punctuation">(</span> attaches <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function-variable function">teardown</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> doc <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
					attaches <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> doc<span class="token punctuation">,</span> fix <span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>attaches <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					doc<span class="token punctuation">.</span><span class="token function">removeEventListener</span><span class="token punctuation">(</span> orig<span class="token punctuation">,</span> handler<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_removeData</span><span class="token punctuation">(</span> doc<span class="token punctuation">,</span> fix <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> doc<span class="token punctuation">,</span> fix<span class="token punctuation">,</span> attaches <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

	<span class="token function-variable function">on</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">types<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">on</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> types<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">one</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">types<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">on</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> types<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">off</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">types<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> handleObj<span class="token punctuation">,</span> type<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> types <span class="token operator">&amp;&amp;</span> types<span class="token punctuation">.</span>preventDefault <span class="token operator">&amp;&amp;</span> types<span class="token punctuation">.</span>handleObj <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// ( event )  dispatched jQuery.Event</span>
			handleObj <span class="token operator">=</span> types<span class="token punctuation">.</span>handleObj<span class="token punctuation">;</span>
			<span class="token function">jQuery</span><span class="token punctuation">(</span> types<span class="token punctuation">.</span>delegateTarget <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span>
				handleObj<span class="token punctuation">.</span>namespace <span class="token operator">?</span>
					handleObj<span class="token punctuation">.</span>origType <span class="token operator">+</span> <span class="token string">&quot;.&quot;</span> <span class="token operator">+</span> handleObj<span class="token punctuation">.</span>namespace <span class="token operator">:</span>
					handleObj<span class="token punctuation">.</span>origType<span class="token punctuation">,</span>
				handleObj<span class="token punctuation">.</span>selector<span class="token punctuation">,</span>
				handleObj<span class="token punctuation">.</span>handler
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> types <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// ( types-object [, selector] )</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> types <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> types<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> selector <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> selector <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// ( types [, fn] )</span>
			fn <span class="token operator">=</span> selector<span class="token punctuation">;</span>
			selector <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> fn <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			fn <span class="token operator">=</span> returnFalse<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> types<span class="token punctuation">,</span> fn<span class="token punctuation">,</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">trigger</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> data<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">triggerHandler</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> data<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> rinlinejQuery <span class="token operator">=</span> <span class="token regex">/ jQuery\d+=&quot;(?:null|\d+)&quot;/g</span><span class="token punctuation">,</span>
	rnoshimcache <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;&lt;(?:&quot;</span> <span class="token operator">+</span> nodeNames <span class="token operator">+</span> <span class="token string">&quot;)[\\s/&gt;]&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	rxhtmlTag <span class="token operator">=</span> <span class="token regex">/&lt;(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^&gt;]*)\/&gt;/gi</span><span class="token punctuation">,</span>

	<span class="token comment">// Support: IE 10-11, Edge 10240+</span>
	<span class="token comment">// In IE/Edge using regex groups here causes severe slowdowns.</span>
	<span class="token comment">// See https://connect.microsoft.com/IE/feedback/details/1736512/</span>
	rnoInnerhtml <span class="token operator">=</span> <span class="token regex">/&lt;script|&lt;style|&lt;link/i</span><span class="token punctuation">,</span>

	<span class="token comment">// checked=&quot;checked&quot; or checked</span>
	rchecked <span class="token operator">=</span> <span class="token regex">/checked\s*(?:[^=]|=\s*.checked.)/i</span><span class="token punctuation">,</span>
	rscriptTypeMasked <span class="token operator">=</span> <span class="token regex">/^true\/(.*)/</span><span class="token punctuation">,</span>
	rcleanScript <span class="token operator">=</span> <span class="token regex">/^\s*&lt;!(?:\[CDATA\[|--)|(?:\]\]|--)&gt;\s*$/g</span><span class="token punctuation">,</span>
	safeFragment <span class="token operator">=</span> <span class="token function">createSafeFragment</span><span class="token punctuation">(</span> document <span class="token punctuation">)</span><span class="token punctuation">,</span>
	fragmentDiv <span class="token operator">=</span> safeFragment<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Support: IE&lt;8</span>
<span class="token comment">// Manipulating tables requires a tbody</span>
<span class="token keyword">function</span> <span class="token function">manipulationTarget</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> content</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;table&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
		jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> content<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">11</span> <span class="token operator">?</span> content <span class="token operator">:</span> content<span class="token punctuation">.</span>firstChild<span class="token punctuation">,</span> <span class="token string">&quot;tr&quot;</span> <span class="token punctuation">)</span> <span class="token operator">?</span>

		elem<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;tbody&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">||</span>
			elem<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;tbody&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
		elem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Replace/restore the type attribute of script elements for safe DOM manipulation</span>
<span class="token keyword">function</span> <span class="token function">disableScript</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	elem<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;type&quot;</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;/&quot;</span> <span class="token operator">+</span> elem<span class="token punctuation">.</span>type<span class="token punctuation">;</span>
	<span class="token keyword">return</span> elem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">function</span> <span class="token function">restoreScript</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> match <span class="token operator">=</span> rscriptTypeMasked<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>type <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> match <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		elem<span class="token punctuation">.</span>type <span class="token operator">=</span> match<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		elem<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;type&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> elem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">cloneCopyEvent</span><span class="token punctuation">(</span> <span class="token parameter">src<span class="token punctuation">,</span> dest</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> dest<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">hasData</span><span class="token punctuation">(</span> src <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> type<span class="token punctuation">,</span> i<span class="token punctuation">,</span> l<span class="token punctuation">,</span>
		oldData <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> src <span class="token punctuation">)</span><span class="token punctuation">,</span>
		curData <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> dest<span class="token punctuation">,</span> oldData <span class="token punctuation">)</span><span class="token punctuation">,</span>
		events <span class="token operator">=</span> oldData<span class="token punctuation">.</span>events<span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> events <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">delete</span> curData<span class="token punctuation">.</span>handle<span class="token punctuation">;</span>
		curData<span class="token punctuation">.</span>events <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> events <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> events<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span> dest<span class="token punctuation">,</span> type<span class="token punctuation">,</span> events<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// make the cloned public data object a copy from the original</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> curData<span class="token punctuation">.</span>data <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		curData<span class="token punctuation">.</span>data <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> curData<span class="token punctuation">.</span>data <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">fixCloneNodeIssues</span><span class="token punctuation">(</span> <span class="token parameter">src<span class="token punctuation">,</span> dest</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> nodeName<span class="token punctuation">,</span> e<span class="token punctuation">,</span> data<span class="token punctuation">;</span>

	<span class="token comment">// We do not need to do anything for non-Elements</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> dest<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	nodeName <span class="token operator">=</span> dest<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// IE6-8 copies events bound via attachEvent when using cloneNode.</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>noCloneEvent <span class="token operator">&amp;&amp;</span> dest<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		data <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> dest <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> e <span class="token keyword">in</span> data<span class="token punctuation">.</span>events <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">removeEvent</span><span class="token punctuation">(</span> dest<span class="token punctuation">,</span> e<span class="token punctuation">,</span> data<span class="token punctuation">.</span>handle <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Event data gets referenced instead of copied if the expando gets copied too</span>
		dest<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>expando <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// IE blanks contents when cloning scripts, and tries to evaluate newly-set text</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> nodeName <span class="token operator">===</span> <span class="token string">&quot;script&quot;</span> <span class="token operator">&amp;&amp;</span> dest<span class="token punctuation">.</span>text <span class="token operator">!==</span> src<span class="token punctuation">.</span>text <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">disableScript</span><span class="token punctuation">(</span> dest <span class="token punctuation">)</span><span class="token punctuation">.</span>text <span class="token operator">=</span> src<span class="token punctuation">.</span>text<span class="token punctuation">;</span>
		<span class="token function">restoreScript</span><span class="token punctuation">(</span> dest <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// IE6-10 improperly clones children of object elements using classid.</span>
	<span class="token comment">// IE10 throws NoModificationAllowedError if parent is null, #12132.</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> nodeName <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> dest<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			dest<span class="token punctuation">.</span>outerHTML <span class="token operator">=</span> src<span class="token punctuation">.</span>outerHTML<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// This path appears unavoidable for IE9. When cloning an object</span>
		<span class="token comment">// element in IE9, the outerHTML strategy above is not sufficient.</span>
		<span class="token comment">// If the src has innerHTML and the destination does not,</span>
		<span class="token comment">// copy the src.innerHTML into the dest.innerHTML. #10324</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> support<span class="token punctuation">.</span>html5Clone <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> src<span class="token punctuation">.</span>innerHTML <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> dest<span class="token punctuation">.</span>innerHTML <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			dest<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> src<span class="token punctuation">.</span>innerHTML<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> nodeName <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token operator">&amp;&amp;</span> rcheckableType<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> src<span class="token punctuation">.</span>type <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// IE6-8 fails to persist the checked state of a cloned checkbox</span>
		<span class="token comment">// or radio button. Worse, IE6-7 fail to give the cloned element</span>
		<span class="token comment">// a checked appearance if the defaultChecked value isn't also set</span>

		dest<span class="token punctuation">.</span>defaultChecked <span class="token operator">=</span> dest<span class="token punctuation">.</span>checked <span class="token operator">=</span> src<span class="token punctuation">.</span>checked<span class="token punctuation">;</span>

		<span class="token comment">// IE6-7 get confused and end up setting the value of a cloned</span>
		<span class="token comment">// checkbox/radio button to an empty string instead of &quot;on&quot;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> dest<span class="token punctuation">.</span>value <span class="token operator">!==</span> src<span class="token punctuation">.</span>value <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			dest<span class="token punctuation">.</span>value <span class="token operator">=</span> src<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token comment">// IE6-8 fails to return the selected option to the default selected</span>
	<span class="token comment">// state when cloning options</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> nodeName <span class="token operator">===</span> <span class="token string">&quot;option&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		dest<span class="token punctuation">.</span>defaultSelected <span class="token operator">=</span> dest<span class="token punctuation">.</span>selected <span class="token operator">=</span> src<span class="token punctuation">.</span>defaultSelected<span class="token punctuation">;</span>

	<span class="token comment">// IE6-8 fails to set the defaultValue to the correct value when</span>
	<span class="token comment">// cloning other types of input fields</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> nodeName <span class="token operator">===</span> <span class="token string">&quot;input&quot;</span> <span class="token operator">||</span> nodeName <span class="token operator">===</span> <span class="token string">&quot;textarea&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		dest<span class="token punctuation">.</span>defaultValue <span class="token operator">=</span> src<span class="token punctuation">.</span>defaultValue<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">domManip</span><span class="token punctuation">(</span> <span class="token parameter">collection<span class="token punctuation">,</span> args<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> ignored</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Flatten any nested arrays</span>
	args <span class="token operator">=</span> <span class="token function">concat</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> args <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">var</span> first<span class="token punctuation">,</span> node<span class="token punctuation">,</span> hasScripts<span class="token punctuation">,</span>
		scripts<span class="token punctuation">,</span> doc<span class="token punctuation">,</span> fragment<span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		l <span class="token operator">=</span> collection<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
		iNoClone <span class="token operator">=</span> l <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">,</span>
		value <span class="token operator">=</span> args<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
		isFunction <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// We can't cloneNode fragments that contain checked, in WebKit</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> isFunction <span class="token operator">||</span>
			<span class="token punctuation">(</span> l <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span>
				<span class="token operator">!</span>support<span class="token punctuation">.</span>checkClone <span class="token operator">&amp;&amp;</span> rchecked<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> collection<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">index</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> self <span class="token operator">=</span> collection<span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span> index <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> isFunction <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				args<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> index<span class="token punctuation">,</span> self<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token function">domManip</span><span class="token punctuation">(</span> self<span class="token punctuation">,</span> args<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> ignored <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> l <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fragment <span class="token operator">=</span> <span class="token function">buildFragment</span><span class="token punctuation">(</span> args<span class="token punctuation">,</span> collection<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> collection<span class="token punctuation">,</span> ignored <span class="token punctuation">)</span><span class="token punctuation">;</span>
		first <span class="token operator">=</span> fragment<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> fragment<span class="token punctuation">.</span>childNodes<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			fragment <span class="token operator">=</span> first<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Require either new content or an interest in ignored elements to invoke the callback</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> first <span class="token operator">||</span> ignored <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			scripts <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token function">getAll</span><span class="token punctuation">(</span> fragment<span class="token punctuation">,</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> disableScript <span class="token punctuation">)</span><span class="token punctuation">;</span>
			hasScripts <span class="token operator">=</span> scripts<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

			<span class="token comment">// Use the original fragment for the last item</span>
			<span class="token comment">// instead of the first because it can end up</span>
			<span class="token comment">// being emptied incorrectly in certain situations (#8070).</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				node <span class="token operator">=</span> fragment<span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> i <span class="token operator">!==</span> iNoClone <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					node <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span> node<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token comment">// Keep references to cloned scripts for later restoration</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> hasScripts <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Support: Android&lt;4.1, PhantomJS&lt;2</span>
						<span class="token comment">// push.apply(_, arraylike) throws on ancient WebKit</span>
						jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> scripts<span class="token punctuation">,</span> <span class="token function">getAll</span><span class="token punctuation">(</span> node<span class="token punctuation">,</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> collection<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> node<span class="token punctuation">,</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> hasScripts <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				doc <span class="token operator">=</span> scripts<span class="token punctuation">[</span> scripts<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>ownerDocument<span class="token punctuation">;</span>

				<span class="token comment">// Reenable scripts</span>
				jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> scripts<span class="token punctuation">,</span> restoreScript <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Evaluate executable scripts on first document insertion</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> hasScripts<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					node <span class="token operator">=</span> scripts<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> rscriptType<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> node<span class="token punctuation">.</span>type <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
						<span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> node<span class="token punctuation">,</span> <span class="token string">&quot;globalEval&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
						jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> doc<span class="token punctuation">,</span> node <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token keyword">if</span> <span class="token punctuation">(</span> node<span class="token punctuation">.</span>src <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							<span class="token comment">// Optional AJAX dependency, but won't run scripts if not present</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>_evalUrl <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								jQuery<span class="token punctuation">.</span><span class="token function">_evalUrl</span><span class="token punctuation">(</span> node<span class="token punctuation">.</span>src <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
							jQuery<span class="token punctuation">.</span><span class="token function">globalEval</span><span class="token punctuation">(</span>
								<span class="token punctuation">(</span> node<span class="token punctuation">.</span>text <span class="token operator">||</span> node<span class="token punctuation">.</span>textContent <span class="token operator">||</span> node<span class="token punctuation">.</span>innerHTML <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
									<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rcleanScript<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
							<span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Fix #11809: Avoid leaking memory</span>
			fragment <span class="token operator">=</span> first <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> collection<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">remove</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> keepData</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> node<span class="token punctuation">,</span>
		elems <span class="token operator">=</span> selector <span class="token operator">?</span> jQuery<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token operator">:</span> elem<span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> <span class="token punctuation">(</span> node <span class="token operator">=</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>keepData <span class="token operator">&amp;&amp;</span> node<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">cleanData</span><span class="token punctuation">(</span> <span class="token function">getAll</span><span class="token punctuation">(</span> node <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> node<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> keepData <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> node<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span> node <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">setGlobalEval</span><span class="token punctuation">(</span> <span class="token function">getAll</span><span class="token punctuation">(</span> node<span class="token punctuation">,</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			node<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> node <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> elem<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">htmlPrefilter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> html<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rxhtmlTag<span class="token punctuation">,</span> <span class="token string">&quot;&lt;$1&gt;&lt;/$2&gt;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">clone</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> dataAndEvents<span class="token punctuation">,</span> deepDataAndEvents</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> destElements<span class="token punctuation">,</span> node<span class="token punctuation">,</span> clone<span class="token punctuation">,</span> i<span class="token punctuation">,</span> srcElements<span class="token punctuation">,</span>
			inPage <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> support<span class="token punctuation">.</span>html5Clone <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">isXMLDoc</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">||</span>
			<span class="token operator">!</span>rnoshimcache<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token string">&quot;&lt;&quot;</span> <span class="token operator">+</span> elem<span class="token punctuation">.</span>nodeName <span class="token operator">+</span> <span class="token string">&quot;&gt;&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			clone <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// IE&lt;=8 does not properly clone detached, unknown element nodes</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			fragmentDiv<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> elem<span class="token punctuation">.</span>outerHTML<span class="token punctuation">;</span>
			fragmentDiv<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> clone <span class="token operator">=</span> fragmentDiv<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>noCloneEvent <span class="token operator">||</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>noCloneChecked <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">11</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isXMLDoc</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// We eschew Sizzle here for performance reasons: http://jsperf.com/getall-vs-sizzle/2</span>
			destElements <span class="token operator">=</span> <span class="token function">getAll</span><span class="token punctuation">(</span> clone <span class="token punctuation">)</span><span class="token punctuation">;</span>
			srcElements <span class="token operator">=</span> <span class="token function">getAll</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Fix all IE cloning issues</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">(</span> node <span class="token operator">=</span> srcElements<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token operator">++</span>i <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Ensure that the destination node is not null; Fixes #9587</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> destElements<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">fixCloneNodeIssues</span><span class="token punctuation">(</span> node<span class="token punctuation">,</span> destElements<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Copy the events from the original to the clone</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> dataAndEvents <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> deepDataAndEvents <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				srcElements <span class="token operator">=</span> srcElements <span class="token operator">||</span> <span class="token function">getAll</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
				destElements <span class="token operator">=</span> destElements <span class="token operator">||</span> <span class="token function">getAll</span><span class="token punctuation">(</span> clone <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> <span class="token punctuation">(</span> node <span class="token operator">=</span> srcElements<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">cloneCopyEvent</span><span class="token punctuation">(</span> node<span class="token punctuation">,</span> destElements<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token function">cloneCopyEvent</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> clone <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Preserve script evaluation history</span>
		destElements <span class="token operator">=</span> <span class="token function">getAll</span><span class="token punctuation">(</span> clone<span class="token punctuation">,</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> destElements<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">setGlobalEval</span><span class="token punctuation">(</span> destElements<span class="token punctuation">,</span> <span class="token operator">!</span>inPage <span class="token operator">&amp;&amp;</span> <span class="token function">getAll</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		destElements <span class="token operator">=</span> srcElements <span class="token operator">=</span> node <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

		<span class="token comment">// Return the cloned set</span>
		<span class="token keyword">return</span> clone<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">cleanData</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> elems<span class="token punctuation">,</span> <span class="token comment">/* internal */</span> forceAcceptData <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> id<span class="token punctuation">,</span> data<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			internalKey <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>expando<span class="token punctuation">,</span>
			cache <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>cache<span class="token punctuation">,</span>
			attributes <span class="token operator">=</span> support<span class="token punctuation">.</span>attributes<span class="token punctuation">,</span>
			special <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span>special<span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> elems<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> forceAcceptData <span class="token operator">||</span> <span class="token function">acceptData</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				id <span class="token operator">=</span> elem<span class="token punctuation">[</span> internalKey <span class="token punctuation">]</span><span class="token punctuation">;</span>
				data <span class="token operator">=</span> id <span class="token operator">&amp;&amp;</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> data<span class="token punctuation">.</span>events <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> data<span class="token punctuation">.</span>events <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> special<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>

							<span class="token comment">// This is a shortcut to avoid jQuery.event.remove's overhead</span>
							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
								jQuery<span class="token punctuation">.</span><span class="token function">removeEvent</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> data<span class="token punctuation">.</span>handle <span class="token punctuation">)</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Remove cache only if it was not already removed by jQuery.event.remove</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token keyword">delete</span> cache<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">;</span>

						<span class="token comment">// Support: IE&lt;9</span>
						<span class="token comment">// IE does not allow us to delete expando properties from nodes</span>
						<span class="token comment">// IE creates expando attributes along with the property</span>
						<span class="token comment">// IE does not have a removeAttribute function on Document nodes</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>attributes <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">.</span>removeAttribute <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							elem<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span> internalKey <span class="token punctuation">)</span><span class="token punctuation">;</span>

						<span class="token comment">// Webkit &amp; Blink performance suffers when deleting properties</span>
						<span class="token comment">// from DOM nodes, so set to undefined instead</span>
						<span class="token comment">// https://code.google.com/p/chromium/issues/detail?id=378607</span>
						<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
							elem<span class="token punctuation">[</span> internalKey <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						deletedIds<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> id <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

	<span class="token comment">// Keep domManip exposed until 3.0 (gh-2225)</span>
	domManip<span class="token operator">:</span> domManip<span class="token punctuation">,</span>

	<span class="token function-variable function">detach</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">remove</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> selector<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">remove</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">remove</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> selector <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">text</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">access</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> value <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
				jQuery<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span>
					<span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> document <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">createTextNode</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> arguments<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">append</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">domManip</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">11</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token function">manipulationTarget</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
				target<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">prepend</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">domManip</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">11</span> <span class="token operator">||</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> target <span class="token operator">=</span> <span class="token function">manipulationTarget</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
				target<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> target<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">before</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">domManip</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">after</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">domManip</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nextSibling <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">empty</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> elem<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Remove element nodes and prevent memory leaks</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">cleanData</span><span class="token punctuation">(</span> <span class="token function">getAll</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Remove any remaining nodes</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				elem<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// If this is a select, ensure that it displays empty (#12336)</span>
			<span class="token comment">// Support: IE&lt;9</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>options <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;select&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				elem<span class="token punctuation">.</span>options<span class="token punctuation">.</span>length <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">clone</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">dataAndEvents<span class="token punctuation">,</span> deepDataAndEvents</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		dataAndEvents <span class="token operator">=</span> dataAndEvents <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> dataAndEvents<span class="token punctuation">;</span>
		deepDataAndEvents <span class="token operator">=</span> deepDataAndEvents <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> dataAndEvents <span class="token operator">:</span> deepDataAndEvents<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> dataAndEvents<span class="token punctuation">,</span> deepDataAndEvents <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">html</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">access</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
				l <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span>
					elem<span class="token punctuation">.</span>innerHTML<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rinlinejQuery<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token keyword">undefined</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// See if we can take a shortcut and just use innerHTML</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>rnoInnerhtml<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> support<span class="token punctuation">.</span>htmlSerialize <span class="token operator">||</span> <span class="token operator">!</span>rnoshimcache<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span>  <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> support<span class="token punctuation">.</span>leadingWhitespace <span class="token operator">||</span> <span class="token operator">!</span>rleadingWhitespace<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				<span class="token operator">!</span>wrapMap<span class="token punctuation">[</span> <span class="token punctuation">(</span> rtagName<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				value <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">htmlPrefilter</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">try</span> <span class="token punctuation">{</span>
					<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Remove element nodes and prevent memory leaks</span>
						elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							jQuery<span class="token punctuation">.</span><span class="token function">cleanData</span><span class="token punctuation">(</span> <span class="token function">getAll</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
							elem<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> value<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					elem <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

				<span class="token comment">// If using innerHTML throws an exception, use the fallback method</span>
				<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">empty</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> value<span class="token punctuation">,</span> arguments<span class="token punctuation">.</span>length <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">replaceWith</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> ignored <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Make the changes, replacing each non-ignored context element with the new content</span>
		<span class="token keyword">return</span> <span class="token function">domManip</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> parent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> ignored <span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">cleanData</span><span class="token punctuation">(</span> <span class="token function">getAll</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> parent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					parent<span class="token punctuation">.</span><span class="token function">replaceChild</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

		<span class="token comment">// Force callback invocation</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> ignored <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	appendTo<span class="token operator">:</span> <span class="token string">&quot;append&quot;</span><span class="token punctuation">,</span>
	prependTo<span class="token operator">:</span> <span class="token string">&quot;prepend&quot;</span><span class="token punctuation">,</span>
	insertBefore<span class="token operator">:</span> <span class="token string">&quot;before&quot;</span><span class="token punctuation">,</span>
	insertAfter<span class="token operator">:</span> <span class="token string">&quot;after&quot;</span><span class="token punctuation">,</span>
	replaceAll<span class="token operator">:</span> <span class="token string">&quot;replaceWith&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> original</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> elems<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			ret <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			insert <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span><span class="token punctuation">,</span>
			last <span class="token operator">=</span> insert<span class="token punctuation">.</span>length <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;=</span> last<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			elems <span class="token operator">=</span> i <span class="token operator">===</span> last <span class="token operator">?</span> <span class="token keyword">this</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">jQuery</span><span class="token punctuation">(</span> insert<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> original <span class="token punctuation">]</span><span class="token punctuation">(</span> elems <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Modern browsers can apply jQuery collections as arrays, but oldIE needs a .get()</span>
			<span class="token function">push</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> ret<span class="token punctuation">,</span> elems<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">pushStack</span><span class="token punctuation">(</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> iframe<span class="token punctuation">,</span>
	elemdisplay <span class="token operator">=</span> <span class="token punctuation">{</span>

		<span class="token comment">// Support: Firefox</span>
		<span class="token comment">// We have to pre-define these values for FF (#10227)</span>
		<span class="token constant">HTML</span><span class="token operator">:</span> <span class="token string">&quot;block&quot;</span><span class="token punctuation">,</span>
		<span class="token constant">BODY</span><span class="token operator">:</span> <span class="token string">&quot;block&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">/**
 * Retrieve the actual display of a element
 * @param {String} name nodeName of the element
 * @param {Object} doc Document object
 */</span>

<span class="token comment">// Called only from within defaultDisplay</span>
<span class="token keyword">function</span> <span class="token function">actualDisplay</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> doc</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> elem <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> doc<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span> doc<span class="token punctuation">.</span>body <span class="token punctuation">)</span><span class="token punctuation">,</span>

		display <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;display&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// We don't have any data stored on the element,</span>
	<span class="token comment">// so use &quot;detach&quot; method as fast way to get rid of the element</span>
	elem<span class="token punctuation">.</span><span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> display<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/**
 * Try to determine the default display value of an element
 * @param {String} nodeName
 */</span>
<span class="token keyword">function</span> <span class="token function">defaultDisplay</span><span class="token punctuation">(</span> <span class="token parameter">nodeName</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> doc <span class="token operator">=</span> document<span class="token punctuation">,</span>
		display <span class="token operator">=</span> elemdisplay<span class="token punctuation">[</span> nodeName <span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>display <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		display <span class="token operator">=</span> <span class="token function">actualDisplay</span><span class="token punctuation">(</span> nodeName<span class="token punctuation">,</span> doc <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// If the simple way fails, read from inside an iframe</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> display <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token operator">||</span> <span class="token operator">!</span>display <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Use the already-created iframe if possible</span>
			iframe <span class="token operator">=</span> <span class="token punctuation">(</span> iframe <span class="token operator">||</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token string">&quot;&lt;iframe frameborder='0' width='0' height='0'/&gt;&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
				<span class="token punctuation">.</span><span class="token function">appendTo</span><span class="token punctuation">(</span> doc<span class="token punctuation">.</span>documentElement <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Always write a new HTML skeleton so Webkit and Firefox don't choke on reuse</span>
			doc <span class="token operator">=</span> <span class="token punctuation">(</span> iframe<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>contentWindow <span class="token operator">||</span> iframe<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>contentDocument <span class="token punctuation">)</span><span class="token punctuation">.</span>document<span class="token punctuation">;</span>

			<span class="token comment">// Support: IE</span>
			doc<span class="token punctuation">.</span><span class="token function">write</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			doc<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			display <span class="token operator">=</span> <span class="token function">actualDisplay</span><span class="token punctuation">(</span> nodeName<span class="token punctuation">,</span> doc <span class="token punctuation">)</span><span class="token punctuation">;</span>
			iframe<span class="token punctuation">.</span><span class="token function">detach</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Store the correct default display</span>
		elemdisplay<span class="token punctuation">[</span> nodeName <span class="token punctuation">]</span> <span class="token operator">=</span> display<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> display<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
<span class="token keyword">var</span> rmargin <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/^margin/</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rnumnonpx <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^(&quot;</span> <span class="token operator">+</span> pnum <span class="token operator">+</span> <span class="token string">&quot;)(?!px)[a-z%]+$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> <span class="token function-variable function">swap</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> options<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> args</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> ret<span class="token punctuation">,</span> name<span class="token punctuation">,</span>
		old <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Remember the old values, and insert the new ones</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> options <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		old<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> options<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	ret <span class="token operator">=</span> <span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> args <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Revert the old values</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> options <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> old<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> documentElement <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>



<span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> pixelPositionVal<span class="token punctuation">,</span> pixelMarginRightVal<span class="token punctuation">,</span> boxSizingReliableVal<span class="token punctuation">,</span>
		reliableHiddenOffsetsVal<span class="token punctuation">,</span> reliableMarginRightVal<span class="token punctuation">,</span> reliableMarginLeftVal<span class="token punctuation">,</span>
		container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Finish early in limited (non-browser) environments</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>div<span class="token punctuation">.</span>style <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;float:left;opacity:.5&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: IE&lt;9</span>
	<span class="token comment">// Make sure that element opacity exists (as opposed to filter)</span>
	support<span class="token punctuation">.</span>opacity <span class="token operator">=</span> div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>opacity <span class="token operator">===</span> <span class="token string">&quot;0.5&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// Verify style float existence</span>
	<span class="token comment">// (IE uses styleFloat instead of cssFloat)</span>
	support<span class="token punctuation">.</span>cssFloat <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssFloat<span class="token punctuation">;</span>

	div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundClip <span class="token operator">=</span> <span class="token string">&quot;content-box&quot;</span><span class="token punctuation">;</span>
	div<span class="token punctuation">.</span><span class="token function">cloneNode</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundClip <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	support<span class="token punctuation">.</span>clearCloneStyle <span class="token operator">=</span> div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>backgroundClip <span class="token operator">===</span> <span class="token string">&quot;content-box&quot;</span><span class="token punctuation">;</span>

	container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	container<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;border:0;width:8px;height:0;top:0;left:-9999px;&quot;</span> <span class="token operator">+</span>
		<span class="token string">&quot;padding:0;margin-top:1px;position:absolute&quot;</span><span class="token punctuation">;</span>
	div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	container<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: Firefox&lt;29, Android 2.3</span>
	<span class="token comment">// Vendor-prefix box-sizing</span>
	support<span class="token punctuation">.</span>boxSizing <span class="token operator">=</span> div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>boxSizing <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>MozBoxSizing <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span>
		div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>WebkitBoxSizing <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

	jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> support<span class="token punctuation">,</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">reliableHiddenOffsets</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> pixelPositionVal <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">computeStyleTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> reliableHiddenOffsetsVal<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">boxSizingReliable</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// We're checking for pixelPositionVal here instead of boxSizingReliableVal</span>
			<span class="token comment">// since that compresses better and they're computed together anyway.</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> pixelPositionVal <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">computeStyleTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> boxSizingReliableVal<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">pixelMarginRight</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Support: Android 4.0-4.3</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> pixelPositionVal <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">computeStyleTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> pixelMarginRightVal<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">pixelPosition</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> pixelPositionVal <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">computeStyleTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> pixelPositionVal<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">reliableMarginRight</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Support: Android 2.3</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> pixelPositionVal <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">computeStyleTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> reliableMarginRightVal<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">reliableMarginLeft</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Support: IE &lt;=8 only, Android 4.0 - 4.3 only, Firefox &lt;=3 - 37</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> pixelPositionVal <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">computeStyleTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> reliableMarginLeftVal<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">function</span> <span class="token function">computeStyleTests</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> contents<span class="token punctuation">,</span> divStyle<span class="token punctuation">,</span>
			documentElement <span class="token operator">=</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

		<span class="token comment">// Setup</span>
		documentElement<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> container <span class="token punctuation">)</span><span class="token punctuation">;</span>

		div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span>

			<span class="token comment">// Support: Android 2.3</span>
			<span class="token comment">// Vendor-prefix box-sizing</span>
			<span class="token string">&quot;-webkit-box-sizing:border-box;box-sizing:border-box;&quot;</span> <span class="token operator">+</span>
			<span class="token string">&quot;position:relative;display:block;&quot;</span> <span class="token operator">+</span>
			<span class="token string">&quot;margin:auto;border:1px;padding:1px;&quot;</span> <span class="token operator">+</span>
			<span class="token string">&quot;top:1%;width:50%&quot;</span><span class="token punctuation">;</span>

		<span class="token comment">// Support: IE&lt;9</span>
		<span class="token comment">// Assume reasonable values in the absence of getComputedStyle</span>
		pixelPositionVal <span class="token operator">=</span> boxSizingReliableVal <span class="token operator">=</span> reliableMarginLeftVal <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
		pixelMarginRightVal <span class="token operator">=</span> reliableMarginRightVal <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

		<span class="token comment">// Check for getComputedStyle so that this code is not run in IE&lt;9.</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span>getComputedStyle <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			divStyle <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span> div <span class="token punctuation">)</span><span class="token punctuation">;</span>
			pixelPositionVal <span class="token operator">=</span> <span class="token punctuation">(</span> divStyle <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>top <span class="token operator">!==</span> <span class="token string">&quot;1%&quot;</span><span class="token punctuation">;</span>
			reliableMarginLeftVal <span class="token operator">=</span> <span class="token punctuation">(</span> divStyle <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>marginLeft <span class="token operator">===</span> <span class="token string">&quot;2px&quot;</span><span class="token punctuation">;</span>
			boxSizingReliableVal <span class="token operator">=</span> <span class="token punctuation">(</span> divStyle <span class="token operator">||</span> <span class="token punctuation">{</span> width<span class="token operator">:</span> <span class="token string">&quot;4px&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>width <span class="token operator">===</span> <span class="token string">&quot;4px&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// Support: Android 4.0 - 4.3 only</span>
			<span class="token comment">// Some styles come back with percentage values, even though they shouldn't</span>
			div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginRight <span class="token operator">=</span> <span class="token string">&quot;50%&quot;</span><span class="token punctuation">;</span>
			pixelMarginRightVal <span class="token operator">=</span> <span class="token punctuation">(</span> divStyle <span class="token operator">||</span> <span class="token punctuation">{</span> marginRight<span class="token operator">:</span> <span class="token string">&quot;4px&quot;</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>marginRight <span class="token operator">===</span> <span class="token string">&quot;4px&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// Support: Android 2.3 only</span>
			<span class="token comment">// Div with explicit width and no margin-right incorrectly</span>
			<span class="token comment">// gets computed margin-right based on width of container (#3333)</span>
			<span class="token comment">// WebKit Bug 13343 - getComputedStyle returns wrong value for margin-right</span>
			contents <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Reset CSS: box-sizing; display; margin; border; padding</span>
			contents<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span>

				<span class="token comment">// Support: Android 2.3</span>
				<span class="token comment">// Vendor-prefix box-sizing</span>
				<span class="token string">&quot;-webkit-box-sizing:content-box;-moz-box-sizing:content-box;&quot;</span> <span class="token operator">+</span>
				<span class="token string">&quot;box-sizing:content-box;display:block;margin:0;border:0;padding:0&quot;</span><span class="token punctuation">;</span>
			contents<span class="token punctuation">.</span>style<span class="token punctuation">.</span>marginRight <span class="token operator">=</span> contents<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">;</span>
			div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>width <span class="token operator">=</span> <span class="token string">&quot;1px&quot;</span><span class="token punctuation">;</span>

			reliableMarginRightVal <span class="token operator">=</span>
				<span class="token operator">!</span><span class="token function">parseFloat</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span> contents <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>marginRight <span class="token punctuation">)</span><span class="token punctuation">;</span>

			div<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> contents <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE6-8</span>
		<span class="token comment">// First check that getClientRects works as expected</span>
		<span class="token comment">// Check if table cells still have offsetWidth/Height when they are set</span>
		<span class="token comment">// to display:none and there are still other visible table cells in a</span>
		<span class="token comment">// table row; if so, offsetWidth/Height are not reliable for use when</span>
		<span class="token comment">// determining if an element has been hidden directly using</span>
		<span class="token comment">// display:none (it is still safe to use offsets if a parent element is</span>
		<span class="token comment">// hidden; don safety goggles and see bug #4512 for more information).</span>
		div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
		reliableHiddenOffsetsVal <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">getClientRects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> reliableHiddenOffsetsVal <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			div<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
			div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;&lt;table&gt;&lt;tr&gt;&lt;td&gt;&lt;/td&gt;&lt;td&gt;t&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&quot;</span><span class="token punctuation">;</span>
			div<span class="token punctuation">.</span>childNodes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>borderCollapse <span class="token operator">=</span> <span class="token string">&quot;separate&quot;</span><span class="token punctuation">;</span>
			contents <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;td&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			contents<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;margin:0;border:0;padding:0;display:none&quot;</span><span class="token punctuation">;</span>
			reliableHiddenOffsetsVal <span class="token operator">=</span> contents<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> reliableHiddenOffsetsVal <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				contents<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
				contents<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
				reliableHiddenOffsetsVal <span class="token operator">=</span> contents<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>offsetHeight <span class="token operator">===</span> <span class="token number">0</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Teardown</span>
		documentElement<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> container <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> getStyles<span class="token punctuation">,</span> curCSS<span class="token punctuation">,</span>
	rposition <span class="token operator">=</span> <span class="token regex">/^(top|right|bottom|left)$/</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span>getComputedStyle <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">getStyles</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Support: IE&lt;=11+, Firefox&lt;=30+ (#15098, #14150)</span>
		<span class="token comment">// IE throws on elements created in popups</span>
		<span class="token comment">// FF meanwhile throws on frame elements through &quot;defaultView.getComputedStyle&quot;</span>
		<span class="token keyword">var</span> view <span class="token operator">=</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span>defaultView<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>view <span class="token operator">||</span> <span class="token operator">!</span>view<span class="token punctuation">.</span>opener <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			view <span class="token operator">=</span> window<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> view<span class="token punctuation">.</span><span class="token function">getComputedStyle</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">curCSS</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> computed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> width<span class="token punctuation">,</span> minWidth<span class="token punctuation">,</span> maxWidth<span class="token punctuation">,</span> ret<span class="token punctuation">,</span>
			style <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">;</span>

		computed <span class="token operator">=</span> computed <span class="token operator">||</span> <span class="token function">getStyles</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// getPropertyValue is only needed for .css('filter') in IE9, see #12537</span>
		ret <span class="token operator">=</span> computed <span class="token operator">?</span> computed<span class="token punctuation">.</span><span class="token function">getPropertyValue</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token operator">||</span> computed<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

		<span class="token comment">// Support: Opera 12.1x only</span>
		<span class="token comment">// Fall back to style even without computed</span>
		<span class="token comment">// computed is undefined for elems on document fragments</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> ret <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> ret <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			ret <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> computed <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// A tribute to the &quot;awesome hack by Dean Edwards&quot;</span>
			<span class="token comment">// Chrome &lt; 17 and Safari 5.0 uses &quot;computed value&quot;</span>
			<span class="token comment">// instead of &quot;used value&quot; for margin-right</span>
			<span class="token comment">// Safari 5.1.7 (at least) returns percentage for a larger set of values,</span>
			<span class="token comment">// but width seems to be reliably pixels</span>
			<span class="token comment">// this is against the CSSOM draft spec:</span>
			<span class="token comment">// http://dev.w3.org/csswg/cssom/#resolved-values</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span><span class="token function">pixelMarginRight</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> rnumnonpx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> ret <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> rmargin<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Remember the original values</span>
				width <span class="token operator">=</span> style<span class="token punctuation">.</span>width<span class="token punctuation">;</span>
				minWidth <span class="token operator">=</span> style<span class="token punctuation">.</span>minWidth<span class="token punctuation">;</span>
				maxWidth <span class="token operator">=</span> style<span class="token punctuation">.</span>maxWidth<span class="token punctuation">;</span>

				<span class="token comment">// Put in the new values to get a computed value out</span>
				style<span class="token punctuation">.</span>minWidth <span class="token operator">=</span> style<span class="token punctuation">.</span>maxWidth <span class="token operator">=</span> style<span class="token punctuation">.</span>width <span class="token operator">=</span> ret<span class="token punctuation">;</span>
				ret <span class="token operator">=</span> computed<span class="token punctuation">.</span>width<span class="token punctuation">;</span>

				<span class="token comment">// Revert the changed values</span>
				style<span class="token punctuation">.</span>width <span class="token operator">=</span> width<span class="token punctuation">;</span>
				style<span class="token punctuation">.</span>minWidth <span class="token operator">=</span> minWidth<span class="token punctuation">;</span>
				style<span class="token punctuation">.</span>maxWidth <span class="token operator">=</span> maxWidth<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE</span>
		<span class="token comment">// IE returns zIndex value as an integer.</span>
		<span class="token keyword">return</span> ret <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
			ret <span class="token operator">:</span>
			ret <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> documentElement<span class="token punctuation">.</span>currentStyle <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">getStyles</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> elem<span class="token punctuation">.</span>currentStyle<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token function-variable function">curCSS</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> computed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> left<span class="token punctuation">,</span> rs<span class="token punctuation">,</span> rsLeft<span class="token punctuation">,</span> ret<span class="token punctuation">,</span>
			style <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">;</span>

		computed <span class="token operator">=</span> computed <span class="token operator">||</span> <span class="token function">getStyles</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
		ret <span class="token operator">=</span> computed <span class="token operator">?</span> computed<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

		<span class="token comment">// Avoid setting ret to empty string here</span>
		<span class="token comment">// so we don't default to auto</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> style <span class="token operator">&amp;&amp;</span> style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			ret <span class="token operator">=</span> style<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// From the awesome hack by Dean Edwards</span>
		<span class="token comment">// http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291</span>

		<span class="token comment">// If we're not dealing with a regular pixel number</span>
		<span class="token comment">// but a number that has a weird ending, we need to convert it to pixels</span>
		<span class="token comment">// but not position css attributes, as those are</span>
		<span class="token comment">// proportional to the parent element instead</span>
		<span class="token comment">// and we can't measure the parent instead because it</span>
		<span class="token comment">// might trigger a &quot;stacking dolls&quot; problem</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> rnumnonpx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> ret <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>rposition<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Remember the original values</span>
			left <span class="token operator">=</span> style<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
			rs <span class="token operator">=</span> elem<span class="token punctuation">.</span>runtimeStyle<span class="token punctuation">;</span>
			rsLeft <span class="token operator">=</span> rs <span class="token operator">&amp;&amp;</span> rs<span class="token punctuation">.</span>left<span class="token punctuation">;</span>

			<span class="token comment">// Put in the new values to get a computed value out</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> rsLeft <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				rs<span class="token punctuation">.</span>left <span class="token operator">=</span> elem<span class="token punctuation">.</span>currentStyle<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			style<span class="token punctuation">.</span>left <span class="token operator">=</span> name <span class="token operator">===</span> <span class="token string">&quot;fontSize&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;1em&quot;</span> <span class="token operator">:</span> ret<span class="token punctuation">;</span>
			ret <span class="token operator">=</span> style<span class="token punctuation">.</span>pixelLeft <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// Revert the changed values</span>
			style<span class="token punctuation">.</span>left <span class="token operator">=</span> left<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> rsLeft <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				rs<span class="token punctuation">.</span>left <span class="token operator">=</span> rsLeft<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE</span>
		<span class="token comment">// IE returns zIndex value as an integer.</span>
		<span class="token keyword">return</span> ret <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
			ret <span class="token operator">:</span>
			ret <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>




<span class="token keyword">function</span> <span class="token function">addGetHookIf</span><span class="token punctuation">(</span> <span class="token parameter">conditionFn<span class="token punctuation">,</span> hookFn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Define the hook, we'll check on the first run if it's really needed.</span>
	<span class="token keyword">return</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">conditionFn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Hook not needed (or it's not possible to use it due</span>
				<span class="token comment">// to missing dependency), remove it.</span>
				<span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">.</span>get<span class="token punctuation">;</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Hook needed; redefine it so that the support test is not executed again.</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>get <span class="token operator">=</span> hookFn <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>


<span class="token keyword">var</span>

		ralpha <span class="token operator">=</span> <span class="token regex">/alpha\([^)]*\)/i</span><span class="token punctuation">,</span>
	ropacity <span class="token operator">=</span> <span class="token regex">/opacity\s*=\s*([^)]*)/i</span><span class="token punctuation">,</span>

	<span class="token comment">// swappable if display is none or starts with table except</span>
	<span class="token comment">// &quot;table&quot;, &quot;table-cell&quot;, or &quot;table-caption&quot;</span>
	<span class="token comment">// see here for display values:</span>
	<span class="token comment">// https://developer.mozilla.org/en-US/docs/CSS/display</span>
	rdisplayswap <span class="token operator">=</span> <span class="token regex">/^(none|table(?!-c[ea]).+)/</span><span class="token punctuation">,</span>
	rnumsplit <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">RegExp</span><span class="token punctuation">(</span> <span class="token string">&quot;^(&quot;</span> <span class="token operator">+</span> pnum <span class="token operator">+</span> <span class="token string">&quot;)(.*)$&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;i&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

	cssShow <span class="token operator">=</span> <span class="token punctuation">{</span> position<span class="token operator">:</span> <span class="token string">&quot;absolute&quot;</span><span class="token punctuation">,</span> visibility<span class="token operator">:</span> <span class="token string">&quot;hidden&quot;</span><span class="token punctuation">,</span> display<span class="token operator">:</span> <span class="token string">&quot;block&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	cssNormalTransform <span class="token operator">=</span> <span class="token punctuation">{</span>
		letterSpacing<span class="token operator">:</span> <span class="token string">&quot;0&quot;</span><span class="token punctuation">,</span>
		fontWeight<span class="token operator">:</span> <span class="token string">&quot;400&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	cssPrefixes <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">&quot;Webkit&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;O&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;Moz&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;ms&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
	emptyStyle <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>style<span class="token punctuation">;</span>


<span class="token comment">// return a css property mapped to a potentially vendor prefixed property</span>
<span class="token keyword">function</span> <span class="token function">vendorPropName</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// shortcut for names that are not vendor prefixed</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> emptyStyle <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// check for vendor prefixed names</span>
	<span class="token keyword">var</span> capName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> name<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		i <span class="token operator">=</span> cssPrefixes<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

	<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> cssPrefixes<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">+</span> capName<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> emptyStyle <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> name<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">showHide</span><span class="token punctuation">(</span> <span class="token parameter">elements<span class="token punctuation">,</span> show</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> display<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> hidden<span class="token punctuation">,</span>
		values <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		length <span class="token operator">=</span> elements<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		elem <span class="token operator">=</span> elements<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>elem<span class="token punctuation">.</span>style <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		values<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;olddisplay&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		display <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display<span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> show <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Reset the inline display of this element to learn if it is</span>
			<span class="token comment">// being hidden by cascaded rules or not</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>values<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> display <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Set elements which have been overridden with display: none</span>
			<span class="token comment">// in a stylesheet to whatever the default browser style is</span>
			<span class="token comment">// for such an element</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token function">isHidden</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				values<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">=</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;olddisplay&quot;</span><span class="token punctuation">,</span> <span class="token function">defaultDisplay</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			hidden <span class="token operator">=</span> <span class="token function">isHidden</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> display <span class="token operator">&amp;&amp;</span> display <span class="token operator">!==</span> <span class="token string">&quot;none&quot;</span> <span class="token operator">||</span> <span class="token operator">!</span>hidden <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span>
					elem<span class="token punctuation">,</span>
					<span class="token string">&quot;olddisplay&quot;</span><span class="token punctuation">,</span>
					hidden <span class="token operator">?</span> display <span class="token operator">:</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;display&quot;</span> <span class="token punctuation">)</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Set the display of most of the elements in a second loop</span>
	<span class="token comment">// to avoid the constant reflow</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		elem <span class="token operator">=</span> elements<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>elem<span class="token punctuation">.</span>style <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">continue</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>show <span class="token operator">||</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token operator">||</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">=</span> show <span class="token operator">?</span> values<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;none&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> elements<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">setPositiveNumber</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> subtract</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> matches <span class="token operator">=</span> rnumsplit<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> matches <span class="token operator">?</span>

		<span class="token comment">// Guard against undefined &quot;subtract&quot;, e.g., when used as in cssHooks</span>
		Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> matches<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">-</span> <span class="token punctuation">(</span> subtract <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token punctuation">(</span> matches<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token string">&quot;px&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
		value<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">augmentWidthOrHeight</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> extra<span class="token punctuation">,</span> isBorderBox<span class="token punctuation">,</span> styles</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> i <span class="token operator">=</span> extra <span class="token operator">===</span> <span class="token punctuation">(</span> isBorderBox <span class="token operator">?</span> <span class="token string">&quot;border&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;content&quot;</span> <span class="token punctuation">)</span> <span class="token operator">?</span>

		<span class="token comment">// If we already have the right measurement, avoid augmentation</span>
		<span class="token number">4</span> <span class="token operator">:</span>

		<span class="token comment">// Otherwise initialize for horizontal or vertical properties</span>
		name <span class="token operator">===</span> <span class="token string">&quot;width&quot;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

		val <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// both box models exclude margin, so add it if we want it</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> extra <span class="token operator">===</span> <span class="token string">&quot;margin&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			val <span class="token operator">+=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> extra <span class="token operator">+</span> cssExpand<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> isBorderBox <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// border-box includes padding, so remove it if we want content</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> extra <span class="token operator">===</span> <span class="token string">&quot;content&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				val <span class="token operator">-=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;padding&quot;</span> <span class="token operator">+</span> cssExpand<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// at this point, extra isn't border nor margin, so remove border</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> extra <span class="token operator">!==</span> <span class="token string">&quot;margin&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				val <span class="token operator">-=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;border&quot;</span> <span class="token operator">+</span> cssExpand<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;Width&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

			<span class="token comment">// at this point, extra isn't content, so add padding</span>
			val <span class="token operator">+=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;padding&quot;</span> <span class="token operator">+</span> cssExpand<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// at this point, extra isn't content nor padding, so add border</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> extra <span class="token operator">!==</span> <span class="token string">&quot;padding&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				val <span class="token operator">+=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;border&quot;</span> <span class="token operator">+</span> cssExpand<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;Width&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> val<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">getWidthOrHeight</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> extra</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Start with offset property, which is equivalent to the border-box value</span>
	<span class="token keyword">var</span> valueIsBorderBox <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		val <span class="token operator">=</span> name <span class="token operator">===</span> <span class="token string">&quot;width&quot;</span> <span class="token operator">?</span> elem<span class="token punctuation">.</span>offsetWidth <span class="token operator">:</span> elem<span class="token punctuation">.</span>offsetHeight<span class="token punctuation">,</span>
		styles <span class="token operator">=</span> <span class="token function">getStyles</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">,</span>
		isBorderBox <span class="token operator">=</span> support<span class="token punctuation">.</span>boxSizing <span class="token operator">&amp;&amp;</span>
			jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;boxSizing&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;border-box&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// some non-html elements return undefined for offsetWidth, so check for null/undefined</span>
	<span class="token comment">// svg - https://bugzilla.mozilla.org/show_bug.cgi?id=649285</span>
	<span class="token comment">// MathML - https://bugzilla.mozilla.org/show_bug.cgi?id=491668</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">||</span> val <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Fall back to computed then uncomputed css if necessary</span>
		val <span class="token operator">=</span> <span class="token function">curCSS</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">||</span> val <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			val <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Computed unit is not pixels. Stop here and return.</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> rnumnonpx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> val <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> val<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// we need the check for style in case a browser which returns unreliable values</span>
		<span class="token comment">// for getComputedStyle silently falls back to the reliable elem.style</span>
		valueIsBorderBox <span class="token operator">=</span> isBorderBox <span class="token operator">&amp;&amp;</span>
			<span class="token punctuation">(</span> support<span class="token punctuation">.</span><span class="token function">boxSizingReliable</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> val <span class="token operator">===</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Normalize &quot;&quot;, auto, and prepare for extra</span>
		val <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span> val <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// use the active box-sizing model to add/subtract irrelevant styles</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span> val <span class="token operator">+</span>
		<span class="token function">augmentWidthOrHeight</span><span class="token punctuation">(</span>
			elem<span class="token punctuation">,</span>
			name<span class="token punctuation">,</span>
			extra <span class="token operator">||</span> <span class="token punctuation">(</span> isBorderBox <span class="token operator">?</span> <span class="token string">&quot;border&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;content&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			valueIsBorderBox<span class="token punctuation">,</span>
			styles
		<span class="token punctuation">)</span>
	<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

	<span class="token comment">// Add in style property hooks for overriding the default</span>
	<span class="token comment">// behavior of getting and setting a style property</span>
	cssHooks<span class="token operator">:</span> <span class="token punctuation">{</span>
		opacity<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> computed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> computed <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// We should always get a number back from opacity</span>
					<span class="token keyword">var</span> ret <span class="token operator">=</span> <span class="token function">curCSS</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;opacity&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> ret <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">:</span> ret<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Don't automatically add &quot;px&quot; to these possibly-unitless properties</span>
	cssNumber<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;animationIterationCount&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;columnCount&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;fillOpacity&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;flexGrow&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;flexShrink&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;fontWeight&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;lineHeight&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;opacity&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;order&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;orphans&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;widows&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;zIndex&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		<span class="token string">&quot;zoom&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Add in properties whose names you wish to fix before</span>
	<span class="token comment">// setting or getting the value</span>
	cssProps<span class="token operator">:</span> <span class="token punctuation">{</span>

		<span class="token comment">// normalize float css property</span>
		<span class="token string">&quot;float&quot;</span><span class="token operator">:</span> support<span class="token punctuation">.</span>cssFloat <span class="token operator">?</span> <span class="token string">&quot;cssFloat&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;styleFloat&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Get and set the style property on a DOM Node</span>
	<span class="token function-variable function">style</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> extra</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Don't set styles on text and comment nodes</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>elem <span class="token operator">||</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">||</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">8</span> <span class="token operator">||</span> <span class="token operator">!</span>elem<span class="token punctuation">.</span>style <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Make sure that we're working with the right name</span>
		<span class="token keyword">var</span> ret<span class="token punctuation">,</span> type<span class="token punctuation">,</span> hooks<span class="token punctuation">,</span>
			origName <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">,</span>
			style <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">;</span>

		name <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>cssProps<span class="token punctuation">[</span> origName <span class="token punctuation">]</span> <span class="token operator">||</span>
			<span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>cssProps<span class="token punctuation">[</span> origName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">vendorPropName</span><span class="token punctuation">(</span> origName <span class="token punctuation">)</span> <span class="token operator">||</span> origName <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// gets hook for the prefixed version</span>
		<span class="token comment">// followed by the unprefixed version</span>
		hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> origName <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Check if we're setting a value</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			type <span class="token operator">=</span> <span class="token keyword">typeof</span> value<span class="token punctuation">;</span>

			<span class="token comment">// Convert &quot;+=&quot; or &quot;-=&quot; to relative numbers (#7345)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> type <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> ret <span class="token operator">=</span> rcssNum<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> ret<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				value <span class="token operator">=</span> <span class="token function">adjustCSS</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> ret <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Fixes bug #9237</span>
				type <span class="token operator">=</span> <span class="token string">&quot;number&quot;</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Make sure that null and NaN values aren't set. See: #7116</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> value <span class="token operator">!==</span> value <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// If a number was passed in, add the unit (except for certain CSS properties)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> type <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				value <span class="token operator">+=</span> ret <span class="token operator">&amp;&amp;</span> ret<span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>cssNumber<span class="token punctuation">[</span> origName <span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;px&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Fixes #8908, it can be done more correctly by specifing setters in cssHooks,</span>
			<span class="token comment">// but it would mean to define eight</span>
			<span class="token comment">// (for every problematic property) identical functions</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>clearCloneStyle <span class="token operator">&amp;&amp;</span> value <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span> name<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;background&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;inherit&quot;</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// If a hook was provided, use that value, otherwise just set the specified value</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>hooks <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">(</span> <span class="token string">&quot;set&quot;</span> <span class="token keyword">in</span> hooks <span class="token punctuation">)</span> <span class="token operator">||</span>
				<span class="token punctuation">(</span> value <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> extra <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Support: IE</span>
				<span class="token comment">// Swallow errors from 'invalid' CSS values (#5509)</span>
				<span class="token keyword">try</span> <span class="token punctuation">{</span>
					style<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

			<span class="token comment">// If a hook was provided get the non-computed value from there</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;get&quot;</span> <span class="token keyword">in</span> hooks <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> ret <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> extra <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Otherwise just get the value from the style object</span>
			<span class="token keyword">return</span> style<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">css</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> extra<span class="token punctuation">,</span> styles</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> num<span class="token punctuation">,</span> val<span class="token punctuation">,</span> hooks<span class="token punctuation">,</span>
			origName <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Make sure that we're working with the right name</span>
		name <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>cssProps<span class="token punctuation">[</span> origName <span class="token punctuation">]</span> <span class="token operator">||</span>
			<span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>cssProps<span class="token punctuation">[</span> origName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">vendorPropName</span><span class="token punctuation">(</span> origName <span class="token punctuation">)</span> <span class="token operator">||</span> origName <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// gets hook for the prefixed version</span>
		<span class="token comment">// followed by the unprefixed version</span>
		hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> origName <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// If a hook was provided get the computed value from there</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;get&quot;</span> <span class="token keyword">in</span> hooks <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			val <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">,</span> extra <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Otherwise, if a way to get the computed value exists, use that</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			val <span class="token operator">=</span> <span class="token function">curCSS</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">//convert &quot;normal&quot; to computed value</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token operator">===</span> <span class="token string">&quot;normal&quot;</span> <span class="token operator">&amp;&amp;</span> name <span class="token keyword">in</span> cssNormalTransform <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			val <span class="token operator">=</span> cssNormalTransform<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Return, converting to number if forced or a qualifier was provided and val looks numeric</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> extra <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> extra <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			num <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span> val <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> extra <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">||</span> <span class="token function">isFinite</span><span class="token punctuation">(</span> num <span class="token punctuation">)</span> <span class="token operator">?</span> num <span class="token operator">||</span> <span class="token number">0</span> <span class="token operator">:</span> val<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> val<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;width&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> computed<span class="token punctuation">,</span> extra</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> computed <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// certain elements can have dimension info if we invisibly show them</span>
				<span class="token comment">// however, it must have a current display style that would benefit from this</span>
				<span class="token keyword">return</span> rdisplayswap<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;display&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					elem<span class="token punctuation">.</span>offsetWidth <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">?</span>
						<span class="token function">swap</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> cssShow<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> <span class="token function">getWidthOrHeight</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> extra <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
						<span class="token function">getWidthOrHeight</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> extra <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> extra</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> styles <span class="token operator">=</span> extra <span class="token operator">&amp;&amp;</span> <span class="token function">getStyles</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> <span class="token function">setPositiveNumber</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> extra <span class="token operator">?</span>
				<span class="token function">augmentWidthOrHeight</span><span class="token punctuation">(</span>
					elem<span class="token punctuation">,</span>
					name<span class="token punctuation">,</span>
					extra<span class="token punctuation">,</span>
					support<span class="token punctuation">.</span>boxSizing <span class="token operator">&amp;&amp;</span>
						jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;boxSizing&quot;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;border-box&quot;</span><span class="token punctuation">,</span>
					styles
				<span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token number">0</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>opacity <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">.</span>opacity <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> computed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// IE uses filters for opacity</span>
			<span class="token keyword">return</span> ropacity<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> computed <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>currentStyle <span class="token operator">?</span>
				elem<span class="token punctuation">.</span>currentStyle<span class="token punctuation">.</span>filter <span class="token operator">:</span>
				elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>filter <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token operator">?</span>
					<span class="token punctuation">(</span> <span class="token number">0.01</span> <span class="token operator">*</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span> RegExp<span class="token punctuation">.</span>$<span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span>
					computed <span class="token operator">?</span> <span class="token string">&quot;1&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> style <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">,</span>
				currentStyle <span class="token operator">=</span> elem<span class="token punctuation">.</span>currentStyle<span class="token punctuation">,</span>
				opacity <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isNumeric</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;alpha(opacity=&quot;</span> <span class="token operator">+</span> value <span class="token operator">*</span> <span class="token number">100</span> <span class="token operator">+</span> <span class="token string">&quot;)&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
				filter <span class="token operator">=</span> currentStyle <span class="token operator">&amp;&amp;</span> currentStyle<span class="token punctuation">.</span>filter <span class="token operator">||</span> style<span class="token punctuation">.</span>filter <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// IE has trouble with opacity if it does not have layout</span>
			<span class="token comment">// Force it by setting the zoom level</span>
			style<span class="token punctuation">.</span>zoom <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

			<span class="token comment">// if setting opacity to 1, and no other filters exist -</span>
			<span class="token comment">// attempt to remove filter attribute #6652</span>
			<span class="token comment">// if value === &quot;&quot;, then remove inline opacity #12685</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> value <span class="token operator">&gt;=</span> <span class="token number">1</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
					jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> filter<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> ralpha<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">&amp;&amp;</span>
					style<span class="token punctuation">.</span>removeAttribute <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Setting style.filter to null, &quot;&quot; &amp; &quot; &quot; still leave &quot;filter:&quot; in the cssText</span>
				<span class="token comment">// if &quot;filter:&quot; is present at all, clearType is disabled, we want to avoid this</span>
				<span class="token comment">// style.removeAttribute is IE Only, but so apparently is this code path...</span>
				style<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;filter&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// if there is no filter style applied in a css rule</span>
				<span class="token comment">// or unset inline opacity, we are done</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">||</span> currentStyle <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>currentStyle<span class="token punctuation">.</span>filter <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// otherwise, set new filter values</span>
			style<span class="token punctuation">.</span>filter <span class="token operator">=</span> ralpha<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> filter <span class="token punctuation">)</span> <span class="token operator">?</span>
				filter<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> ralpha<span class="token punctuation">,</span> opacity <span class="token punctuation">)</span> <span class="token operator">:</span>
				filter <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> opacity<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">.</span>marginRight <span class="token operator">=</span> <span class="token function">addGetHookIf</span><span class="token punctuation">(</span> support<span class="token punctuation">.</span>reliableMarginRight<span class="token punctuation">,</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> computed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> computed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">swap</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token punctuation">{</span> <span class="token string">&quot;display&quot;</span><span class="token operator">:</span> <span class="token string">&quot;inline-block&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
				curCSS<span class="token punctuation">,</span> <span class="token punctuation">[</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;marginRight&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">.</span>marginLeft <span class="token operator">=</span> <span class="token function">addGetHookIf</span><span class="token punctuation">(</span> support<span class="token punctuation">.</span>reliableMarginLeft<span class="token punctuation">,</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> computed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> computed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span>
				<span class="token function">parseFloat</span><span class="token punctuation">(</span> <span class="token function">curCSS</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;marginLeft&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">||</span>

				<span class="token comment">// Support: IE&lt;=11+</span>
				<span class="token comment">// Running getBoundingClientRect on a disconnected node in IE throws an error</span>
				<span class="token comment">// Support: IE8 only</span>
				<span class="token comment">// getClientRects() errors on disconnected elems</span>
				<span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token operator">?</span>
					elem<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left <span class="token operator">-</span>
						<span class="token function">swap</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token punctuation">{</span> marginLeft<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> elem<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>left<span class="token punctuation">;</span>
						<span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token number">0</span>
				<span class="token punctuation">)</span>
			<span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// These hooks are used by animate to expand properties</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	margin<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	padding<span class="token operator">:</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">,</span>
	border<span class="token operator">:</span> <span class="token string">&quot;Width&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">prefix<span class="token punctuation">,</span> suffix</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> prefix <span class="token operator">+</span> suffix <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">expand</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
				expanded <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token comment">// assumes a single number if not a string</span>
				parts <span class="token operator">=</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span> value<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">[</span> value <span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span><span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				expanded<span class="token punctuation">[</span> prefix <span class="token operator">+</span> cssExpand<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">+</span> suffix <span class="token punctuation">]</span> <span class="token operator">=</span>
					parts<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">||</span> parts<span class="token punctuation">[</span> i <span class="token operator">-</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">||</span> parts<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> expanded<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>rmargin<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> prefix <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> prefix <span class="token operator">+</span> suffix <span class="token punctuation">]</span><span class="token punctuation">.</span>set <span class="token operator">=</span> setPositiveNumber<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">css</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">access</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> styles<span class="token punctuation">,</span> len<span class="token punctuation">,</span>
				map <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				styles <span class="token operator">=</span> <span class="token function">getStyles</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
				len <span class="token operator">=</span> name<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> len<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					map<span class="token punctuation">[</span> name<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> styles <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> map<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> value <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
				jQuery<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value <span class="token punctuation">)</span> <span class="token operator">:</span>
				jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">show</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">showHide</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">hide</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">showHide</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">toggle</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">state</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> state <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> state <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">isHidden</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">Tween</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> options<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> end<span class="token punctuation">,</span> easing</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">Tween<span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>init</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> options<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> end<span class="token punctuation">,</span> easing <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
jQuery<span class="token punctuation">.</span>Tween <span class="token operator">=</span> Tween<span class="token punctuation">;</span>

<span class="token class-name">Tween</span><span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token punctuation">{</span>
	constructor<span class="token operator">:</span> Tween<span class="token punctuation">,</span>
	<span class="token function-variable function">init</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> options<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> end<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> unit</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>elem <span class="token operator">=</span> elem<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>prop <span class="token operator">=</span> prop<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>easing <span class="token operator">=</span> easing <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>_default<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>options <span class="token operator">=</span> options<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>now <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cur</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">=</span> end<span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>unit <span class="token operator">=</span> unit <span class="token operator">||</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>cssNumber<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;px&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">cur</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> hooks <span class="token operator">=</span> Tween<span class="token punctuation">.</span>propHooks<span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prop <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> hooks <span class="token operator">&amp;&amp;</span> hooks<span class="token punctuation">.</span>get <span class="token operator">?</span>
			hooks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
			Tween<span class="token punctuation">.</span>propHooks<span class="token punctuation">.</span>_default<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">run</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">percent</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> eased<span class="token punctuation">,</span>
			hooks <span class="token operator">=</span> Tween<span class="token punctuation">.</span>propHooks<span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span>prop <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>duration <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>pos <span class="token operator">=</span> eased <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>easing<span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span>easing <span class="token punctuation">]</span><span class="token punctuation">(</span>
				percent<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>duration <span class="token operator">*</span> percent<span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>duration
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>pos <span class="token operator">=</span> eased <span class="token operator">=</span> percent<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">this</span><span class="token punctuation">.</span>now <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>end <span class="token operator">-</span> <span class="token keyword">this</span><span class="token punctuation">.</span>start <span class="token punctuation">)</span> <span class="token operator">*</span> eased <span class="token operator">+</span> <span class="token keyword">this</span><span class="token punctuation">.</span>start<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span>step <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span>options<span class="token punctuation">.</span><span class="token function">step</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>elem<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>now<span class="token punctuation">,</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> hooks<span class="token punctuation">.</span>set <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			hooks<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			Tween<span class="token punctuation">.</span>propHooks<span class="token punctuation">.</span>_default<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token class-name">Tween</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>init<span class="token punctuation">.</span>prototype <span class="token operator">=</span> <span class="token class-name">Tween</span><span class="token punctuation">.</span>prototype<span class="token punctuation">;</span>

Tween<span class="token punctuation">.</span>propHooks <span class="token operator">=</span> <span class="token punctuation">{</span>
	_default<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">tween</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> result<span class="token punctuation">;</span>

			<span class="token comment">// Use a property on the element directly when it is not a DOM element,</span>
			<span class="token comment">// or when there is no matching style property that exists.</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">||</span>
				tween<span class="token punctuation">.</span>elem<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span> <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// passing an empty string as a 3rd parameter to .css will automatically</span>
			<span class="token comment">// attempt a parseFloat and fallback to a string if the parse fails</span>
			<span class="token comment">// so, simple values such as &quot;10px&quot; are parsed to Float.</span>
			<span class="token comment">// complex values such as &quot;rotate(1rad)&quot; are returned as is.</span>
			result <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">,</span> tween<span class="token punctuation">.</span>prop<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Empty strings, null, undefined and &quot;auto&quot; are converted to 0.</span>
			<span class="token keyword">return</span> <span class="token operator">!</span>result <span class="token operator">||</span> result <span class="token operator">===</span> <span class="token string">&quot;auto&quot;</span> <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> result<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">tween</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// use step hook for back compat - use cssHook if its there - use .style if its</span>
			<span class="token comment">// available and use plain properties where available</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>step<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>step<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span><span class="token punctuation">(</span> tween <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">.</span>style<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span>cssProps<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">||</span>
					jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">,</span> tween<span class="token punctuation">.</span>prop<span class="token punctuation">,</span> tween<span class="token punctuation">.</span>now <span class="token operator">+</span> tween<span class="token punctuation">.</span>unit <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				tween<span class="token punctuation">.</span>elem<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span> <span class="token operator">=</span> tween<span class="token punctuation">.</span>now<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Support: IE &lt;=9</span>
<span class="token comment">// Panic based approach to setting things on disconnected nodes</span>

Tween<span class="token punctuation">.</span>propHooks<span class="token punctuation">.</span>scrollTop <span class="token operator">=</span> Tween<span class="token punctuation">.</span>propHooks<span class="token punctuation">.</span>scrollLeft <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">tween</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">.</span>nodeType <span class="token operator">&amp;&amp;</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tween<span class="token punctuation">.</span>elem<span class="token punctuation">[</span> tween<span class="token punctuation">.</span>prop <span class="token punctuation">]</span> <span class="token operator">=</span> tween<span class="token punctuation">.</span>now<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>easing <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">linear</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">p</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> p<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">swing</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">p</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token number">0.5</span> <span class="token operator">-</span> Math<span class="token punctuation">.</span><span class="token function">cos</span><span class="token punctuation">(</span> p <span class="token operator">*</span> Math<span class="token punctuation">.</span><span class="token constant">PI</span> <span class="token punctuation">)</span> <span class="token operator">/</span> <span class="token number">2</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	_default<span class="token operator">:</span> <span class="token string">&quot;swing&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fx <span class="token operator">=</span> <span class="token class-name">Tween</span><span class="token punctuation">.</span>prototype<span class="token punctuation">.</span>init<span class="token punctuation">;</span>

<span class="token comment">// Back Compat &lt;1.8 extension point</span>
jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>step <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>




<span class="token keyword">var</span>
	fxNow<span class="token punctuation">,</span> timerId<span class="token punctuation">,</span>
	rfxtypes <span class="token operator">=</span> <span class="token regex">/^(?:toggle|show|hide)$/</span><span class="token punctuation">,</span>
	rrun <span class="token operator">=</span> <span class="token regex">/queueHooks$/</span><span class="token punctuation">;</span>

<span class="token comment">// Animations created synchronously will run synchronously</span>
<span class="token keyword">function</span> <span class="token function">createFxNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		fxNow <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">return</span> <span class="token punctuation">(</span> fxNow <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Generate parameters to create a standard animation</span>
<span class="token keyword">function</span> <span class="token function">genFx</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> includeWidth</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> which<span class="token punctuation">,</span>
		attrs <span class="token operator">=</span> <span class="token punctuation">{</span> height<span class="token operator">:</span> type <span class="token punctuation">}</span><span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	<span class="token comment">// if we include width, step value is 1 to do all cssExpand values,</span>
	<span class="token comment">// if we don't include width, step value is 2 to skip over Left and Right</span>
	includeWidth <span class="token operator">=</span> includeWidth <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> <span class="token number">4</span> <span class="token punctuation">;</span> i <span class="token operator">+=</span> <span class="token number">2</span> <span class="token operator">-</span> includeWidth <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		which <span class="token operator">=</span> cssExpand<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>
		attrs<span class="token punctuation">[</span> <span class="token string">&quot;margin&quot;</span> <span class="token operator">+</span> which <span class="token punctuation">]</span> <span class="token operator">=</span> attrs<span class="token punctuation">[</span> <span class="token string">&quot;padding&quot;</span> <span class="token operator">+</span> which <span class="token punctuation">]</span> <span class="token operator">=</span> type<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> includeWidth <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		attrs<span class="token punctuation">.</span>opacity <span class="token operator">=</span> attrs<span class="token punctuation">.</span>width <span class="token operator">=</span> type<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> attrs<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createTween</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> animation</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> tween<span class="token punctuation">,</span>
		collection <span class="token operator">=</span> <span class="token punctuation">(</span> Animation<span class="token punctuation">.</span>tweeners<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> Animation<span class="token punctuation">.</span>tweeners<span class="token punctuation">[</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		length <span class="token operator">=</span> collection<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> tween <span class="token operator">=</span> collection<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> animation<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// we're done with this property</span>
			<span class="token keyword">return</span> tween<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">defaultPrefilter</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> props<span class="token punctuation">,</span> opts</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token comment">/* jshint validthis: true */</span>
	<span class="token keyword">var</span> prop<span class="token punctuation">,</span> value<span class="token punctuation">,</span> toggle<span class="token punctuation">,</span> tween<span class="token punctuation">,</span> hooks<span class="token punctuation">,</span> oldfire<span class="token punctuation">,</span> display<span class="token punctuation">,</span> checkDisplay<span class="token punctuation">,</span>
		anim <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
		orig <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		style <span class="token operator">=</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">,</span>
		hidden <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">&amp;&amp;</span> <span class="token function">isHidden</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">,</span>
		dataShow <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;fxshow&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// handle queue: false promises</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>opts<span class="token punctuation">.</span>queue <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_queueHooks</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;fx&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks<span class="token punctuation">.</span>unqueued <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			hooks<span class="token punctuation">.</span>unqueued <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
			oldfire <span class="token operator">=</span> hooks<span class="token punctuation">.</span>empty<span class="token punctuation">.</span>fire<span class="token punctuation">;</span>
			hooks<span class="token punctuation">.</span>empty<span class="token punctuation">.</span><span class="token function-variable function">fire</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>hooks<span class="token punctuation">.</span>unqueued <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">oldfire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		hooks<span class="token punctuation">.</span>unqueued<span class="token operator">++</span><span class="token punctuation">;</span>

		anim<span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// doing this makes sure that the complete handler will be called</span>
			<span class="token comment">// before this completes</span>
			anim<span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				hooks<span class="token punctuation">.</span>unqueued<span class="token operator">--</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;fx&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					hooks<span class="token punctuation">.</span>empty<span class="token punctuation">.</span><span class="token function">fire</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// height/width overflow pass</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> <span class="token string">&quot;height&quot;</span> <span class="token keyword">in</span> props <span class="token operator">||</span> <span class="token string">&quot;width&quot;</span> <span class="token keyword">in</span> props <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Make sure that nothing sneaks out</span>
		<span class="token comment">// Record all 3 overflow attributes because IE does not</span>
		<span class="token comment">// change the overflow attribute when overflowX and</span>
		<span class="token comment">// overflowY are set to the same value</span>
		opts<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token punctuation">[</span> style<span class="token punctuation">.</span>overflow<span class="token punctuation">,</span> style<span class="token punctuation">.</span>overflowX<span class="token punctuation">,</span> style<span class="token punctuation">.</span>overflowY <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Set display property to inline-block for height/width</span>
		<span class="token comment">// animations on inline elements that are having width/height animated</span>
		display <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;display&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Test default display if display is currently &quot;none&quot;</span>
		checkDisplay <span class="token operator">=</span> display <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token operator">?</span>
			jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;olddisplay&quot;</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">defaultDisplay</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token operator">:</span> display<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> checkDisplay <span class="token operator">===</span> <span class="token string">&quot;inline&quot;</span> <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;float&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// inline-level elements accept inline-block;</span>
			<span class="token comment">// block-level elements need to be inline with layout</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>inlineBlockNeedsLayout <span class="token operator">||</span> <span class="token function">defaultDisplay</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;inline&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				style<span class="token punctuation">.</span>display <span class="token operator">=</span> <span class="token string">&quot;inline-block&quot;</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				style<span class="token punctuation">.</span>zoom <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> opts<span class="token punctuation">.</span>overflow <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> <span class="token string">&quot;hidden&quot;</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span><span class="token function">shrinkWrapBlocks</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			anim<span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				style<span class="token punctuation">.</span>overflow <span class="token operator">=</span> opts<span class="token punctuation">.</span>overflow<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
				style<span class="token punctuation">.</span>overflowX <span class="token operator">=</span> opts<span class="token punctuation">.</span>overflow<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
				style<span class="token punctuation">.</span>overflowY <span class="token operator">=</span> opts<span class="token punctuation">.</span>overflow<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// show/hide pass</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> prop <span class="token keyword">in</span> props <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		value <span class="token operator">=</span> props<span class="token punctuation">[</span> prop <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> rfxtypes<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">delete</span> props<span class="token punctuation">[</span> prop <span class="token punctuation">]</span><span class="token punctuation">;</span>
			toggle <span class="token operator">=</span> toggle <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token string">&quot;toggle&quot;</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token punctuation">(</span> hidden <span class="token operator">?</span> <span class="token string">&quot;hide&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;show&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// If there is dataShow left over from a stopped hide or show</span>
				<span class="token comment">// and we are going to proceed with show, we should pretend to be hidden</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token string">&quot;show&quot;</span> <span class="token operator">&amp;&amp;</span> dataShow <span class="token operator">&amp;&amp;</span> dataShow<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					hidden <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token keyword">continue</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			orig<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">=</span> dataShow <span class="token operator">&amp;&amp;</span> dataShow<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> prop <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Any non-fx value stops us from restoring the original display value</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			display <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span> orig <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> dataShow <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token string">&quot;hidden&quot;</span> <span class="token keyword">in</span> dataShow <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				hidden <span class="token operator">=</span> dataShow<span class="token punctuation">.</span>hidden<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			dataShow <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;fxshow&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// store state if its toggle - enables .stop().toggle() to &quot;reverse&quot;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> toggle <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			dataShow<span class="token punctuation">.</span>hidden <span class="token operator">=</span> <span class="token operator">!</span>hidden<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> hidden <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			anim<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hide</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		anim<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> prop<span class="token punctuation">;</span>
			jQuery<span class="token punctuation">.</span><span class="token function">_removeData</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;fxshow&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> prop <span class="token keyword">in</span> orig <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> orig<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> prop <span class="token keyword">in</span> orig <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			tween <span class="token operator">=</span> <span class="token function">createTween</span><span class="token punctuation">(</span> hidden <span class="token operator">?</span> dataShow<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> prop<span class="token punctuation">,</span> anim <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> prop <span class="token keyword">in</span> dataShow <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				dataShow<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">=</span> tween<span class="token punctuation">.</span>start<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> hidden <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					tween<span class="token punctuation">.</span>end <span class="token operator">=</span> tween<span class="token punctuation">.</span>start<span class="token punctuation">;</span>
					tween<span class="token punctuation">.</span>start <span class="token operator">=</span> prop <span class="token operator">===</span> <span class="token string">&quot;width&quot;</span> <span class="token operator">||</span> prop <span class="token operator">===</span> <span class="token string">&quot;height&quot;</span> <span class="token operator">?</span> <span class="token number">1</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

	<span class="token comment">// If this is a noop like .hide().hide(), restore an overwritten display value</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> display <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token operator">?</span> <span class="token function">defaultDisplay</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token operator">:</span> display <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;inline&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		style<span class="token punctuation">.</span>display <span class="token operator">=</span> display<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">propFilter</span><span class="token punctuation">(</span> <span class="token parameter">props<span class="token punctuation">,</span> specialEasing</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> index<span class="token punctuation">,</span> name<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> value<span class="token punctuation">,</span> hooks<span class="token punctuation">;</span>

	<span class="token comment">// camelCase, specialEasing and expand cssHook pass</span>
	<span class="token keyword">for</span> <span class="token punctuation">(</span> index <span class="token keyword">in</span> props <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> index <span class="token punctuation">)</span><span class="token punctuation">;</span>
		easing <span class="token operator">=</span> specialEasing<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		value <span class="token operator">=</span> props<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			easing <span class="token operator">=</span> value<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
			value <span class="token operator">=</span> props<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> index <span class="token operator">!==</span> name <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			props<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
			<span class="token keyword">delete</span> props<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;expand&quot;</span> <span class="token keyword">in</span> hooks <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			value <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">expand</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">delete</span> props<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token comment">// not quite $.extend, this wont overwrite keys already present.</span>
			<span class="token comment">// also - reusing 'index' from above because we have the correct &quot;name&quot;</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> index <span class="token keyword">in</span> value <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> index <span class="token keyword">in</span> props <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					props<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">;</span>
					specialEasing<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">=</span> easing<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			specialEasing<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> easing<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">Animation</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> properties<span class="token punctuation">,</span> options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> result<span class="token punctuation">,</span>
		stopped<span class="token punctuation">,</span>
		index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
		length <span class="token operator">=</span> Animation<span class="token punctuation">.</span>prefilters<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
		deferred <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// don't match elem in the :animated selector</span>
			<span class="token keyword">delete</span> tick<span class="token punctuation">.</span>elem<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		<span class="token function-variable function">tick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> stopped <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">var</span> currentTime <span class="token operator">=</span> fxNow <span class="token operator">||</span> <span class="token function">createFxNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
				remaining <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> animation<span class="token punctuation">.</span>startTime <span class="token operator">+</span> animation<span class="token punctuation">.</span>duration <span class="token operator">-</span> currentTime <span class="token punctuation">)</span><span class="token punctuation">,</span>

				<span class="token comment">// Support: Android 2.3</span>
				<span class="token comment">// Archaic crash bug won't allow us to use `1 - ( 0.5 || 0 )` (#12497)</span>
				temp <span class="token operator">=</span> remaining <span class="token operator">/</span> animation<span class="token punctuation">.</span>duration <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">,</span>
				percent <span class="token operator">=</span> <span class="token number">1</span> <span class="token operator">-</span> temp<span class="token punctuation">,</span>
				index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
				length <span class="token operator">=</span> animation<span class="token punctuation">.</span>tweens<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length <span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				animation<span class="token punctuation">.</span>tweens<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span> percent <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			deferred<span class="token punctuation">.</span><span class="token function">notifyWith</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token punctuation">[</span> animation<span class="token punctuation">,</span> percent<span class="token punctuation">,</span> remaining <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> percent <span class="token operator">&lt;</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span> length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> remaining<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				deferred<span class="token punctuation">.</span><span class="token function">resolveWith</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token punctuation">[</span> animation <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		animation <span class="token operator">=</span> deferred<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
			elem<span class="token operator">:</span> elem<span class="token punctuation">,</span>
			props<span class="token operator">:</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> properties <span class="token punctuation">)</span><span class="token punctuation">,</span>
			opts<span class="token operator">:</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
				specialEasing<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
				easing<span class="token operator">:</span> jQuery<span class="token punctuation">.</span>easing<span class="token punctuation">.</span>_default
			<span class="token punctuation">}</span><span class="token punctuation">,</span> options <span class="token punctuation">)</span><span class="token punctuation">,</span>
			originalProperties<span class="token operator">:</span> properties<span class="token punctuation">,</span>
			originalOptions<span class="token operator">:</span> options<span class="token punctuation">,</span>
			startTime<span class="token operator">:</span> fxNow <span class="token operator">||</span> <span class="token function">createFxNow</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			duration<span class="token operator">:</span> options<span class="token punctuation">.</span>duration<span class="token punctuation">,</span>
			tweens<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
			<span class="token function-variable function">createTween</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">prop<span class="token punctuation">,</span> end</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> tween <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">Tween</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> end<span class="token punctuation">,</span>
						animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>specialEasing<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">||</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>easing <span class="token punctuation">)</span><span class="token punctuation">;</span>
				animation<span class="token punctuation">.</span>tweens<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> tween <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> tween<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>
			<span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">gotoEnd</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>

					<span class="token comment">// if we are going to the end, we want to run all the tweens</span>
					<span class="token comment">// otherwise we skip this part</span>
					length <span class="token operator">=</span> gotoEnd <span class="token operator">?</span> animation<span class="token punctuation">.</span>tweens<span class="token punctuation">.</span>length <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> stopped <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				stopped <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length <span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					animation<span class="token punctuation">.</span>tweens<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// resolve when we played the last frame</span>
				<span class="token comment">// otherwise, reject</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> gotoEnd <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					deferred<span class="token punctuation">.</span><span class="token function">notifyWith</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token punctuation">[</span> animation<span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					deferred<span class="token punctuation">.</span><span class="token function">resolveWith</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token punctuation">[</span> animation<span class="token punctuation">,</span> gotoEnd <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					deferred<span class="token punctuation">.</span><span class="token function">rejectWith</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token punctuation">[</span> animation<span class="token punctuation">,</span> gotoEnd <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
				<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		props <span class="token operator">=</span> animation<span class="token punctuation">.</span>props<span class="token punctuation">;</span>

	<span class="token function">propFilter</span><span class="token punctuation">(</span> props<span class="token punctuation">,</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>specialEasing <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length <span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		result <span class="token operator">=</span> Animation<span class="token punctuation">.</span>prefilters<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> animation<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> props<span class="token punctuation">,</span> animation<span class="token punctuation">.</span>opts <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> result <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> result<span class="token punctuation">.</span>stop <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">_queueHooks</span><span class="token punctuation">(</span> animation<span class="token punctuation">.</span>elem<span class="token punctuation">,</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>queue <span class="token punctuation">)</span><span class="token punctuation">.</span>stop <span class="token operator">=</span>
					jQuery<span class="token punctuation">.</span><span class="token function">proxy</span><span class="token punctuation">(</span> result<span class="token punctuation">.</span>stop<span class="token punctuation">,</span> result <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> result<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> props<span class="token punctuation">,</span> createTween<span class="token punctuation">,</span> animation <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>start <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> animation <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span><span class="token function">timer</span><span class="token punctuation">(</span>
		jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> tick<span class="token punctuation">,</span> <span class="token punctuation">{</span>
			elem<span class="token operator">:</span> elem<span class="token punctuation">,</span>
			anim<span class="token operator">:</span> animation<span class="token punctuation">,</span>
			queue<span class="token operator">:</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>queue
		<span class="token punctuation">}</span> <span class="token punctuation">)</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// attach callbacks from options</span>
	<span class="token keyword">return</span> animation<span class="token punctuation">.</span><span class="token function">progress</span><span class="token punctuation">(</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>progress <span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>done<span class="token punctuation">,</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>complete <span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">fail</span><span class="token punctuation">(</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>fail <span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> animation<span class="token punctuation">.</span>opts<span class="token punctuation">.</span>always <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span>Animation <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> Animation<span class="token punctuation">,</span> <span class="token punctuation">{</span>

	tweeners<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">prop<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> tween <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">createTween</span><span class="token punctuation">(</span> prop<span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token function">adjustCSS</span><span class="token punctuation">(</span> tween<span class="token punctuation">.</span>elem<span class="token punctuation">,</span> prop<span class="token punctuation">,</span> rcssNum<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">,</span> tween <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> tween<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">]</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">tweener</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">props<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> props <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			callback <span class="token operator">=</span> props<span class="token punctuation">;</span>
			props <span class="token operator">=</span> <span class="token punctuation">[</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			props <span class="token operator">=</span> props<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">var</span> prop<span class="token punctuation">,</span>
			index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			length <span class="token operator">=</span> props<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length <span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			prop <span class="token operator">=</span> props<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">;</span>
			Animation<span class="token punctuation">.</span>tweeners<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">=</span> Animation<span class="token punctuation">.</span>tweeners<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
			Animation<span class="token punctuation">.</span>tweeners<span class="token punctuation">[</span> prop <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	prefilters<span class="token operator">:</span> <span class="token punctuation">[</span> defaultPrefilter <span class="token punctuation">]</span><span class="token punctuation">,</span>

	<span class="token function-variable function">prefilter</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">callback<span class="token punctuation">,</span> prepend</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> prepend <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			Animation<span class="token punctuation">.</span>prefilters<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			Animation<span class="token punctuation">.</span>prefilters<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function-variable function">speed</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> opt <span class="token operator">=</span> speed <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> speed <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">?</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> speed <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">{</span>
		complete<span class="token operator">:</span> fn <span class="token operator">||</span> <span class="token operator">!</span>fn <span class="token operator">&amp;&amp;</span> easing <span class="token operator">||</span>
			jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> speed <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> speed<span class="token punctuation">,</span>
		duration<span class="token operator">:</span> speed<span class="token punctuation">,</span>
		easing<span class="token operator">:</span> fn <span class="token operator">&amp;&amp;</span> easing <span class="token operator">||</span> easing <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> easing <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> easing
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	opt<span class="token punctuation">.</span>duration <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>off <span class="token operator">?</span> <span class="token number">0</span> <span class="token operator">:</span> <span class="token keyword">typeof</span> opt<span class="token punctuation">.</span>duration <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token operator">?</span> opt<span class="token punctuation">.</span>duration <span class="token operator">:</span>
		opt<span class="token punctuation">.</span>duration <span class="token keyword">in</span> jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>speeds <span class="token operator">?</span>
			jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>speeds<span class="token punctuation">[</span> opt<span class="token punctuation">.</span>duration <span class="token punctuation">]</span> <span class="token operator">:</span> jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>speeds<span class="token punctuation">.</span>_default<span class="token punctuation">;</span>

	<span class="token comment">// normalize opt.queue - true/undefined/null -&gt; &quot;fx&quot;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> opt<span class="token punctuation">.</span>queue <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> opt<span class="token punctuation">.</span>queue <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		opt<span class="token punctuation">.</span>queue <span class="token operator">=</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Queueing</span>
	opt<span class="token punctuation">.</span>old <span class="token operator">=</span> opt<span class="token punctuation">.</span>complete<span class="token punctuation">;</span>

	opt<span class="token punctuation">.</span><span class="token function-variable function">complete</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> opt<span class="token punctuation">.</span>old <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			opt<span class="token punctuation">.</span><span class="token function">old</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> opt<span class="token punctuation">.</span>queue <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> opt<span class="token punctuation">.</span>queue <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> opt<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">fadeTo</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">speed<span class="token punctuation">,</span> to<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// show any hidden elements after setting opacity to 0</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> isHidden <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> <span class="token string">&quot;opacity&quot;</span><span class="token punctuation">,</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">show</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

			<span class="token comment">// animate to the value specified</span>
			<span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> opacity<span class="token operator">:</span> to <span class="token punctuation">}</span><span class="token punctuation">,</span> speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">animate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">prop<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> empty <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isEmptyObject</span><span class="token punctuation">(</span> prop <span class="token punctuation">)</span><span class="token punctuation">,</span>
			optall <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">speed</span><span class="token punctuation">(</span> speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback <span class="token punctuation">)</span><span class="token punctuation">,</span>
			<span class="token function-variable function">doAnimation</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Operate on a copy of prop so per-property easing won't be lost</span>
				<span class="token keyword">var</span> anim <span class="token operator">=</span> <span class="token function">Animation</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> prop <span class="token punctuation">)</span><span class="token punctuation">,</span> optall <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Empty animations, or finishing resolves immediately</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> empty <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;finish&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					anim<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
			doAnimation<span class="token punctuation">.</span>finish <span class="token operator">=</span> doAnimation<span class="token punctuation">;</span>

		<span class="token keyword">return</span> empty <span class="token operator">||</span> optall<span class="token punctuation">.</span>queue <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">?</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> doAnimation <span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> optall<span class="token punctuation">.</span>queue<span class="token punctuation">,</span> doAnimation <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">stop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type<span class="token punctuation">,</span> clearQueue<span class="token punctuation">,</span> gotoEnd</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> <span class="token function-variable function">stopQueue</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">hooks</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> stop <span class="token operator">=</span> hooks<span class="token punctuation">.</span>stop<span class="token punctuation">;</span>
			<span class="token keyword">delete</span> hooks<span class="token punctuation">.</span>stop<span class="token punctuation">;</span>
			<span class="token function">stop</span><span class="token punctuation">(</span> gotoEnd <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> type <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			gotoEnd <span class="token operator">=</span> clearQueue<span class="token punctuation">;</span>
			clearQueue <span class="token operator">=</span> type<span class="token punctuation">;</span>
			type <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> clearQueue <span class="token operator">&amp;&amp;</span> type <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> type <span class="token operator">||</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> dequeue <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
				index <span class="token operator">=</span> type <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">+</span> <span class="token string">&quot;queueHooks&quot;</span><span class="token punctuation">,</span>
				timers <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>timers<span class="token punctuation">,</span>
				data <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> index <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> data<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>stop <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">stopQueue</span><span class="token punctuation">(</span> data<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> index <span class="token keyword">in</span> data <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> data<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> data<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>stop <span class="token operator">&amp;&amp;</span> rrun<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> index <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token function">stopQueue</span><span class="token punctuation">(</span> data<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">for</span> <span class="token punctuation">(</span> index <span class="token operator">=</span> timers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> timers<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>elem <span class="token operator">===</span> <span class="token keyword">this</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> type <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> timers<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>queue <span class="token operator">===</span> type <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					timers<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>anim<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span> gotoEnd <span class="token punctuation">)</span><span class="token punctuation">;</span>
					dequeue <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
					timers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> index<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// start the next in the queue if the last step wasn't forced</span>
			<span class="token comment">// timers currently will call their complete callbacks, which will dequeue</span>
			<span class="token comment">// but only if they were gotoEnd</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> dequeue <span class="token operator">||</span> <span class="token operator">!</span>gotoEnd <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">dequeue</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">finish</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> type <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			type <span class="token operator">=</span> type <span class="token operator">||</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> index<span class="token punctuation">,</span>
				data <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
				queue <span class="token operator">=</span> data<span class="token punctuation">[</span> type <span class="token operator">+</span> <span class="token string">&quot;queue&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
				hooks <span class="token operator">=</span> data<span class="token punctuation">[</span> type <span class="token operator">+</span> <span class="token string">&quot;queueHooks&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
				timers <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>timers<span class="token punctuation">,</span>
				length <span class="token operator">=</span> queue <span class="token operator">?</span> queue<span class="token punctuation">.</span>length <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token comment">// enable finishing flag on private data</span>
			data<span class="token punctuation">.</span>finish <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

			<span class="token comment">// empty the queue first</span>
			jQuery<span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> type<span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> hooks<span class="token punctuation">.</span>stop <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				hooks<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// look for any active animations, and finish them</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> index <span class="token operator">=</span> timers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> index<span class="token operator">--</span><span class="token punctuation">;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> timers<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>elem <span class="token operator">===</span> <span class="token keyword">this</span> <span class="token operator">&amp;&amp;</span> timers<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>queue <span class="token operator">===</span> type <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					timers<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>anim<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					timers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> index<span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// look for any animations in the old queue and finish them</span>
			<span class="token keyword">for</span> <span class="token punctuation">(</span> index <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> index <span class="token operator">&lt;</span> length<span class="token punctuation">;</span> index<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> queue<span class="token punctuation">[</span> index <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> queue<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span>finish <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					queue<span class="token punctuation">[</span> index <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">finish</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// turn off finishing flag</span>
			<span class="token keyword">delete</span> data<span class="token punctuation">.</span>finish<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;toggle&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;show&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;hide&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> cssFn <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> speed <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">||</span> <span class="token keyword">typeof</span> speed <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span> <span class="token operator">?</span>
			<span class="token function">cssFn</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span> <span class="token function">genFx</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Generate shortcuts for custom animations</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	slideDown<span class="token operator">:</span> <span class="token function">genFx</span><span class="token punctuation">(</span> <span class="token string">&quot;show&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	slideUp<span class="token operator">:</span> <span class="token function">genFx</span><span class="token punctuation">(</span> <span class="token string">&quot;hide&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	slideToggle<span class="token operator">:</span> <span class="token function">genFx</span><span class="token punctuation">(</span> <span class="token string">&quot;toggle&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	fadeIn<span class="token operator">:</span> <span class="token punctuation">{</span> opacity<span class="token operator">:</span> <span class="token string">&quot;show&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	fadeOut<span class="token operator">:</span> <span class="token punctuation">{</span> opacity<span class="token operator">:</span> <span class="token string">&quot;hide&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
	fadeToggle<span class="token operator">:</span> <span class="token punctuation">{</span> opacity<span class="token operator">:</span> <span class="token string">&quot;toggle&quot;</span> <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> props</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">animate</span><span class="token punctuation">(</span> props<span class="token punctuation">,</span> speed<span class="token punctuation">,</span> easing<span class="token punctuation">,</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>timers <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span><span class="token function-variable function">tick</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> timer<span class="token punctuation">,</span>
		timers <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>timers<span class="token punctuation">,</span>
		i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

	fxNow <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> timers<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		timer <span class="token operator">=</span> timers<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Checks the timer has not already been removed</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> timers<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">===</span> timer <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			timers<span class="token punctuation">.</span><span class="token function">splice</span><span class="token punctuation">(</span> i<span class="token operator">--</span><span class="token punctuation">,</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>timers<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span><span class="token function">stop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	fxNow <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span><span class="token function-variable function">timer</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">timer</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>timers<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> timer <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">timer</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span><span class="token function">start</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>timers<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>interval <span class="token operator">=</span> <span class="token number">13</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span><span class="token function-variable function">start</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>timerId <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		timerId <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">setInterval</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>tick<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>interval <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span><span class="token function-variable function">stop</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span><span class="token function">clearInterval</span><span class="token punctuation">(</span> timerId <span class="token punctuation">)</span><span class="token punctuation">;</span>
	timerId <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>speeds <span class="token operator">=</span> <span class="token punctuation">{</span>
	slow<span class="token operator">:</span> <span class="token number">600</span><span class="token punctuation">,</span>
	fast<span class="token operator">:</span> <span class="token number">200</span><span class="token punctuation">,</span>

	<span class="token comment">// Default speed</span>
	_default<span class="token operator">:</span> <span class="token number">400</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// Based off of the plugin by Clint Helfers, with permission.</span>
<span class="token comment">// http://web.archive.org/web/20100324014747/http://blindsignals.com/index.php/2009/07/jquery-delay/</span>
jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">delay</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">time<span class="token punctuation">,</span> type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	time <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fx <span class="token operator">?</span> jQuery<span class="token punctuation">.</span>fx<span class="token punctuation">.</span>speeds<span class="token punctuation">[</span> time <span class="token punctuation">]</span> <span class="token operator">||</span> time <span class="token operator">:</span> time<span class="token punctuation">;</span>
	type <span class="token operator">=</span> type <span class="token operator">||</span> <span class="token string">&quot;fx&quot;</span><span class="token punctuation">;</span>

	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">queue</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">next<span class="token punctuation">,</span> hooks</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> timeout <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span> next<span class="token punctuation">,</span> time <span class="token punctuation">)</span><span class="token punctuation">;</span>
		hooks<span class="token punctuation">.</span><span class="token function-variable function">stop</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			window<span class="token punctuation">.</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span> timeout <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> a<span class="token punctuation">,</span>
		input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		select <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;select&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		opt <span class="token operator">=</span> select<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;option&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Setup</span>
	div <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;div&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	div<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;className&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;t&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	div<span class="token punctuation">.</span>innerHTML <span class="token operator">=</span> <span class="token string">&quot;  &lt;link/&gt;&lt;table&gt;&lt;/table&gt;&lt;a href='/a'&gt;a&lt;/a&gt;&lt;input type='checkbox'/&gt;&quot;</span><span class="token punctuation">;</span>
	a <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token comment">// Support: Windows Web Apps (WWA)</span>
	<span class="token comment">// `type` must use .setAttribute for WWA (#14901)</span>
	input<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;checkbox&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	div<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span> input <span class="token punctuation">)</span><span class="token punctuation">;</span>

	a <span class="token operator">=</span> div<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;a&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token comment">// First batch of tests.</span>
	a<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token string">&quot;top:1px&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// Test setAttribute on camelCase class.</span>
	<span class="token comment">// If it works, we need attrFixes when doing get/setAttribute (ie6/7)</span>
	support<span class="token punctuation">.</span>getSetAttribute <span class="token operator">=</span> div<span class="token punctuation">.</span>className <span class="token operator">!==</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// Get the style information from getAttribute</span>
	<span class="token comment">// (IE uses .cssText instead)</span>
	support<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token regex">/top/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> a<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;style&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Make sure that URLs aren't manipulated</span>
	<span class="token comment">// (IE normalizes it by default)</span>
	support<span class="token punctuation">.</span>hrefNormalized <span class="token operator">=</span> a<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;href&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;/a&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// Check the default checkbox/radio value (&quot;&quot; on WebKit; &quot;on&quot; elsewhere)</span>
	support<span class="token punctuation">.</span>checkOn <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>input<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

	<span class="token comment">// Make sure that a selected-by-default option has a working selected property.</span>
	<span class="token comment">// (WebKit defaults to false instead of true, IE too, if it's in an optgroup)</span>
	support<span class="token punctuation">.</span>optSelected <span class="token operator">=</span> opt<span class="token punctuation">.</span>selected<span class="token punctuation">;</span>

	<span class="token comment">// Tests for enctype support on a form (#6743)</span>
	support<span class="token punctuation">.</span>enctype <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;form&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>enctype<span class="token punctuation">;</span>

	<span class="token comment">// Make sure that the options inside disabled selects aren't marked as disabled</span>
	<span class="token comment">// (WebKit marks them as disabled)</span>
	select<span class="token punctuation">.</span>disabled <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	support<span class="token punctuation">.</span>optDisabled <span class="token operator">=</span> <span class="token operator">!</span>opt<span class="token punctuation">.</span>disabled<span class="token punctuation">;</span>

	<span class="token comment">// Support: IE8 only</span>
	<span class="token comment">// Check if we can trust getAttribute(&quot;value&quot;)</span>
	input <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	input<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;value&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	support<span class="token punctuation">.</span>input <span class="token operator">=</span> input<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;value&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

	<span class="token comment">// Check if an input maintains its value after becoming a radio</span>
	input<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">;</span>
	input<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;radio&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	support<span class="token punctuation">.</span>radioValue <span class="token operator">=</span> input<span class="token punctuation">.</span>value <span class="token operator">===</span> <span class="token string">&quot;t&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> rreturn <span class="token operator">=</span> <span class="token regex">/\r/g</span><span class="token punctuation">,</span>
	rspaces <span class="token operator">=</span> <span class="token regex">/[\x20\t\r\n\f]+/g</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">val</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> hooks<span class="token punctuation">,</span> ret<span class="token punctuation">,</span> isFunction<span class="token punctuation">,</span>
			elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>arguments<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">[</span> elem<span class="token punctuation">.</span>type <span class="token punctuation">]</span> <span class="token operator">||</span>
					jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">[</span> elem<span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span>
					hooks <span class="token operator">&amp;&amp;</span>
					<span class="token string">&quot;get&quot;</span> <span class="token keyword">in</span> hooks <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> ret <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span>
				<span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				ret <span class="token operator">=</span> elem<span class="token punctuation">.</span>value<span class="token punctuation">;</span>

				<span class="token keyword">return</span> <span class="token keyword">typeof</span> ret <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">?</span>

					<span class="token comment">// handle most common string cases</span>
					ret<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rreturn<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>

					<span class="token comment">// handle cases where value is null/undef or number</span>
					ret <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> ret<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		isFunction <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> val<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> isFunction <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				val <span class="token operator">=</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				val <span class="token operator">=</span> value<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Treat null/undefined as &quot;&quot;; convert numbers to string</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				val <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> val <span class="token operator">===</span> <span class="token string">&quot;number&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				val <span class="token operator">+=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> val <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				val <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> val<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> value <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> value <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token punctuation">]</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeName<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token comment">// If set returns undefined, fall back to normal setting</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>hooks <span class="token operator">||</span> <span class="token operator">!</span><span class="token punctuation">(</span> <span class="token string">&quot;set&quot;</span> <span class="token keyword">in</span> hooks <span class="token punctuation">)</span> <span class="token operator">||</span> hooks<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> val<span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> val<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	valHooks<span class="token operator">:</span> <span class="token punctuation">{</span>
		option<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> val <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;value&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> val <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span>
					val <span class="token operator">:</span>

					<span class="token comment">// Support: IE10-11+</span>
					<span class="token comment">// option.text throws exceptions (#14686, #14858)</span>
					<span class="token comment">// Strip and collapse whitespace</span>
					<span class="token comment">// https://html.spec.whatwg.org/#strip-and-collapse-whitespace</span>
					jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rspaces<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		select<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> value<span class="token punctuation">,</span> option<span class="token punctuation">,</span>
					options <span class="token operator">=</span> elem<span class="token punctuation">.</span>options<span class="token punctuation">,</span>
					index <span class="token operator">=</span> elem<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">,</span>
					one <span class="token operator">=</span> elem<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;select-one&quot;</span> <span class="token operator">||</span> index <span class="token operator">&lt;</span> <span class="token number">0</span><span class="token punctuation">,</span>
					values <span class="token operator">=</span> one <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
					max <span class="token operator">=</span> one <span class="token operator">?</span> index <span class="token operator">+</span> <span class="token number">1</span> <span class="token operator">:</span> options<span class="token punctuation">.</span>length<span class="token punctuation">,</span>
					i <span class="token operator">=</span> index <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token operator">?</span>
						max <span class="token operator">:</span>
						one <span class="token operator">?</span> index <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>

				<span class="token comment">// Loop through all the selected options</span>
				<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token punctuation">;</span> i <span class="token operator">&lt;</span> max<span class="token punctuation">;</span> i<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					option <span class="token operator">=</span> options<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>

					<span class="token comment">// oldIE doesn't update selected after form reset (#2551)</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> option<span class="token punctuation">.</span>selected <span class="token operator">||</span> i <span class="token operator">===</span> index <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>

							<span class="token comment">// Don't return options that are disabled or in a disabled optgroup</span>
							<span class="token punctuation">(</span> support<span class="token punctuation">.</span>optDisabled <span class="token operator">?</span>
								<span class="token operator">!</span>option<span class="token punctuation">.</span>disabled <span class="token operator">:</span>
								option<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;disabled&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
							<span class="token punctuation">(</span> <span class="token operator">!</span>option<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>disabled <span class="token operator">||</span>
								<span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> option<span class="token punctuation">.</span>parentNode<span class="token punctuation">,</span> <span class="token string">&quot;optgroup&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Get the specific value for the option</span>
						value <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> option <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

						<span class="token comment">// We don't need an array for one selects</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> one <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> value<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Multi-Selects return an array</span>
						values<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> values<span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> optionSet<span class="token punctuation">,</span> option<span class="token punctuation">,</span>
					options <span class="token operator">=</span> elem<span class="token punctuation">.</span>options<span class="token punctuation">,</span>
					values <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">,</span>
					i <span class="token operator">=</span> options<span class="token punctuation">.</span>length<span class="token punctuation">;</span>

				<span class="token keyword">while</span> <span class="token punctuation">(</span> i<span class="token operator">--</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					option <span class="token operator">=</span> options<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">.</span>option<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> option <span class="token punctuation">)</span><span class="token punctuation">,</span> values <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Support: IE6</span>
						<span class="token comment">// When new option element is added to select box we need to</span>
						<span class="token comment">// force reflow of newly added node in order to workaround delay</span>
						<span class="token comment">// of initialization properties</span>
						<span class="token keyword">try</span> <span class="token punctuation">{</span>
							option<span class="token punctuation">.</span>selected <span class="token operator">=</span> optionSet <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

						<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> _ <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							<span class="token comment">// Will be executed only in IE6</span>
							option<span class="token punctuation">.</span>scrollHeight<span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						option<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Force browsers to behave consistently when non-matching value is set</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>optionSet <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					elem<span class="token punctuation">.</span>selectedIndex <span class="token operator">=</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> options<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Radios and checkboxes getter/setter</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;radio&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;checkbox&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">[</span> <span class="token keyword">this</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>checked <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> value <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>checkOn <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">[</span> <span class="token keyword">this</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function-variable function">get</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;value&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">&quot;on&quot;</span> <span class="token operator">:</span> elem<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>




<span class="token keyword">var</span> nodeHook<span class="token punctuation">,</span> boolHook<span class="token punctuation">,</span>
	attrHandle <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>attrHandle<span class="token punctuation">,</span>
	ruseDefault <span class="token operator">=</span> <span class="token regex">/^(?:checked|selected)$/i</span><span class="token punctuation">,</span>
	getSetAttribute <span class="token operator">=</span> support<span class="token punctuation">.</span>getSetAttribute<span class="token punctuation">,</span>
	getSetInput <span class="token operator">=</span> support<span class="token punctuation">.</span>input<span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">attr</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">access</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>attr<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">removeAttr</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">attr</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> ret<span class="token punctuation">,</span> hooks<span class="token punctuation">,</span>
			nType <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType<span class="token punctuation">;</span>

		<span class="token comment">// Don't get/set attributes on text, comment and attribute nodes</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> nType <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">||</span> nType <span class="token operator">===</span> <span class="token number">8</span> <span class="token operator">||</span> nType <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Fallback to prop when attributes are not supported</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">.</span>getAttribute <span class="token operator">===</span> <span class="token string">&quot;undefined&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// All attributes are lowercase</span>
		<span class="token comment">// Grab necessary hook if one is defined</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> nType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isXMLDoc</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			name <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>attrHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span>
				<span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>match<span class="token punctuation">.</span>bool<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token operator">?</span> boolHook <span class="token operator">:</span> nodeHook <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;set&quot;</span> <span class="token keyword">in</span> hooks <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> ret <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			elem<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> value <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> value<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;get&quot;</span> <span class="token keyword">in</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> ret <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		ret <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Non-existent attributes return null, we normalize to undefined</span>
		<span class="token keyword">return</span> ret <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">undefined</span> <span class="token operator">:</span> ret<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	attrHooks<span class="token operator">:</span> <span class="token punctuation">{</span>
		type<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>radioValue <span class="token operator">&amp;&amp;</span> value <span class="token operator">===</span> <span class="token string">&quot;radio&quot;</span> <span class="token operator">&amp;&amp;</span>
					jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// Setting the type on a radio button after the value resets the value in IE8-9</span>
					<span class="token comment">// Reset value to default in case type is set after value during creation</span>
					<span class="token keyword">var</span> val <span class="token operator">=</span> elem<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
					elem<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;type&quot;</span><span class="token punctuation">,</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">.</span>value <span class="token operator">=</span> val<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">return</span> value<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">removeAttr</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> name<span class="token punctuation">,</span> propName<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			attrNames <span class="token operator">=</span> value <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> attrNames <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> name <span class="token operator">=</span> attrNames<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				propName <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>propFix<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span> name<span class="token punctuation">;</span>

				<span class="token comment">// Boolean attributes get special treatment (#10870)</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>match<span class="token punctuation">.</span>bool<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// Set corresponding property to false</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> getSetInput <span class="token operator">&amp;&amp;</span> getSetAttribute <span class="token operator">||</span> <span class="token operator">!</span>ruseDefault<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">[</span> propName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>

					<span class="token comment">// Support: IE&lt;9</span>
					<span class="token comment">// Also clear defaultChecked/defaultSelected (if appropriate)</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						elem<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> <span class="token string">&quot;default-&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">=</span>
							elem<span class="token punctuation">[</span> propName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

				<span class="token comment">// See #9699 for explanation of this approach (setting first, then removal)</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				elem<span class="token punctuation">.</span><span class="token function">removeAttribute</span><span class="token punctuation">(</span> getSetAttribute <span class="token operator">?</span> name <span class="token operator">:</span> propName <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Hooks for boolean attributes</span>
boolHook <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Remove boolean attributes when set to false</span>
			jQuery<span class="token punctuation">.</span><span class="token function">removeAttr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> getSetInput <span class="token operator">&amp;&amp;</span> getSetAttribute <span class="token operator">||</span> <span class="token operator">!</span>ruseDefault<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// IE&lt;8 needs the *property* name</span>
			elem<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token operator">!</span>getSetAttribute <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span>propFix<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span> name<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

			<span class="token comment">// Support: IE&lt;9</span>
			<span class="token comment">// Use defaultChecked and defaultSelected for oldIE</span>
			elem<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> <span class="token string">&quot;default-&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">=</span> elem<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> name<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>match<span class="token punctuation">.</span>bool<span class="token punctuation">.</span>source<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> <span class="token regex">/\w+/g</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> getter <span class="token operator">=</span> attrHandle<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span> jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span>attr<span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> getSetInput <span class="token operator">&amp;&amp;</span> getSetAttribute <span class="token operator">||</span> <span class="token operator">!</span>ruseDefault<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		attrHandle<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> isXML</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> ret<span class="token punctuation">,</span> handle<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>isXML <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Avoid an infinite loop by temporarily removing this function from the getter</span>
				handle <span class="token operator">=</span> attrHandle<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
				attrHandle<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> ret<span class="token punctuation">;</span>
				ret <span class="token operator">=</span> <span class="token function">getter</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> isXML <span class="token punctuation">)</span> <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span>
					name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token keyword">null</span><span class="token punctuation">;</span>
				attrHandle<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> handle<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
		attrHandle<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> isXML</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>isXML <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">[</span> jQuery<span class="token punctuation">.</span><span class="token function">camelCase</span><span class="token punctuation">(</span> <span class="token string">&quot;default-&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">?</span>
					name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// fix oldIE attroperties</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>getSetInput <span class="token operator">||</span> <span class="token operator">!</span>getSetAttribute <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>attrHooks<span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;input&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Does not return so that setAttribute is also used</span>
				elem<span class="token punctuation">.</span>defaultValue <span class="token operator">=</span> value<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

				<span class="token comment">// Use nodeHook if defined (#1954); otherwise setAttribute is fine</span>
				<span class="token keyword">return</span> nodeHook <span class="token operator">&amp;&amp;</span> nodeHook<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// IE6/7 do not support getting/setting some attributes with get/setAttribute</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>getSetAttribute <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Use this for any attribute in IE6/7</span>
	<span class="token comment">// This fixes almost every IE6/7 issue</span>
	nodeHook <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Set the existing or create a new attribute node</span>
			<span class="token keyword">var</span> ret <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>ret <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				elem<span class="token punctuation">.</span><span class="token function">setAttributeNode</span><span class="token punctuation">(</span>
					<span class="token punctuation">(</span> ret <span class="token operator">=</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">.</span><span class="token function">createAttribute</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			ret<span class="token punctuation">.</span>value <span class="token operator">=</span> value <span class="token operator">+=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// Break association with cloned elements by also using setAttribute (#9646)</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> name <span class="token operator">===</span> <span class="token string">&quot;value&quot;</span> <span class="token operator">||</span> value <span class="token operator">===</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> value<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Some attributes are constructed with empty-string values when not defined</span>
	attrHandle<span class="token punctuation">.</span>id <span class="token operator">=</span> attrHandle<span class="token punctuation">.</span>name <span class="token operator">=</span> attrHandle<span class="token punctuation">.</span><span class="token function-variable function">coords</span> <span class="token operator">=</span>
		<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> isXML</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> ret<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>isXML <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token punctuation">(</span> ret <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> ret<span class="token punctuation">.</span>value <span class="token operator">!==</span> <span class="token string">&quot;&quot;</span> <span class="token operator">?</span>
					ret<span class="token punctuation">.</span>value <span class="token operator">:</span>
					<span class="token keyword">null</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Fixing value retrieval on a button requires this module</span>
	jQuery<span class="token punctuation">.</span>valHooks<span class="token punctuation">.</span>button <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> ret <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getAttributeNode</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> ret <span class="token operator">&amp;&amp;</span> ret<span class="token punctuation">.</span>specified <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> ret<span class="token punctuation">.</span>value<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token keyword">set</span><span class="token operator">:</span> nodeHook<span class="token punctuation">.</span>set
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Set contenteditable to false on removals(#10429)</span>
	<span class="token comment">// Setting to empty string throws an error as an invalid value</span>
	jQuery<span class="token punctuation">.</span>attrHooks<span class="token punctuation">.</span>contenteditable <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			nodeHook<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> value <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token operator">?</span> <span class="token boolean">false</span> <span class="token operator">:</span> value<span class="token punctuation">,</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Set width and height to auto instead of 0 on empty string( Bug #8150 )</span>
	<span class="token comment">// This is for removals</span>
	jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;width&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;height&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>attrHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					elem<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> <span class="token string">&quot;auto&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> value<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>style <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>attrHooks<span class="token punctuation">.</span>style <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Return undefined in the case of empty string</span>
			<span class="token comment">// Note: IE uppercases css property names, but if we were to .toLowerCase()</span>
			<span class="token comment">// .cssText, that would destroy case sensitivity in URL's, like in &quot;background&quot;</span>
			<span class="token keyword">return</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">||</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> value <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>




<span class="token keyword">var</span> rfocusable <span class="token operator">=</span> <span class="token regex">/^(?:input|select|textarea|button|object)$/i</span><span class="token punctuation">,</span>
	rclickable <span class="token operator">=</span> <span class="token regex">/^(?:a|area)$/i</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">prop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">access</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>prop<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value<span class="token punctuation">,</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">1</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">removeProp</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		name <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>propFix<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span> name<span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// try/catch handles cases where IE balks (such as removing a property on window)</span>
			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				<span class="token keyword">this</span><span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
				<span class="token keyword">delete</span> <span class="token keyword">this</span><span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">prop</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> name<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> ret<span class="token punctuation">,</span> hooks<span class="token punctuation">,</span>
			nType <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType<span class="token punctuation">;</span>

		<span class="token comment">// Don't get/set properties on text, comment and attribute nodes</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> nType <span class="token operator">===</span> <span class="token number">3</span> <span class="token operator">||</span> nType <span class="token operator">===</span> <span class="token number">8</span> <span class="token operator">||</span> nType <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> nType <span class="token operator">!==</span> <span class="token number">1</span> <span class="token operator">||</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isXMLDoc</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Fix name and attach hooks</span>
			name <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>propFix<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">||</span> name<span class="token punctuation">;</span>
			hooks <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>propHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;set&quot;</span> <span class="token keyword">in</span> hooks <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> ret <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">set</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> value<span class="token punctuation">,</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">return</span> <span class="token punctuation">(</span> elem<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;get&quot;</span> <span class="token keyword">in</span> hooks <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> ret <span class="token operator">=</span> hooks<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> name <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> ret<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> elem<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	propHooks<span class="token operator">:</span> <span class="token punctuation">{</span>
		tabIndex<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// elem.tabIndex doesn't always return the</span>
				<span class="token comment">// correct value when it hasn't been explicitly set</span>
				<span class="token comment">// http://fluidproject.org/blog/2008/01/09/getting-setting-and-removing-tabindex-values-with-javascript/</span>
				<span class="token comment">// Use proper attribute retrieval(#12072)</span>
				<span class="token keyword">var</span> tabindex <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>find<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;tabindex&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">return</span> tabindex <span class="token operator">?</span>
					<span class="token function">parseInt</span><span class="token punctuation">(</span> tabindex<span class="token punctuation">,</span> <span class="token number">10</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
					rfocusable<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token operator">||</span>
						rclickable<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>href <span class="token operator">?</span>
							<span class="token number">0</span> <span class="token operator">:</span>
							<span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	propFix<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;for&quot;</span><span class="token operator">:</span> <span class="token string">&quot;htmlFor&quot;</span><span class="token punctuation">,</span>
		<span class="token string">&quot;class&quot;</span><span class="token operator">:</span> <span class="token string">&quot;className&quot;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Some attributes require a special call on IE</span>
<span class="token comment">// http://msdn.microsoft.com/en-us/library/ms536429%28VS.85%29.aspx</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>hrefNormalized <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// href/src property should get the full normalized URL (#10299/#12915)</span>
	jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;href&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;src&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span>propHooks<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">{</span>
			<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> elem<span class="token punctuation">.</span><span class="token function">getAttribute</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> <span class="token number">4</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Support: Safari, IE9+</span>
<span class="token comment">// Accessing the selectedIndex property</span>
<span class="token comment">// forces the browser to respect setting selected</span>
<span class="token comment">// on the option</span>
<span class="token comment">// The getter ensures a default option is selected</span>
<span class="token comment">// when in an optgroup</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>optSelected <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>propHooks<span class="token punctuation">.</span>selected <span class="token operator">=</span> <span class="token punctuation">{</span>
		<span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> parent <span class="token operator">=</span> elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> parent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				parent<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>

				<span class="token comment">// Make sure that it also works with optgroups, see #5701</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> parent<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					parent<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>
		<span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> parent <span class="token operator">=</span> elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> parent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				parent<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> parent<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					parent<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span>selectedIndex<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>
	<span class="token string">&quot;tabIndex&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;readOnly&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;maxLength&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;cellSpacing&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;cellPadding&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;rowSpan&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;colSpan&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;useMap&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;frameBorder&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;contentEditable&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>propFix<span class="token punctuation">[</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// IE6/7 call enctype encoding</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>support<span class="token punctuation">.</span>enctype <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>propFix<span class="token punctuation">.</span>enctype <span class="token operator">=</span> <span class="token string">&quot;encoding&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>




<span class="token keyword">var</span> rclass <span class="token operator">=</span> <span class="token regex">/[\t\r\n\f]/g</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">getClass</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;class&quot;</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">addClass</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> classes<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> curValue<span class="token punctuation">,</span> clazz<span class="token punctuation">,</span> j<span class="token punctuation">,</span> finalValue<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">j</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token function">getClass</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span> value <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			classes <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				curValue <span class="token operator">=</span> <span class="token function">getClass</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
				cur <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> curValue <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rclass<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> cur <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> clazz <span class="token operator">=</span> classes<span class="token punctuation">[</span> j<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> cur<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> clazz <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span> <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							cur <span class="token operator">+=</span> clazz <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// only assign if different to avoid unneeded rendering.</span>
					finalValue <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> curValue <span class="token operator">!==</span> finalValue <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						jQuery<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> finalValue <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">removeClass</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> classes<span class="token punctuation">,</span> elem<span class="token punctuation">,</span> cur<span class="token punctuation">,</span> curValue<span class="token punctuation">,</span> clazz<span class="token punctuation">,</span> j<span class="token punctuation">,</span> finalValue<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">j</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span> <span class="token function">value</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> j<span class="token punctuation">,</span> <span class="token function">getClass</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>arguments<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> <span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> value <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span> value <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			classes <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				curValue <span class="token operator">=</span> <span class="token function">getClass</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// This expression is here for better compressibility (see addClass)</span>
				cur <span class="token operator">=</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>
					<span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> curValue <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rclass<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> cur <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> clazz <span class="token operator">=</span> classes<span class="token punctuation">[</span> j<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Remove *all* instances</span>
						<span class="token keyword">while</span> <span class="token punctuation">(</span> cur<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> clazz <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							cur <span class="token operator">=</span> cur<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> clazz <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Only assign if different to avoid unneeded rendering.</span>
					finalValue <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> cur <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> curValue <span class="token operator">!==</span> finalValue <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						jQuery<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span> finalValue <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">toggleClass</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">value<span class="token punctuation">,</span> stateVal</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token keyword">typeof</span> value<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> stateVal <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span> <span class="token operator">&amp;&amp;</span> type <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> stateVal <span class="token operator">?</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toggleClass</span><span class="token punctuation">(</span>
					<span class="token function">value</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i<span class="token punctuation">,</span> <span class="token function">getClass</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">,</span> stateVal <span class="token punctuation">)</span><span class="token punctuation">,</span>
					stateVal
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> className<span class="token punctuation">,</span> i<span class="token punctuation">,</span> self<span class="token punctuation">,</span> classNames<span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> type <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Toggle individual class names</span>
				i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
				self <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				classNames <span class="token operator">=</span> value<span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> className <span class="token operator">=</span> classNames<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// Check each className given, space separated list</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> self<span class="token punctuation">.</span><span class="token function">hasClass</span><span class="token punctuation">(</span> className <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						self<span class="token punctuation">.</span><span class="token function">removeClass</span><span class="token punctuation">(</span> className <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						self<span class="token punctuation">.</span><span class="token function">addClass</span><span class="token punctuation">(</span> className <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

			<span class="token comment">// Toggle whole class name</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> value <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">||</span> type <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				className <span class="token operator">=</span> <span class="token function">getClass</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> className <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// store className if set</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;__className__&quot;</span><span class="token punctuation">,</span> className <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// If the element has a class name or if we're passed &quot;false&quot;,</span>
				<span class="token comment">// then remove the whole classname (if there was one, the above saved it).</span>
				<span class="token comment">// Otherwise bring back whatever was previously saved (if anything),</span>
				<span class="token comment">// falling back to the empty string if nothing was stored.</span>
				jQuery<span class="token punctuation">.</span><span class="token function">attr</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;class&quot;</span><span class="token punctuation">,</span>
					className <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">?</span>
					<span class="token string">&quot;&quot;</span> <span class="token operator">:</span>
					jQuery<span class="token punctuation">.</span><span class="token function">_data</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;__className__&quot;</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;&quot;</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">hasClass</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> className<span class="token punctuation">,</span> elem<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>

		className <span class="token operator">=</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> selector <span class="token operator">+</span> <span class="token string">&quot; &quot;</span><span class="token punctuation">;</span>
		<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> <span class="token function">getClass</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rclass<span class="token punctuation">,</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> className <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span>
			<span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>




<span class="token comment">// Return jQuery for attributes-only inclusion</span>


jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> <span class="token string">&quot;blur focus focusin focusout load resize scroll unload click dblclick &quot;</span> <span class="token operator">+</span>
	<span class="token string">&quot;mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave &quot;</span> <span class="token operator">+</span>
	<span class="token string">&quot;change select submit keydown keypress keyup error contextmenu&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> name</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Handle event binding</span>
	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">data<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span> name<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn <span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> name <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">hover</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">fnOver<span class="token punctuation">,</span> fnOut</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">mouseenter</span><span class="token punctuation">(</span> fnOver <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mouseleave</span><span class="token punctuation">(</span> fnOut <span class="token operator">||</span> fnOver <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">var</span> location <span class="token operator">=</span> window<span class="token punctuation">.</span>location<span class="token punctuation">;</span>

<span class="token keyword">var</span> nonce <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">now</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">var</span> rquery <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token regex">/\?/</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>



<span class="token keyword">var</span> rvalidtokens <span class="token operator">=</span> <span class="token regex">/(,)|(\[|{)|(}|])|&quot;(?:[^&quot;\\\r\n]|\\[&quot;\\\/bfnrt]|\\u[\da-fA-F]{4})*&quot;\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function-variable function">parseJSON</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Attempt to parse using the native JSON parser first</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span><span class="token constant">JSON</span> <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">.</span>parse <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Support: Android 2.3</span>
		<span class="token comment">// Workaround failure to string-cast null input</span>
		<span class="token keyword">return</span> window<span class="token punctuation">.</span><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parse</span><span class="token punctuation">(</span> data <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> requireNonComma<span class="token punctuation">,</span>
		depth <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">,</span>
		str <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> data <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Guard against invalid (and possibly dangerous) input by ensuring that nothing remains</span>
	<span class="token comment">// after removing valid tokens</span>
	<span class="token keyword">return</span> str <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rvalidtokens<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">token<span class="token punctuation">,</span> comma<span class="token punctuation">,</span> open<span class="token punctuation">,</span> close</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Force termination if we see a misplaced comma</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> requireNonComma <span class="token operator">&amp;&amp;</span> comma <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			depth <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Perform no more replacements after returning to outermost depth</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> depth <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> token<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Commas must not follow &quot;[&quot;, &quot;{&quot;, or &quot;,&quot;</span>
		requireNonComma <span class="token operator">=</span> open <span class="token operator">||</span> comma<span class="token punctuation">;</span>

		<span class="token comment">// Determine new depth</span>
		<span class="token comment">// array/object open (&quot;[&quot; or &quot;{&quot;): depth += true - false (increment)</span>
		<span class="token comment">// array/object close (&quot;]&quot; or &quot;}&quot;): depth += false - true (decrement)</span>
		<span class="token comment">// other cases (&quot;,&quot; or primitive): depth += true - true (numeric cast)</span>
		depth <span class="token operator">+=</span> <span class="token operator">!</span>close <span class="token operator">-</span> <span class="token operator">!</span>open<span class="token punctuation">;</span>

		<span class="token comment">// Remove this token</span>
		<span class="token keyword">return</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">?</span>
		<span class="token punctuation">(</span> <span class="token function">Function</span><span class="token punctuation">(</span> <span class="token string">&quot;return &quot;</span> <span class="token operator">+</span> str <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span>
		jQuery<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> <span class="token string">&quot;Invalid JSON: &quot;</span> <span class="token operator">+</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// Cross-browser xml parsing</span>
jQuery<span class="token punctuation">.</span><span class="token function-variable function">parseXML</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">data</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> xml<span class="token punctuation">,</span> tmp<span class="token punctuation">;</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>data <span class="token operator">||</span> <span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span>DOMParser <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// Standard</span>
			tmp <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>DOMParser</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			xml <span class="token operator">=</span> tmp<span class="token punctuation">.</span><span class="token function">parseFromString</span><span class="token punctuation">(</span> data<span class="token punctuation">,</span> <span class="token string">&quot;text/xml&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span> <span class="token comment">// IE</span>
			xml <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>ActiveXObject</span><span class="token punctuation">(</span> <span class="token string">&quot;Microsoft.XMLDOM&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			xml<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token string">&quot;false&quot;</span><span class="token punctuation">;</span>
			xml<span class="token punctuation">.</span><span class="token function">loadXML</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		xml <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>xml <span class="token operator">||</span> <span class="token operator">!</span>xml<span class="token punctuation">.</span>documentElement <span class="token operator">||</span> xml<span class="token punctuation">.</span><span class="token function">getElementsByTagName</span><span class="token punctuation">(</span> <span class="token string">&quot;parsererror&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> <span class="token string">&quot;Invalid XML: &quot;</span> <span class="token operator">+</span> data <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> xml<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token keyword">var</span>
	rhash <span class="token operator">=</span> <span class="token regex">/#.*$/</span><span class="token punctuation">,</span>
	rts <span class="token operator">=</span> <span class="token regex">/([?&amp;])_=[^&amp;]*/</span><span class="token punctuation">,</span>

	<span class="token comment">// IE leaves an \r character at EOL</span>
	rheaders <span class="token operator">=</span> <span class="token regex">/^(.*?):[ \t]*([^\r\n]*)\r?$/mg</span><span class="token punctuation">,</span>

	<span class="token comment">// #7653, #8125, #8152: local protocol detection</span>
	rlocalProtocol <span class="token operator">=</span> <span class="token regex">/^(?:about|app|app-storage|.+-extension|file|res|widget):$/</span><span class="token punctuation">,</span>
	rnoContent <span class="token operator">=</span> <span class="token regex">/^(?:GET|HEAD)$/</span><span class="token punctuation">,</span>
	rprotocol <span class="token operator">=</span> <span class="token regex">/^\/\//</span><span class="token punctuation">,</span>
	rurl <span class="token operator">=</span> <span class="token regex">/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/</span><span class="token punctuation">,</span>

	<span class="token comment">/* Prefilters
	 * 1) They are useful to introduce custom dataTypes (see ajax/jsonp.js for an example)
	 * 2) These are called:
	 *    - BEFORE asking for a transport
	 *    - AFTER param serialization (s.data is a string if s.processData is true)
	 * 3) key is the dataType
	 * 4) the catchall symbol &quot;*&quot; can be used
	 * 5) execution will start with transport dataType and THEN continue down to &quot;*&quot; if needed
	 */</span>
	prefilters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">/* Transports bindings
	 * 1) key is the dataType
	 * 2) the catchall symbol &quot;*&quot; can be used
	 * 3) selection will start with transport dataType and THEN go to &quot;*&quot; if needed
	 */</span>
	transports <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Avoid comment-prolog char sequence (#10098); must appease lint and evade compression</span>
	allTypes <span class="token operator">=</span> <span class="token string">&quot;*/&quot;</span><span class="token punctuation">.</span><span class="token function">concat</span><span class="token punctuation">(</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

	<span class="token comment">// Document location</span>
	ajaxLocation <span class="token operator">=</span> location<span class="token punctuation">.</span>href<span class="token punctuation">,</span>

	<span class="token comment">// Segment location into parts</span>
	ajaxLocParts <span class="token operator">=</span> rurl<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> ajaxLocation<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

<span class="token comment">// Base &quot;constructor&quot; for jQuery.ajaxPrefilter and jQuery.ajaxTransport</span>
<span class="token keyword">function</span> <span class="token function">addToPrefiltersOrTransports</span><span class="token punctuation">(</span> <span class="token parameter">structure</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// dataTypeExpression is optional and defaults to &quot;*&quot;</span>
	<span class="token keyword">return</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">dataTypeExpression<span class="token punctuation">,</span> func</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> dataTypeExpression <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			func <span class="token operator">=</span> dataTypeExpression<span class="token punctuation">;</span>
			dataTypeExpression <span class="token operator">=</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">var</span> dataType<span class="token punctuation">,</span>
			i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
			dataTypes <span class="token operator">=</span> dataTypeExpression<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> func <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// For each dataType in the dataTypeExpression</span>
			<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> dataType <span class="token operator">=</span> dataTypes<span class="token punctuation">[</span> i<span class="token operator">++</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Prepend if requested</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> dataType<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;+&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					dataType <span class="token operator">=</span> dataType<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token string">&quot;*&quot;</span><span class="token punctuation">;</span>
					<span class="token punctuation">(</span> structure<span class="token punctuation">[</span> dataType <span class="token punctuation">]</span> <span class="token operator">=</span> structure<span class="token punctuation">[</span> dataType <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> func <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Otherwise append</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token punctuation">(</span> structure<span class="token punctuation">[</span> dataType <span class="token punctuation">]</span> <span class="token operator">=</span> structure<span class="token punctuation">[</span> dataType <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> func <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Base inspection function for prefilters and transports</span>
<span class="token keyword">function</span> <span class="token function">inspectPrefiltersOrTransports</span><span class="token punctuation">(</span> <span class="token parameter">structure<span class="token punctuation">,</span> options<span class="token punctuation">,</span> originalOptions<span class="token punctuation">,</span> jqXHR</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">var</span> inspected <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
		seekingTransport <span class="token operator">=</span> <span class="token punctuation">(</span> structure <span class="token operator">===</span> transports <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">function</span> <span class="token function">inspect</span><span class="token punctuation">(</span> <span class="token parameter">dataType</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> selected<span class="token punctuation">;</span>
		inspected<span class="token punctuation">[</span> dataType <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> structure<span class="token punctuation">[</span> dataType <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> prefilterOrFactory</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> dataTypeOrTransport <span class="token operator">=</span> <span class="token function">prefilterOrFactory</span><span class="token punctuation">(</span> options<span class="token punctuation">,</span> originalOptions<span class="token punctuation">,</span> jqXHR <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> dataTypeOrTransport <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span>
				<span class="token operator">!</span>seekingTransport <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>inspected<span class="token punctuation">[</span> dataTypeOrTransport <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				options<span class="token punctuation">.</span>dataTypes<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> dataTypeOrTransport <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token function">inspect</span><span class="token punctuation">(</span> dataTypeOrTransport <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> seekingTransport <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> <span class="token operator">!</span><span class="token punctuation">(</span> selected <span class="token operator">=</span> dataTypeOrTransport <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> selected<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token function">inspect</span><span class="token punctuation">(</span> options<span class="token punctuation">.</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token operator">!</span>inspected<span class="token punctuation">[</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> <span class="token function">inspect</span><span class="token punctuation">(</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// A special extend for ajax options</span>
<span class="token comment">// that takes &quot;flat&quot; options (not to be deep extended)</span>
<span class="token comment">// Fixes #9887</span>
<span class="token keyword">function</span> <span class="token function">ajaxExtend</span><span class="token punctuation">(</span> <span class="token parameter">target<span class="token punctuation">,</span> src</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> deep<span class="token punctuation">,</span> key<span class="token punctuation">,</span>
		flatOptions <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>ajaxSettings<span class="token punctuation">.</span>flatOptions <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token keyword">for</span> <span class="token punctuation">(</span> key <span class="token keyword">in</span> src <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> src<span class="token punctuation">[</span> key <span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token punctuation">(</span> flatOptions<span class="token punctuation">[</span> key <span class="token punctuation">]</span> <span class="token operator">?</span> target <span class="token operator">:</span> <span class="token punctuation">(</span> deep <span class="token operator">||</span> <span class="token punctuation">(</span> deep <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> key <span class="token punctuation">]</span> <span class="token operator">=</span> src<span class="token punctuation">[</span> key <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> deep <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token boolean">true</span><span class="token punctuation">,</span> target<span class="token punctuation">,</span> deep <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> target<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Handles responses to an ajax request:
 * - finds the right dataType (mediates between content-type and expected dataType)
 * - returns the corresponding response
 */</span>
<span class="token keyword">function</span> <span class="token function">ajaxHandleResponses</span><span class="token punctuation">(</span> <span class="token parameter">s<span class="token punctuation">,</span> jqXHR<span class="token punctuation">,</span> responses</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> firstDataType<span class="token punctuation">,</span> ct<span class="token punctuation">,</span> finalDataType<span class="token punctuation">,</span> type<span class="token punctuation">,</span>
		contents <span class="token operator">=</span> s<span class="token punctuation">.</span>contents<span class="token punctuation">,</span>
		dataTypes <span class="token operator">=</span> s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">;</span>

	<span class="token comment">// Remove auto dataType and get content-type in the process</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span> dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		dataTypes<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> ct <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			ct <span class="token operator">=</span> s<span class="token punctuation">.</span>mimeType <span class="token operator">||</span> jqXHR<span class="token punctuation">.</span><span class="token function">getResponseHeader</span><span class="token punctuation">(</span> <span class="token string">&quot;Content-Type&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Check if we're dealing with a known content-type</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> ct <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> contents <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> contents<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> contents<span class="token punctuation">[</span> type <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> ct <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				dataTypes<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> type <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Check to see if we have a response for the expected dataType</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token keyword">in</span> responses <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		finalDataType <span class="token operator">=</span> dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

		<span class="token comment">// Try convertible dataTypes</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> type <span class="token keyword">in</span> responses <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">||</span> s<span class="token punctuation">.</span>converters<span class="token punctuation">[</span> type <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				finalDataType <span class="token operator">=</span> type<span class="token punctuation">;</span>
				<span class="token keyword">break</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>firstDataType <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				firstDataType <span class="token operator">=</span> type<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Or just use first one</span>
		finalDataType <span class="token operator">=</span> finalDataType <span class="token operator">||</span> firstDataType<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// If we found a dataType</span>
	<span class="token comment">// We add the dataType to the list if needed</span>
	<span class="token comment">// and return the corresponding response</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> finalDataType <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> finalDataType <span class="token operator">!==</span> dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			dataTypes<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> finalDataType <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">return</span> responses<span class="token punctuation">[</span> finalDataType <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">/* Chain conversions given the request and the original response
 * Also sets the responseXXX fields on the jqXHR instance
 */</span>
<span class="token keyword">function</span> <span class="token function">ajaxConvert</span><span class="token punctuation">(</span> <span class="token parameter">s<span class="token punctuation">,</span> response<span class="token punctuation">,</span> jqXHR<span class="token punctuation">,</span> isSuccess</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> conv2<span class="token punctuation">,</span> current<span class="token punctuation">,</span> conv<span class="token punctuation">,</span> tmp<span class="token punctuation">,</span> prev<span class="token punctuation">,</span>
		converters <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">// Work with a copy of dataTypes in case we need to modify it for conversion</span>
		dataTypes <span class="token operator">=</span> s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Create converters map with lowercased keys</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> dataTypes<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> conv <span class="token keyword">in</span> s<span class="token punctuation">.</span>converters <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			converters<span class="token punctuation">[</span> conv<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">.</span>converters<span class="token punctuation">[</span> conv <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	current <span class="token operator">=</span> dataTypes<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Convert to each sequential dataType</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span> current <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>responseFields<span class="token punctuation">[</span> current <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jqXHR<span class="token punctuation">[</span> s<span class="token punctuation">.</span>responseFields<span class="token punctuation">[</span> current <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">=</span> response<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Apply the dataFilter if provided</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>prev <span class="token operator">&amp;&amp;</span> isSuccess <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>dataFilter <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			response <span class="token operator">=</span> s<span class="token punctuation">.</span><span class="token function">dataFilter</span><span class="token punctuation">(</span> response<span class="token punctuation">,</span> s<span class="token punctuation">.</span>dataType <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		prev <span class="token operator">=</span> current<span class="token punctuation">;</span>
		current <span class="token operator">=</span> dataTypes<span class="token punctuation">.</span><span class="token function">shift</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> current <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// There's only work to do if current dataType is non-auto</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> current <span class="token operator">===</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				current <span class="token operator">=</span> prev<span class="token punctuation">;</span>

			<span class="token comment">// Convert response if prev dataType is non-auto and differs from current</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> prev <span class="token operator">!==</span> <span class="token string">&quot;*&quot;</span> <span class="token operator">&amp;&amp;</span> prev <span class="token operator">!==</span> current <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Seek a direct converter</span>
				conv <span class="token operator">=</span> converters<span class="token punctuation">[</span> prev <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> current <span class="token punctuation">]</span> <span class="token operator">||</span> converters<span class="token punctuation">[</span> <span class="token string">&quot;* &quot;</span> <span class="token operator">+</span> current <span class="token punctuation">]</span><span class="token punctuation">;</span>

				<span class="token comment">// If none found, seek a pair</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>conv <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">for</span> <span class="token punctuation">(</span> conv2 <span class="token keyword">in</span> converters <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// If conv2 outputs current</span>
						tmp <span class="token operator">=</span> conv2<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> tmp<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">===</span> current <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							<span class="token comment">// If prev can be converted to accepted input</span>
							conv <span class="token operator">=</span> converters<span class="token punctuation">[</span> prev <span class="token operator">+</span> <span class="token string">&quot; &quot;</span> <span class="token operator">+</span> tmp<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">||</span>
								converters<span class="token punctuation">[</span> <span class="token string">&quot;* &quot;</span> <span class="token operator">+</span> tmp<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> conv <span class="token punctuation">)</span> <span class="token punctuation">{</span>

								<span class="token comment">// Condense equivalence converters</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> conv <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									conv <span class="token operator">=</span> converters<span class="token punctuation">[</span> conv2 <span class="token punctuation">]</span><span class="token punctuation">;</span>

								<span class="token comment">// Otherwise, insert the intermediate dataType</span>
								<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> converters<span class="token punctuation">[</span> conv2 <span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									current <span class="token operator">=</span> tmp<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
									dataTypes<span class="token punctuation">.</span><span class="token function">unshift</span><span class="token punctuation">(</span> tmp<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
								<span class="token keyword">break</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Apply converter (if not an equivalence)</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> conv <span class="token operator">!==</span> <span class="token boolean">true</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// Unless errors are allowed to bubble, catch and return them</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> conv <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">[</span> <span class="token string">&quot;throws&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span> <span class="token comment">// jscs:ignore requireDotNotation</span>
						response <span class="token operator">=</span> <span class="token function">conv</span><span class="token punctuation">(</span> response <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
						<span class="token keyword">try</span> <span class="token punctuation">{</span>
							response <span class="token operator">=</span> <span class="token function">conv</span><span class="token punctuation">(</span> response <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">return</span> <span class="token punctuation">{</span>
								state<span class="token operator">:</span> <span class="token string">&quot;parsererror&quot;</span><span class="token punctuation">,</span>
								error<span class="token operator">:</span> conv <span class="token operator">?</span> e <span class="token operator">:</span> <span class="token string">&quot;No conversion from &quot;</span> <span class="token operator">+</span> prev <span class="token operator">+</span> <span class="token string">&quot; to &quot;</span> <span class="token operator">+</span> current
							<span class="token punctuation">}</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token punctuation">{</span> state<span class="token operator">:</span> <span class="token string">&quot;success&quot;</span><span class="token punctuation">,</span> data<span class="token operator">:</span> response <span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

	<span class="token comment">// Counter for holding the number of active queries</span>
	active<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

	<span class="token comment">// Last-Modified header cache for next request</span>
	lastModified<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	etag<span class="token operator">:</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

	ajaxSettings<span class="token operator">:</span> <span class="token punctuation">{</span>
		url<span class="token operator">:</span> ajaxLocation<span class="token punctuation">,</span>
		type<span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
		isLocal<span class="token operator">:</span> rlocalProtocol<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> ajaxLocParts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
		global<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		processData<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		async<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		contentType<span class="token operator">:</span> <span class="token string">&quot;application/x-www-form-urlencoded; charset=UTF-8&quot;</span><span class="token punctuation">,</span>
		<span class="token comment">/*
		timeout: 0,
		data: null,
		dataType: null,
		username: null,
		password: null,
		cache: null,
		throws: false,
		traditional: false,
		headers: {},
		*/</span>

		accepts<span class="token operator">:</span> <span class="token punctuation">{</span>
			<span class="token string">&quot;*&quot;</span><span class="token operator">:</span> allTypes<span class="token punctuation">,</span>
			text<span class="token operator">:</span> <span class="token string">&quot;text/plain&quot;</span><span class="token punctuation">,</span>
			html<span class="token operator">:</span> <span class="token string">&quot;text/html&quot;</span><span class="token punctuation">,</span>
			xml<span class="token operator">:</span> <span class="token string">&quot;application/xml, text/xml&quot;</span><span class="token punctuation">,</span>
			json<span class="token operator">:</span> <span class="token string">&quot;application/json, text/javascript&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		contents<span class="token operator">:</span> <span class="token punctuation">{</span>
			xml<span class="token operator">:</span> <span class="token regex">/\bxml\b/</span><span class="token punctuation">,</span>
			html<span class="token operator">:</span> <span class="token regex">/\bhtml/</span><span class="token punctuation">,</span>
			json<span class="token operator">:</span> <span class="token regex">/\bjson\b/</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		responseFields<span class="token operator">:</span> <span class="token punctuation">{</span>
			xml<span class="token operator">:</span> <span class="token string">&quot;responseXML&quot;</span><span class="token punctuation">,</span>
			text<span class="token operator">:</span> <span class="token string">&quot;responseText&quot;</span><span class="token punctuation">,</span>
			json<span class="token operator">:</span> <span class="token string">&quot;responseJSON&quot;</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">// Data converters</span>
		<span class="token comment">// Keys separate source (or catchall &quot;*&quot;) and destination types with a single space</span>
		converters<span class="token operator">:</span> <span class="token punctuation">{</span>

			<span class="token comment">// Convert anything to text</span>
			<span class="token string">&quot;* text&quot;</span><span class="token operator">:</span> String<span class="token punctuation">,</span>

			<span class="token comment">// Text to html (true = no transformation)</span>
			<span class="token string">&quot;text html&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>

			<span class="token comment">// Evaluate text as a json expression</span>
			<span class="token string">&quot;text json&quot;</span><span class="token operator">:</span> jQuery<span class="token punctuation">.</span>parseJSON<span class="token punctuation">,</span>

			<span class="token comment">// Parse text as xml</span>
			<span class="token string">&quot;text xml&quot;</span><span class="token operator">:</span> jQuery<span class="token punctuation">.</span>parseXML
		<span class="token punctuation">}</span><span class="token punctuation">,</span>

		<span class="token comment">// For options that shouldn't be deep extended:</span>
		<span class="token comment">// you can add your own custom options here if</span>
		<span class="token comment">// and when you create one that shouldn't be</span>
		<span class="token comment">// deep extended (see ajaxExtend)</span>
		flatOptions<span class="token operator">:</span> <span class="token punctuation">{</span>
			url<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
			context<span class="token operator">:</span> <span class="token boolean">true</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token comment">// Creates a full fledged settings object into target</span>
	<span class="token comment">// with both ajaxSettings and settings fields.</span>
	<span class="token comment">// If target is omitted, writes into ajaxSettings.</span>
	<span class="token function-variable function">ajaxSetup</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">target<span class="token punctuation">,</span> settings</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> settings <span class="token operator">?</span>

			<span class="token comment">// Building a settings object</span>
			<span class="token function">ajaxExtend</span><span class="token punctuation">(</span> <span class="token function">ajaxExtend</span><span class="token punctuation">(</span> target<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>ajaxSettings <span class="token punctuation">)</span><span class="token punctuation">,</span> settings <span class="token punctuation">)</span> <span class="token operator">:</span>

			<span class="token comment">// Extending ajaxSettings</span>
			<span class="token function">ajaxExtend</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>ajaxSettings<span class="token punctuation">,</span> target <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	ajaxPrefilter<span class="token operator">:</span> <span class="token function">addToPrefiltersOrTransports</span><span class="token punctuation">(</span> prefilters <span class="token punctuation">)</span><span class="token punctuation">,</span>
	ajaxTransport<span class="token operator">:</span> <span class="token function">addToPrefiltersOrTransports</span><span class="token punctuation">(</span> transports <span class="token punctuation">)</span><span class="token punctuation">,</span>

	<span class="token comment">// Main method</span>
	<span class="token function-variable function">ajax</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">url<span class="token punctuation">,</span> options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// If url is an object, simulate pre-1.5 signature</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> url <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			options <span class="token operator">=</span> url<span class="token punctuation">;</span>
			url <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Force options to be an object</span>
		options <span class="token operator">=</span> options <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token keyword">var</span>

			<span class="token comment">// Cross-domain detection vars</span>
			parts<span class="token punctuation">,</span>

			<span class="token comment">// Loop variable</span>
			i<span class="token punctuation">,</span>

			<span class="token comment">// URL without anti-cache param</span>
			cacheURL<span class="token punctuation">,</span>

			<span class="token comment">// Response headers as string</span>
			responseHeadersString<span class="token punctuation">,</span>

			<span class="token comment">// timeout handle</span>
			timeoutTimer<span class="token punctuation">,</span>

			<span class="token comment">// To know if global events are to be dispatched</span>
			fireGlobals<span class="token punctuation">,</span>

			transport<span class="token punctuation">,</span>

			<span class="token comment">// Response headers</span>
			responseHeaders<span class="token punctuation">,</span>

			<span class="token comment">// Create the final options object</span>
			s <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">ajaxSetup</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> options <span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token comment">// Callbacks context</span>
			callbackContext <span class="token operator">=</span> s<span class="token punctuation">.</span>context <span class="token operator">||</span> s<span class="token punctuation">,</span>

			<span class="token comment">// Context for global events is callbackContext if it is a DOM node or jQuery collection</span>
			globalEventContext <span class="token operator">=</span> s<span class="token punctuation">.</span>context <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> callbackContext<span class="token punctuation">.</span>nodeType <span class="token operator">||</span> callbackContext<span class="token punctuation">.</span>jquery <span class="token punctuation">)</span> <span class="token operator">?</span>
					<span class="token function">jQuery</span><span class="token punctuation">(</span> callbackContext <span class="token punctuation">)</span> <span class="token operator">:</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">,</span>

			<span class="token comment">// Deferreds</span>
			deferred <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">Deferred</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
			completeDeferred <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">Callbacks</span><span class="token punctuation">(</span> <span class="token string">&quot;once memory&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>

			<span class="token comment">// Status-dependent callbacks</span>
			statusCode <span class="token operator">=</span> s<span class="token punctuation">.</span>statusCode <span class="token operator">||</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// Headers (they are sent all at once)</span>
			requestHeaders <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
			requestHeadersNames <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token comment">// The jqXHR state</span>
			state <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>

			<span class="token comment">// Default abort message</span>
			strAbort <span class="token operator">=</span> <span class="token string">&quot;canceled&quot;</span><span class="token punctuation">,</span>

			<span class="token comment">// Fake xhr</span>
			jqXHR <span class="token operator">=</span> <span class="token punctuation">{</span>
				readyState<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span>

				<span class="token comment">// Builds headers hashtable if needed</span>
				<span class="token function-variable function">getResponseHeader</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">key</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> match<span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> state <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>responseHeaders <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							responseHeaders <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
							<span class="token keyword">while</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> match <span class="token operator">=</span> rheaders<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> responseHeadersString <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								responseHeaders<span class="token punctuation">[</span> match<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span> <span class="token operator">=</span> match<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>
						match <span class="token operator">=</span> responseHeaders<span class="token punctuation">[</span> key<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">return</span> match <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token keyword">null</span> <span class="token operator">:</span> match<span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token comment">// Raw string</span>
				<span class="token function-variable function">getAllResponseHeaders</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">return</span> state <span class="token operator">===</span> <span class="token number">2</span> <span class="token operator">?</span> responseHeadersString <span class="token operator">:</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token comment">// Caches the header</span>
				<span class="token function-variable function">setRequestHeader</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> lname <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>state <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						name <span class="token operator">=</span> requestHeadersNames<span class="token punctuation">[</span> lname <span class="token punctuation">]</span> <span class="token operator">=</span> requestHeadersNames<span class="token punctuation">[</span> lname <span class="token punctuation">]</span> <span class="token operator">||</span> name<span class="token punctuation">;</span>
						requestHeaders<span class="token punctuation">[</span> name <span class="token punctuation">]</span> <span class="token operator">=</span> value<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token comment">// Overrides response content-type header</span>
				<span class="token function-variable function">overrideMimeType</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>state <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						s<span class="token punctuation">.</span>mimeType <span class="token operator">=</span> type<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token comment">// Status-dependent callbacks</span>
				<span class="token function-variable function">statusCode</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">map</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> code<span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> map <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> state <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token keyword">for</span> <span class="token punctuation">(</span> code <span class="token keyword">in</span> map <span class="token punctuation">)</span> <span class="token punctuation">{</span>

								<span class="token comment">// Lazy-add the new callback in a way that preserves old ones</span>
								statusCode<span class="token punctuation">[</span> code <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span> statusCode<span class="token punctuation">[</span> code <span class="token punctuation">]</span><span class="token punctuation">,</span> map<span class="token punctuation">[</span> code <span class="token punctuation">]</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

							<span class="token comment">// Execute the appropriate callbacks</span>
							jqXHR<span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> map<span class="token punctuation">[</span> jqXHR<span class="token punctuation">.</span>status <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token comment">// Cancel the request</span>
				<span class="token function-variable function">abort</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">statusText</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> finalText <span class="token operator">=</span> statusText <span class="token operator">||</span> strAbort<span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> transport <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						transport<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span> finalText <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					<span class="token function">done</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> finalText <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Attach deferreds</span>
		deferred<span class="token punctuation">.</span><span class="token function">promise</span><span class="token punctuation">(</span> jqXHR <span class="token punctuation">)</span><span class="token punctuation">.</span>complete <span class="token operator">=</span> completeDeferred<span class="token punctuation">.</span>add<span class="token punctuation">;</span>
		jqXHR<span class="token punctuation">.</span>success <span class="token operator">=</span> jqXHR<span class="token punctuation">.</span>done<span class="token punctuation">;</span>
		jqXHR<span class="token punctuation">.</span>error <span class="token operator">=</span> jqXHR<span class="token punctuation">.</span>fail<span class="token punctuation">;</span>

		<span class="token comment">// Remove hash character (#7531: and string promotion)</span>
		<span class="token comment">// Add protocol if not provided (#5866: IE7 issue with protocol-less urls)</span>
		<span class="token comment">// Handle falsy url in the settings object (#10093: consistency with old signature)</span>
		<span class="token comment">// We also use the url parameter if available</span>
		s<span class="token punctuation">.</span>url <span class="token operator">=</span> <span class="token punctuation">(</span> <span class="token punctuation">(</span> url <span class="token operator">||</span> s<span class="token punctuation">.</span>url <span class="token operator">||</span> ajaxLocation <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rhash<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
			<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rprotocol<span class="token punctuation">,</span> ajaxLocParts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;//&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Alias method option to type as per ticket #12004</span>
		s<span class="token punctuation">.</span>type <span class="token operator">=</span> options<span class="token punctuation">.</span>method <span class="token operator">||</span> options<span class="token punctuation">.</span>type <span class="token operator">||</span> s<span class="token punctuation">.</span>method <span class="token operator">||</span> s<span class="token punctuation">.</span>type<span class="token punctuation">;</span>

		<span class="token comment">// Extract dataTypes list</span>
		s<span class="token punctuation">.</span>dataTypes <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>dataType <span class="token operator">||</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">match</span><span class="token punctuation">(</span> rnotwhite <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">[</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// A cross-domain request is in order when we have a protocol:host:port mismatch</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>crossDomain <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			parts <span class="token operator">=</span> rurl<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">toLowerCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			s<span class="token punctuation">.</span>crossDomain <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span><span class="token punctuation">(</span> parts <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> parts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">!==</span> ajaxLocParts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">||</span> parts<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">!==</span> ajaxLocParts<span class="token punctuation">[</span> <span class="token number">2</span> <span class="token punctuation">]</span> <span class="token operator">||</span>
					<span class="token punctuation">(</span> parts<span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span> parts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;http:&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;80&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;443&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token operator">!==</span>
						<span class="token punctuation">(</span> ajaxLocParts<span class="token punctuation">[</span> <span class="token number">3</span> <span class="token punctuation">]</span> <span class="token operator">||</span> <span class="token punctuation">(</span> ajaxLocParts<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;http:&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;80&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;443&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span>
			<span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Convert data if not already a string</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>processData <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> s<span class="token punctuation">.</span>data <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			s<span class="token punctuation">.</span>data <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>data<span class="token punctuation">,</span> s<span class="token punctuation">.</span>traditional <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Apply prefilters</span>
		<span class="token function">inspectPrefiltersOrTransports</span><span class="token punctuation">(</span> prefilters<span class="token punctuation">,</span> s<span class="token punctuation">,</span> options<span class="token punctuation">,</span> jqXHR <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// If request was aborted inside a prefilter, stop there</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> state <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> jqXHR<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// We can fire global events as of now if asked to</span>
		<span class="token comment">// Don't fire events if jQuery.event is undefined in an AMD-usage scenario (#15118)</span>
		fireGlobals <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>event <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>global<span class="token punctuation">;</span>

		<span class="token comment">// Watch for a new set of requests</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> fireGlobals <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span>active<span class="token operator">++</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> <span class="token string">&quot;ajaxStart&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Uppercase the type</span>
		s<span class="token punctuation">.</span>type <span class="token operator">=</span> s<span class="token punctuation">.</span>type<span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Determine if request has content</span>
		s<span class="token punctuation">.</span>hasContent <span class="token operator">=</span> <span class="token operator">!</span>rnoContent<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>type <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Save the URL in case we're toying with the If-Modified-Since</span>
		<span class="token comment">// and/or If-None-Match header later on</span>
		cacheURL <span class="token operator">=</span> s<span class="token punctuation">.</span>url<span class="token punctuation">;</span>

		<span class="token comment">// More options handling for requests with no content</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>s<span class="token punctuation">.</span>hasContent <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// If data is available, append data to url</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>data <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				cacheURL <span class="token operator">=</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>url <span class="token operator">+=</span> <span class="token punctuation">(</span> rquery<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> cacheURL <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;?&quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> s<span class="token punctuation">.</span>data <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// #9682: remove data so that it's not used in an eventual retry</span>
				<span class="token keyword">delete</span> s<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Add anti-cache in url if needed</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>cache <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				s<span class="token punctuation">.</span>url <span class="token operator">=</span> rts<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> cacheURL <span class="token punctuation">)</span> <span class="token operator">?</span>

					<span class="token comment">// If there is already a '_' parameter, set its value</span>
					cacheURL<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rts<span class="token punctuation">,</span> <span class="token string">&quot;$1_=&quot;</span> <span class="token operator">+</span> nonce<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token operator">:</span>

					<span class="token comment">// Otherwise add one to the end</span>
					cacheURL <span class="token operator">+</span> <span class="token punctuation">(</span> rquery<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> cacheURL <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;?&quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;_=&quot;</span> <span class="token operator">+</span> nonce<span class="token operator">++</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>ifModified <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>lastModified<span class="token punctuation">[</span> cacheURL <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jqXHR<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span> <span class="token string">&quot;If-Modified-Since&quot;</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>lastModified<span class="token punctuation">[</span> cacheURL <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>etag<span class="token punctuation">[</span> cacheURL <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jqXHR<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span> <span class="token string">&quot;If-None-Match&quot;</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span>etag<span class="token punctuation">[</span> cacheURL <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Set the correct header, if data is being sent</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>data <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>hasContent <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>contentType <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token operator">||</span> options<span class="token punctuation">.</span>contentType <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jqXHR<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span> <span class="token string">&quot;Content-Type&quot;</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>contentType <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Set the Accepts header for the server, depending on the dataType</span>
		jqXHR<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span>
			<span class="token string">&quot;Accept&quot;</span><span class="token punctuation">,</span>
			s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>accepts<span class="token punctuation">[</span> s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">?</span>
				s<span class="token punctuation">.</span>accepts<span class="token punctuation">[</span> s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">]</span> <span class="token operator">+</span>
					<span class="token punctuation">(</span> s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token string">&quot;*&quot;</span> <span class="token operator">?</span> <span class="token string">&quot;, &quot;</span> <span class="token operator">+</span> allTypes <span class="token operator">+</span> <span class="token string">&quot;; q=0.01&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
				s<span class="token punctuation">.</span>accepts<span class="token punctuation">[</span> <span class="token string">&quot;*&quot;</span> <span class="token punctuation">]</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Check for headers option</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> s<span class="token punctuation">.</span>headers <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jqXHR<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span> i<span class="token punctuation">,</span> s<span class="token punctuation">.</span>headers<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Allow custom headers/mimetypes and early abort</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>beforeSend <span class="token operator">&amp;&amp;</span>
			<span class="token punctuation">(</span> s<span class="token punctuation">.</span><span class="token function">beforeSend</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> callbackContext<span class="token punctuation">,</span> jqXHR<span class="token punctuation">,</span> s <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token boolean">false</span> <span class="token operator">||</span> state <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Abort if not done already and return</span>
			<span class="token keyword">return</span> jqXHR<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// aborting is no longer a cancellation</span>
		strAbort <span class="token operator">=</span> <span class="token string">&quot;abort&quot;</span><span class="token punctuation">;</span>

		<span class="token comment">// Install callbacks on deferreds</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> <span class="token punctuation">{</span> success<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> error<span class="token operator">:</span> <span class="token number">1</span><span class="token punctuation">,</span> complete<span class="token operator">:</span> <span class="token number">1</span> <span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jqXHR<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">(</span> s<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Get transport</span>
		transport <span class="token operator">=</span> <span class="token function">inspectPrefiltersOrTransports</span><span class="token punctuation">(</span> transports<span class="token punctuation">,</span> s<span class="token punctuation">,</span> options<span class="token punctuation">,</span> jqXHR <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// If no transport, we auto-abort</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>transport <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">done</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token string">&quot;No Transport&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			jqXHR<span class="token punctuation">.</span>readyState <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>

			<span class="token comment">// Send global event</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> fireGlobals <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				globalEventContext<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> <span class="token string">&quot;ajaxSend&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> jqXHR<span class="token punctuation">,</span> s <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// If request was aborted inside ajaxSend, stop there</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> state <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> jqXHR<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Timeout</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>async <span class="token operator">&amp;&amp;</span> s<span class="token punctuation">.</span>timeout <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				timeoutTimer <span class="token operator">=</span> window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jqXHR<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span> <span class="token string">&quot;timeout&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span> s<span class="token punctuation">.</span>timeout <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">try</span> <span class="token punctuation">{</span>
				state <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span>
				transport<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span> requestHeaders<span class="token punctuation">,</span> done <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Propagate exception as error if not done</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> state <span class="token operator">&lt;</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token function">done</span><span class="token punctuation">(</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span> e <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Simply rethrow otherwise</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					<span class="token keyword">throw</span> e<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Callback for when everything is done</span>
		<span class="token keyword">function</span> <span class="token function">done</span><span class="token punctuation">(</span> <span class="token parameter">status<span class="token punctuation">,</span> nativeStatusText<span class="token punctuation">,</span> responses<span class="token punctuation">,</span> headers</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> isSuccess<span class="token punctuation">,</span> success<span class="token punctuation">,</span> error<span class="token punctuation">,</span> response<span class="token punctuation">,</span> modified<span class="token punctuation">,</span>
				statusText <span class="token operator">=</span> nativeStatusText<span class="token punctuation">;</span>

			<span class="token comment">// Called once</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> state <span class="token operator">===</span> <span class="token number">2</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// State is &quot;done&quot; now</span>
			state <span class="token operator">=</span> <span class="token number">2</span><span class="token punctuation">;</span>

			<span class="token comment">// Clear timeout if it exists</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> timeoutTimer <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				window<span class="token punctuation">.</span><span class="token function">clearTimeout</span><span class="token punctuation">(</span> timeoutTimer <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Dereference transport for early garbage collection</span>
			<span class="token comment">// (no matter how long the jqXHR object will be used)</span>
			transport <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

			<span class="token comment">// Cache response headers</span>
			responseHeadersString <span class="token operator">=</span> headers <span class="token operator">||</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// Set readyState</span>
			jqXHR<span class="token punctuation">.</span>readyState <span class="token operator">=</span> status <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token operator">?</span> <span class="token number">4</span> <span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">;</span>

			<span class="token comment">// Determine if successful</span>
			isSuccess <span class="token operator">=</span> status <span class="token operator">&gt;=</span> <span class="token number">200</span> <span class="token operator">&amp;&amp;</span> status <span class="token operator">&lt;</span> <span class="token number">300</span> <span class="token operator">||</span> status <span class="token operator">===</span> <span class="token number">304</span><span class="token punctuation">;</span>

			<span class="token comment">// Get response data</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> responses <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				response <span class="token operator">=</span> <span class="token function">ajaxHandleResponses</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> jqXHR<span class="token punctuation">,</span> responses <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Convert no matter what (that way responseXXX fields are always set)</span>
			response <span class="token operator">=</span> <span class="token function">ajaxConvert</span><span class="token punctuation">(</span> s<span class="token punctuation">,</span> response<span class="token punctuation">,</span> jqXHR<span class="token punctuation">,</span> isSuccess <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// If successful, handle type chaining</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> isSuccess <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Set the If-Modified-Since and/or If-None-Match header, if in ifModified mode.</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>ifModified <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					modified <span class="token operator">=</span> jqXHR<span class="token punctuation">.</span><span class="token function">getResponseHeader</span><span class="token punctuation">(</span> <span class="token string">&quot;Last-Modified&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> modified <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						jQuery<span class="token punctuation">.</span>lastModified<span class="token punctuation">[</span> cacheURL <span class="token punctuation">]</span> <span class="token operator">=</span> modified<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
					modified <span class="token operator">=</span> jqXHR<span class="token punctuation">.</span><span class="token function">getResponseHeader</span><span class="token punctuation">(</span> <span class="token string">&quot;etag&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> modified <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						jQuery<span class="token punctuation">.</span>etag<span class="token punctuation">[</span> cacheURL <span class="token punctuation">]</span> <span class="token operator">=</span> modified<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// if no content</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> status <span class="token operator">===</span> <span class="token number">204</span> <span class="token operator">||</span> s<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;HEAD&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					statusText <span class="token operator">=</span> <span class="token string">&quot;nocontent&quot;</span><span class="token punctuation">;</span>

				<span class="token comment">// if not modified</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> status <span class="token operator">===</span> <span class="token number">304</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					statusText <span class="token operator">=</span> <span class="token string">&quot;notmodified&quot;</span><span class="token punctuation">;</span>

				<span class="token comment">// If we have data, let's convert it</span>
				<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
					statusText <span class="token operator">=</span> response<span class="token punctuation">.</span>state<span class="token punctuation">;</span>
					success <span class="token operator">=</span> response<span class="token punctuation">.</span>data<span class="token punctuation">;</span>
					error <span class="token operator">=</span> response<span class="token punctuation">.</span>error<span class="token punctuation">;</span>
					isSuccess <span class="token operator">=</span> <span class="token operator">!</span>error<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

				<span class="token comment">// We extract error from statusText</span>
				<span class="token comment">// then normalize statusText and status for non-aborts</span>
				error <span class="token operator">=</span> statusText<span class="token punctuation">;</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> status <span class="token operator">||</span> <span class="token operator">!</span>statusText <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					statusText <span class="token operator">=</span> <span class="token string">&quot;error&quot;</span><span class="token punctuation">;</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> status <span class="token operator">&lt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						status <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Set data for the fake xhr object</span>
			jqXHR<span class="token punctuation">.</span>status <span class="token operator">=</span> status<span class="token punctuation">;</span>
			jqXHR<span class="token punctuation">.</span>statusText <span class="token operator">=</span> <span class="token punctuation">(</span> nativeStatusText <span class="token operator">||</span> statusText <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>

			<span class="token comment">// Success/Error</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> isSuccess <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				deferred<span class="token punctuation">.</span><span class="token function">resolveWith</span><span class="token punctuation">(</span> callbackContext<span class="token punctuation">,</span> <span class="token punctuation">[</span> success<span class="token punctuation">,</span> statusText<span class="token punctuation">,</span> jqXHR <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				deferred<span class="token punctuation">.</span><span class="token function">rejectWith</span><span class="token punctuation">(</span> callbackContext<span class="token punctuation">,</span> <span class="token punctuation">[</span> jqXHR<span class="token punctuation">,</span> statusText<span class="token punctuation">,</span> error <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Status-dependent callbacks</span>
			jqXHR<span class="token punctuation">.</span><span class="token function">statusCode</span><span class="token punctuation">(</span> statusCode <span class="token punctuation">)</span><span class="token punctuation">;</span>
			statusCode <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> fireGlobals <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				globalEventContext<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> isSuccess <span class="token operator">?</span> <span class="token string">&quot;ajaxSuccess&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;ajaxError&quot;</span><span class="token punctuation">,</span>
					<span class="token punctuation">[</span> jqXHR<span class="token punctuation">,</span> s<span class="token punctuation">,</span> isSuccess <span class="token operator">?</span> success <span class="token operator">:</span> error <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Complete</span>
			completeDeferred<span class="token punctuation">.</span><span class="token function">fireWith</span><span class="token punctuation">(</span> callbackContext<span class="token punctuation">,</span> <span class="token punctuation">[</span> jqXHR<span class="token punctuation">,</span> statusText <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> fireGlobals <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				globalEventContext<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> <span class="token string">&quot;ajaxComplete&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> jqXHR<span class="token punctuation">,</span> s <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// Handle the global AJAX counter</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token punctuation">(</span> <span class="token operator">--</span>jQuery<span class="token punctuation">.</span>active <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span>event<span class="token punctuation">.</span><span class="token function">trigger</span><span class="token punctuation">(</span> <span class="token string">&quot;ajaxStop&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> jqXHR<span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">getJSON</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token string">&quot;json&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">getScript</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">url<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span> url<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> callback<span class="token punctuation">,</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;get&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;post&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> method</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">[</span> method <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">url<span class="token punctuation">,</span> data<span class="token punctuation">,</span> callback<span class="token punctuation">,</span> type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// shift arguments if data argument was omitted</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			type <span class="token operator">=</span> type <span class="token operator">||</span> callback<span class="token punctuation">;</span>
			callback <span class="token operator">=</span> data<span class="token punctuation">;</span>
			data <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// The url can be an options object (which then must have .url)</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
			url<span class="token operator">:</span> url<span class="token punctuation">,</span>
			type<span class="token operator">:</span> method<span class="token punctuation">,</span>
			dataType<span class="token operator">:</span> type<span class="token punctuation">,</span>
			data<span class="token operator">:</span> data<span class="token punctuation">,</span>
			success<span class="token operator">:</span> callback
		<span class="token punctuation">}</span><span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span> url <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> url <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


jQuery<span class="token punctuation">.</span><span class="token function-variable function">_evalUrl</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">url</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
		url<span class="token operator">:</span> url<span class="token punctuation">,</span>

		<span class="token comment">// Make this explicit, since user can override this through ajaxSetup (#11264)</span>
		type<span class="token operator">:</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
		dataType<span class="token operator">:</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span>
		cache<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
		async<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
		global<span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
		<span class="token string">&quot;throws&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">wrapAll</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> html <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrapAll</span><span class="token punctuation">(</span> <span class="token function">html</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// The elements to wrap the target around</span>
			<span class="token keyword">var</span> wrap <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> html<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>ownerDocument <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">eq</span><span class="token punctuation">(</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">clone</span><span class="token punctuation">(</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				wrap<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			wrap<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">;</span>

				<span class="token keyword">while</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>firstChild <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>firstChild<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>firstChild<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> elem<span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">wrapInner</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> html <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrapInner</span><span class="token punctuation">(</span> <span class="token function">html</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> self <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
				contents <span class="token operator">=</span> self<span class="token punctuation">.</span><span class="token function">contents</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> contents<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				contents<span class="token punctuation">.</span><span class="token function">wrapAll</span><span class="token punctuation">(</span> html <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				self<span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span> html <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">wrap</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">html</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> isFunction <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> html <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">wrapAll</span><span class="token punctuation">(</span> isFunction <span class="token operator">?</span> <span class="token function">html</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> i <span class="token punctuation">)</span> <span class="token operator">:</span> html <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">unwrap</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">parent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;body&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replaceWith</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>childNodes <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">end</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token keyword">function</span> <span class="token function">getDisplay</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> elem<span class="token punctuation">.</span>style <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>display <span class="token operator">||</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;display&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">filterHidden</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Disconnected elements are considered hidden</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> elem<span class="token punctuation">.</span>ownerDocument <span class="token operator">||</span> document<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">while</span> <span class="token punctuation">(</span> elem <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token function">getDisplay</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;none&quot;</span> <span class="token operator">||</span> elem<span class="token punctuation">.</span>type <span class="token operator">===</span> <span class="token string">&quot;hidden&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		elem <span class="token operator">=</span> elem<span class="token punctuation">.</span>parentNode<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">return</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>filters<span class="token punctuation">.</span><span class="token function-variable function">hidden</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// Support: Opera &lt;= 12.12</span>
	<span class="token comment">// Opera reports offsetWidths and offsetHeights less than zero on some elements</span>
	<span class="token keyword">return</span> support<span class="token punctuation">.</span><span class="token function">reliableHiddenOffsets</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">?</span>
		<span class="token punctuation">(</span> elem<span class="token punctuation">.</span>offsetWidth <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>offsetHeight <span class="token operator">&lt;=</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
			<span class="token operator">!</span>elem<span class="token punctuation">.</span><span class="token function">getClientRects</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token function">filterHidden</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>filters<span class="token punctuation">.</span><span class="token function-variable function">visible</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>filters<span class="token punctuation">.</span><span class="token function">hidden</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>




<span class="token keyword">var</span> r20 <span class="token operator">=</span> <span class="token regex">/%20/g</span><span class="token punctuation">,</span>
	rbracket <span class="token operator">=</span> <span class="token regex">/\[\]$/</span><span class="token punctuation">,</span>
	rCRLF <span class="token operator">=</span> <span class="token regex">/\r?\n/g</span><span class="token punctuation">,</span>
	rsubmitterTypes <span class="token operator">=</span> <span class="token regex">/^(?:submit|button|image|reset|file)$/i</span><span class="token punctuation">,</span>
	rsubmittable <span class="token operator">=</span> <span class="token regex">/^(?:input|select|textarea|keygen)/i</span><span class="token punctuation">;</span>

<span class="token keyword">function</span> <span class="token function">buildParams</span><span class="token punctuation">(</span> <span class="token parameter">prefix<span class="token punctuation">,</span> obj<span class="token punctuation">,</span> traditional<span class="token punctuation">,</span> add</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> name<span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Serialize array item.</span>
		jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> obj<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> v</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> traditional <span class="token operator">||</span> rbracket<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> prefix <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// Treat each array item as a scalar.</span>
				<span class="token function">add</span><span class="token punctuation">(</span> prefix<span class="token punctuation">,</span> v <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

				<span class="token comment">// Item is non-scalar (array or object), encode its numeric index.</span>
				<span class="token function">buildParams</span><span class="token punctuation">(</span>
					prefix <span class="token operator">+</span> <span class="token string">&quot;[&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> v <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token operator">&amp;&amp;</span> v <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token operator">?</span> i <span class="token operator">:</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">,</span>
					v<span class="token punctuation">,</span>
					traditional<span class="token punctuation">,</span>
					add
				<span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>traditional <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">type</span><span class="token punctuation">(</span> obj <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Serialize object item.</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> name <span class="token keyword">in</span> obj <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">buildParams</span><span class="token punctuation">(</span> prefix <span class="token operator">+</span> <span class="token string">&quot;[&quot;</span> <span class="token operator">+</span> name <span class="token operator">+</span> <span class="token string">&quot;]&quot;</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span> name <span class="token punctuation">]</span><span class="token punctuation">,</span> traditional<span class="token punctuation">,</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

		<span class="token comment">// Serialize scalar item.</span>
		<span class="token function">add</span><span class="token punctuation">(</span> prefix<span class="token punctuation">,</span> obj <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// Serialize an array of form elements or a set of</span>
<span class="token comment">// key/values into a query string</span>
jQuery<span class="token punctuation">.</span><span class="token function-variable function">param</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">a<span class="token punctuation">,</span> traditional</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> prefix<span class="token punctuation">,</span>
		s <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
		<span class="token function-variable function">add</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">key<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// If value is a function, invoke it and return its value</span>
			value <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token function">value</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token punctuation">(</span> value <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span> <span class="token string">&quot;&quot;</span> <span class="token operator">:</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
			s<span class="token punctuation">[</span> s<span class="token punctuation">.</span>length <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span> key <span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> <span class="token function">encodeURIComponent</span><span class="token punctuation">(</span> value <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

	<span class="token comment">// Set traditional to true for jQuery &lt;= 1.3.2 behavior.</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> traditional <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		traditional <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>ajaxSettings <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span>ajaxSettings<span class="token punctuation">.</span>traditional<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// If an array was passed in, assume that it is an array of form elements.</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span> a<span class="token punctuation">.</span>jquery <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">isPlainObject</span><span class="token punctuation">(</span> a <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Serialize the form elements</span>
		jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> a<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">add</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

		<span class="token comment">// If traditional, encode the &quot;old&quot; way (the way 1.3.2 or older</span>
		<span class="token comment">// did it), otherwise encode params recursively.</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> prefix <span class="token keyword">in</span> a <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token function">buildParams</span><span class="token punctuation">(</span> prefix<span class="token punctuation">,</span> a<span class="token punctuation">[</span> prefix <span class="token punctuation">]</span><span class="token punctuation">,</span> traditional<span class="token punctuation">,</span> add <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// Return the resulting serialization</span>
	<span class="token keyword">return</span> s<span class="token punctuation">.</span><span class="token function">join</span><span class="token punctuation">(</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> r20<span class="token punctuation">,</span> <span class="token string">&quot;+&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">serialize</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">param</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">serializeArray</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">serializeArray</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Can add propHook for &quot;elements&quot; to filter or add form elements</span>
			<span class="token keyword">var</span> elements <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">prop</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token string">&quot;elements&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> elements <span class="token operator">?</span> jQuery<span class="token punctuation">.</span><span class="token function">makeArray</span><span class="token punctuation">(</span> elements <span class="token punctuation">)</span> <span class="token operator">:</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> type <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type<span class="token punctuation">;</span>

			<span class="token comment">// Use .is(&quot;:disabled&quot;) so that fieldset[disabled] works</span>
			<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>name <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span><span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">is</span><span class="token punctuation">(</span> <span class="token string">&quot;:disabled&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				rsubmittable<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>nodeName <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>rsubmitterTypes<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> type <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>checked <span class="token operator">||</span> <span class="token operator">!</span>rcheckableType<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> type <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span>
		<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> val <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token keyword">this</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">val</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">return</span> val <span class="token operator">==</span> <span class="token keyword">null</span> <span class="token operator">?</span>
				<span class="token keyword">null</span> <span class="token operator">:</span>
				jQuery<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span> val <span class="token punctuation">)</span> <span class="token operator">?</span>
					jQuery<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> val<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">val</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">return</span> <span class="token punctuation">{</span> name<span class="token operator">:</span> elem<span class="token punctuation">.</span>name<span class="token punctuation">,</span> value<span class="token operator">:</span> val<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rCRLF<span class="token punctuation">,</span> <span class="token string">&quot;\r\n&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
					<span class="token punctuation">{</span> name<span class="token operator">:</span> elem<span class="token punctuation">.</span>name<span class="token punctuation">,</span> value<span class="token operator">:</span> val<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rCRLF<span class="token punctuation">,</span> <span class="token string">&quot;\r\n&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// Create the request object</span>
<span class="token comment">// (This is still attached to ajaxSettings for backward compatibility)</span>
jQuery<span class="token punctuation">.</span>ajaxSettings<span class="token punctuation">.</span>xhr <span class="token operator">=</span> window<span class="token punctuation">.</span>ActiveXObject <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>

	<span class="token comment">// Support: IE6-IE8</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// XHR cannot access local files, always use ActiveX for that case</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>isLocal <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">createActiveXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE 9-11</span>
		<span class="token comment">// IE seems to error on cross-domain PATCH requests when ActiveX XHR</span>
		<span class="token comment">// is used. In IE 9+ always use the native XHR.</span>
		<span class="token comment">// Note: this condition won't catch Edge as it doesn't define</span>
		<span class="token comment">// document.documentMode but it also doesn't support ActiveX so it won't</span>
		<span class="token comment">// reach this code.</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> document<span class="token punctuation">.</span>documentMode <span class="token operator">&gt;</span> <span class="token number">8</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> <span class="token function">createStandardXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Support: IE&lt;9</span>
		<span class="token comment">// oldIE XHR does not support non-RFC2616 methods (#13240)</span>
		<span class="token comment">// See http://msdn.microsoft.com/en-us/library/ie/ms536648(v=vs.85).aspx</span>
		<span class="token comment">// and http://www.w3.org/Protocols/rfc2616/rfc2616-sec9.html#sec9</span>
		<span class="token comment">// Although this check for six methods instead of eight</span>
		<span class="token comment">// since IE also does not support &quot;trace&quot; and &quot;connect&quot;</span>
		<span class="token keyword">return</span> <span class="token operator">/</span><span class="token operator">^</span><span class="token punctuation">(</span><span class="token keyword">get</span><span class="token operator">|</span>post<span class="token operator">|</span>head<span class="token operator">|</span>put<span class="token operator">|</span><span class="token keyword">delete</span><span class="token operator">|</span>options<span class="token punctuation">)</span>$<span class="token operator">/</span>i<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">.</span>type <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
			<span class="token function">createStandardXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token function">createActiveXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token operator">:</span>

	<span class="token comment">// For all other browsers, use the standard XMLHttpRequest object</span>
	createStandardXHR<span class="token punctuation">;</span>

<span class="token keyword">var</span> xhrId <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span>
	xhrCallbacks <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span>
	xhrSupported <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>ajaxSettings<span class="token punctuation">.</span><span class="token function">xhr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Support: IE&lt;10</span>
<span class="token comment">// Open requests must be manually aborted on unload (#5280)</span>
<span class="token comment">// See https://support.microsoft.com/kb/2856746 for more info</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span>attachEvent <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span><span class="token function">attachEvent</span><span class="token punctuation">(</span> <span class="token string">&quot;onunload&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">for</span> <span class="token punctuation">(</span> <span class="token keyword">var</span> key <span class="token keyword">in</span> xhrCallbacks <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			xhrCallbacks<span class="token punctuation">[</span> key <span class="token punctuation">]</span><span class="token punctuation">(</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Determine support properties</span>
support<span class="token punctuation">.</span>cors <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>xhrSupported <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> <span class="token string">&quot;withCredentials&quot;</span> <span class="token keyword">in</span> xhrSupported <span class="token punctuation">)</span><span class="token punctuation">;</span>
xhrSupported <span class="token operator">=</span> support<span class="token punctuation">.</span>ajax <span class="token operator">=</span> <span class="token operator">!</span><span class="token operator">!</span>xhrSupported<span class="token punctuation">;</span>

<span class="token comment">// Create transport if the browser can provide an xhr</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> xhrSupported <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	jQuery<span class="token punctuation">.</span><span class="token function">ajaxTransport</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Cross domain only allowed if supported through XMLHttpRequest</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>crossDomain <span class="token operator">||</span> support<span class="token punctuation">.</span>cors <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token keyword">var</span> callback<span class="token punctuation">;</span>

			<span class="token keyword">return</span> <span class="token punctuation">{</span>
				<span class="token function-variable function">send</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">headers<span class="token punctuation">,</span> complete</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">var</span> i<span class="token punctuation">,</span>
						xhr <span class="token operator">=</span> options<span class="token punctuation">.</span><span class="token function">xhr</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
						id <span class="token operator">=</span> <span class="token operator">++</span>xhrId<span class="token punctuation">;</span>

					<span class="token comment">// Open the socket</span>
					xhr<span class="token punctuation">.</span><span class="token function">open</span><span class="token punctuation">(</span>
						options<span class="token punctuation">.</span>type<span class="token punctuation">,</span>
						options<span class="token punctuation">.</span>url<span class="token punctuation">,</span>
						options<span class="token punctuation">.</span>async<span class="token punctuation">,</span>
						options<span class="token punctuation">.</span>username<span class="token punctuation">,</span>
						options<span class="token punctuation">.</span>password
					<span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token comment">// Apply custom fields if provided</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> options<span class="token punctuation">.</span>xhrFields <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> options<span class="token punctuation">.</span>xhrFields <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							xhr<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">=</span> options<span class="token punctuation">.</span>xhrFields<span class="token punctuation">[</span> i <span class="token punctuation">]</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Override mime type if needed</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> options<span class="token punctuation">.</span>mimeType <span class="token operator">&amp;&amp;</span> xhr<span class="token punctuation">.</span>overrideMimeType <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						xhr<span class="token punctuation">.</span><span class="token function">overrideMimeType</span><span class="token punctuation">(</span> options<span class="token punctuation">.</span>mimeType <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// X-Requested-With header</span>
					<span class="token comment">// For cross-domain requests, seeing as conditions for a preflight are</span>
					<span class="token comment">// akin to a jigsaw puzzle, we simply never set it to be sure.</span>
					<span class="token comment">// (it can always be set on a per-request basis or even using ajaxSetup)</span>
					<span class="token comment">// For same-domain requests, won't change header if already provided.</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>crossDomain <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>headers<span class="token punctuation">[</span> <span class="token string">&quot;X-Requested-With&quot;</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						headers<span class="token punctuation">[</span> <span class="token string">&quot;X-Requested-With&quot;</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;XMLHttpRequest&quot;</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Set headers</span>
					<span class="token keyword">for</span> <span class="token punctuation">(</span> i <span class="token keyword">in</span> headers <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Support: IE&lt;9</span>
						<span class="token comment">// IE's ActiveXObject throws a 'Type Mismatch' exception when setting</span>
						<span class="token comment">// request header to a null-value.</span>
						<span class="token comment">//</span>
						<span class="token comment">// To keep consistent with other XHR implementations, cast the value</span>
						<span class="token comment">// to string and ignore `undefined`.</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> headers<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">!==</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							xhr<span class="token punctuation">.</span><span class="token function">setRequestHeader</span><span class="token punctuation">(</span> i<span class="token punctuation">,</span> headers<span class="token punctuation">[</span> i <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>

					<span class="token comment">// Do send the request</span>
					<span class="token comment">// This may raise an exception which is actually</span>
					<span class="token comment">// handled in jQuery.ajax (so no try/catch here)</span>
					xhr<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span> <span class="token punctuation">(</span> options<span class="token punctuation">.</span>hasContent <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>data <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

					<span class="token comment">// Listener</span>
					<span class="token function-variable function">callback</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> isAbort</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token keyword">var</span> status<span class="token punctuation">,</span> statusText<span class="token punctuation">,</span> responses<span class="token punctuation">;</span>

						<span class="token comment">// Was never called and is aborted or complete</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> callback <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> isAbort <span class="token operator">||</span> xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

							<span class="token comment">// Clean up</span>
							<span class="token keyword">delete</span> xhrCallbacks<span class="token punctuation">[</span> id <span class="token punctuation">]</span><span class="token punctuation">;</span>
							callback <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
							xhr<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>noop<span class="token punctuation">;</span>

							<span class="token comment">// Abort manually if needed</span>
							<span class="token keyword">if</span> <span class="token punctuation">(</span> isAbort <span class="token punctuation">)</span> <span class="token punctuation">{</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> xhr<span class="token punctuation">.</span>readyState <span class="token operator">!==</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									xhr<span class="token punctuation">.</span><span class="token function">abort</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
								responses <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>
								status <span class="token operator">=</span> xhr<span class="token punctuation">.</span>status<span class="token punctuation">;</span>

								<span class="token comment">// Support: IE&lt;10</span>
								<span class="token comment">// Accessing binary-data responseText throws an exception</span>
								<span class="token comment">// (#11426)</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> xhr<span class="token punctuation">.</span>responseText <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									responses<span class="token punctuation">.</span>text <span class="token operator">=</span> xhr<span class="token punctuation">.</span>responseText<span class="token punctuation">;</span>
								<span class="token punctuation">}</span>

								<span class="token comment">// Firefox throws an exception when accessing</span>
								<span class="token comment">// statusText for faulty cross-domain requests</span>
								<span class="token keyword">try</span> <span class="token punctuation">{</span>
									statusText <span class="token operator">=</span> xhr<span class="token punctuation">.</span>statusText<span class="token punctuation">;</span>
								<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span>

									<span class="token comment">// We normalize with Webkit giving an empty statusText</span>
									statusText <span class="token operator">=</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>

								<span class="token comment">// Filter status for non standard behaviors</span>

								<span class="token comment">// If the request is local and we have data: assume a success</span>
								<span class="token comment">// (success with no data won't get notified, that's the best we</span>
								<span class="token comment">// can do given current implementations)</span>
								<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>status <span class="token operator">&amp;&amp;</span> options<span class="token punctuation">.</span>isLocal <span class="token operator">&amp;&amp;</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>crossDomain <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									status <span class="token operator">=</span> responses<span class="token punctuation">.</span>text <span class="token operator">?</span> <span class="token number">200</span> <span class="token operator">:</span> <span class="token number">404</span><span class="token punctuation">;</span>

								<span class="token comment">// IE - #1450: sometimes returns 1223 when it should be 204</span>
								<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> status <span class="token operator">===</span> <span class="token number">1223</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
									status <span class="token operator">=</span> <span class="token number">204</span><span class="token punctuation">;</span>
								<span class="token punctuation">}</span>
							<span class="token punctuation">}</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Call complete if needed</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> responses <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token function">complete</span><span class="token punctuation">(</span> status<span class="token punctuation">,</span> statusText<span class="token punctuation">,</span> responses<span class="token punctuation">,</span> xhr<span class="token punctuation">.</span><span class="token function">getAllResponseHeaders</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span><span class="token punctuation">;</span>

					<span class="token comment">// Do send the request</span>
					<span class="token comment">// `xhr.send` may raise an exception, but it will be</span>
					<span class="token comment">// handled in jQuery.ajax (so no try/catch here)</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>options<span class="token punctuation">.</span>async <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// If we're in sync mode we fire the callback</span>
						<span class="token function">callback</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> xhr<span class="token punctuation">.</span>readyState <span class="token operator">===</span> <span class="token number">4</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// (IE6 &amp; IE7) if it's in cache and has been</span>
						<span class="token comment">// retrieved directly we need to fire the callback</span>
						window<span class="token punctuation">.</span><span class="token function">setTimeout</span><span class="token punctuation">(</span> callback <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

						<span class="token comment">// Register the callback, but delay it in case `xhr.send` throws</span>
						<span class="token comment">// Add to the list of active xhr callbacks</span>
						xhr<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> xhrCallbacks<span class="token punctuation">[</span> id <span class="token punctuation">]</span> <span class="token operator">=</span> callback<span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">,</span>

				<span class="token function-variable function">abort</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
					<span class="token keyword">if</span> <span class="token punctuation">(</span> callback <span class="token punctuation">)</span> <span class="token punctuation">{</span>
						<span class="token function">callback</span><span class="token punctuation">(</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// Functions to create xhrs</span>
<span class="token keyword">function</span> <span class="token function">createStandardXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>XMLHttpRequest</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">createActiveXHR</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">try</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">window<span class="token punctuation">.</span>ActiveXObject</span><span class="token punctuation">(</span> <span class="token string">&quot;Microsoft.XMLHTTP&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span> e <span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>




<span class="token comment">// Install script dataType</span>
jQuery<span class="token punctuation">.</span><span class="token function">ajaxSetup</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	accepts<span class="token operator">:</span> <span class="token punctuation">{</span>
		script<span class="token operator">:</span> <span class="token string">&quot;text/javascript, application/javascript, &quot;</span> <span class="token operator">+</span>
			<span class="token string">&quot;application/ecmascript, application/x-ecmascript&quot;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	contents<span class="token operator">:</span> <span class="token punctuation">{</span>
		script<span class="token operator">:</span> <span class="token regex">/\b(?:java|ecma)script\b/</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	converters<span class="token operator">:</span> <span class="token punctuation">{</span>
		<span class="token string">&quot;text script&quot;</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">text</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			jQuery<span class="token punctuation">.</span><span class="token function">globalEval</span><span class="token punctuation">(</span> text <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">return</span> text<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Handle cache's special case and global</span>
jQuery<span class="token punctuation">.</span><span class="token function">ajaxPrefilter</span><span class="token punctuation">(</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">s</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>cache <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		s<span class="token punctuation">.</span>cache <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>crossDomain <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		s<span class="token punctuation">.</span>type <span class="token operator">=</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">;</span>
		s<span class="token punctuation">.</span>global <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Bind script tag hack transport</span>
jQuery<span class="token punctuation">.</span><span class="token function">ajaxTransport</span><span class="token punctuation">(</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">s</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token comment">// This transport only deals with cross domain requests</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>crossDomain <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token keyword">var</span> script<span class="token punctuation">,</span>
			head <span class="token operator">=</span> document<span class="token punctuation">.</span>head <span class="token operator">||</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token string">&quot;head&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">||</span> document<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

		<span class="token keyword">return</span> <span class="token punctuation">{</span>

			<span class="token function-variable function">send</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				script <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> <span class="token string">&quot;script&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

				script<span class="token punctuation">.</span>async <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>scriptCharset <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					script<span class="token punctuation">.</span>charset <span class="token operator">=</span> s<span class="token punctuation">.</span>scriptCharset<span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				script<span class="token punctuation">.</span>src <span class="token operator">=</span> s<span class="token punctuation">.</span>url<span class="token punctuation">;</span>

				<span class="token comment">// Attach handlers for all browsers</span>
				script<span class="token punctuation">.</span>onload <span class="token operator">=</span> script<span class="token punctuation">.</span><span class="token function-variable function">onreadystatechange</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">_<span class="token punctuation">,</span> isAbort</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token keyword">if</span> <span class="token punctuation">(</span> isAbort <span class="token operator">||</span> <span class="token operator">!</span>script<span class="token punctuation">.</span>readyState <span class="token operator">||</span> <span class="token regex">/loaded|complete/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> script<span class="token punctuation">.</span>readyState <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

						<span class="token comment">// Handle memory leak in IE</span>
						script<span class="token punctuation">.</span>onload <span class="token operator">=</span> script<span class="token punctuation">.</span>onreadystatechange <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

						<span class="token comment">// Remove the script</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> script<span class="token punctuation">.</span>parentNode <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							script<span class="token punctuation">.</span>parentNode<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span> script <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>

						<span class="token comment">// Dereference the script</span>
						script <span class="token operator">=</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

						<span class="token comment">// Callback if not abort</span>
						<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>isAbort <span class="token punctuation">)</span> <span class="token punctuation">{</span>
							<span class="token function">callback</span><span class="token punctuation">(</span> <span class="token number">200</span><span class="token punctuation">,</span> <span class="token string">&quot;success&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
						<span class="token punctuation">}</span>
					<span class="token punctuation">}</span>
				<span class="token punctuation">}</span><span class="token punctuation">;</span>

				<span class="token comment">// Circumvent IE6 bugs with base elements (#2709 and #4378) by prepending</span>
				<span class="token comment">// Use native DOM manipulation to avoid our domManip AJAX trickery</span>
				head<span class="token punctuation">.</span><span class="token function">insertBefore</span><span class="token punctuation">(</span> script<span class="token punctuation">,</span> head<span class="token punctuation">.</span>firstChild <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span>

			<span class="token function-variable function">abort</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> script <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					script<span class="token punctuation">.</span><span class="token function">onload</span><span class="token punctuation">(</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>




<span class="token keyword">var</span> oldCallbacks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
	rjsonp <span class="token operator">=</span> <span class="token regex">/(=)\?(?=&amp;|$)|\?\?/</span><span class="token punctuation">;</span>

<span class="token comment">// Default jsonp settings</span>
jQuery<span class="token punctuation">.</span><span class="token function">ajaxSetup</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	jsonp<span class="token operator">:</span> <span class="token string">&quot;callback&quot;</span><span class="token punctuation">,</span>
	<span class="token function-variable function">jsonpCallback</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> callback <span class="token operator">=</span> oldCallbacks<span class="token punctuation">.</span><span class="token function">pop</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>expando <span class="token operator">+</span> <span class="token string">&quot;_&quot;</span> <span class="token operator">+</span> <span class="token punctuation">(</span> nonce<span class="token operator">++</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">this</span><span class="token punctuation">[</span> callback <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> callback<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Detect, normalize options and install callbacks for jsonp requests</span>
jQuery<span class="token punctuation">.</span><span class="token function">ajaxPrefilter</span><span class="token punctuation">(</span> <span class="token string">&quot;json jsonp&quot;</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">s<span class="token punctuation">,</span> originalSettings<span class="token punctuation">,</span> jqXHR</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

	<span class="token keyword">var</span> callbackName<span class="token punctuation">,</span> overwritten<span class="token punctuation">,</span> responseContainer<span class="token punctuation">,</span>
		jsonProp <span class="token operator">=</span> s<span class="token punctuation">.</span>jsonp <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> rjsonp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>url <span class="token punctuation">)</span> <span class="token operator">?</span>
			<span class="token string">&quot;url&quot;</span> <span class="token operator">:</span>
			<span class="token keyword">typeof</span> s<span class="token punctuation">.</span>data <span class="token operator">===</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span>
				<span class="token punctuation">(</span> s<span class="token punctuation">.</span>contentType <span class="token operator">||</span> <span class="token string">&quot;&quot;</span> <span class="token punctuation">)</span>
					<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot;application/x-www-form-urlencoded&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token number">0</span> <span class="token operator">&amp;&amp;</span>
				rjsonp<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>data <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> <span class="token string">&quot;data&quot;</span>
		<span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token comment">// Handle iff the expected data type is &quot;jsonp&quot; or we have a parameter to set</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> jsonProp <span class="token operator">||</span> s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">===</span> <span class="token string">&quot;jsonp&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// Get callback name, remembering preexisting value associated with it</span>
		callbackName <span class="token operator">=</span> s<span class="token punctuation">.</span>jsonpCallback <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>jsonpCallback <span class="token punctuation">)</span> <span class="token operator">?</span>
			s<span class="token punctuation">.</span><span class="token function">jsonpCallback</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">:</span>
			s<span class="token punctuation">.</span>jsonpCallback<span class="token punctuation">;</span>

		<span class="token comment">// Insert callback into url or form data</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jsonProp <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			s<span class="token punctuation">[</span> jsonProp <span class="token punctuation">]</span> <span class="token operator">=</span> s<span class="token punctuation">[</span> jsonProp <span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span> rjsonp<span class="token punctuation">,</span> <span class="token string">&quot;$1&quot;</span> <span class="token operator">+</span> callbackName <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">.</span>jsonp <span class="token operator">!==</span> <span class="token boolean">false</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			s<span class="token punctuation">.</span>url <span class="token operator">+=</span> <span class="token punctuation">(</span> rquery<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> s<span class="token punctuation">.</span>url <span class="token punctuation">)</span> <span class="token operator">?</span> <span class="token string">&quot;&amp;&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;?&quot;</span> <span class="token punctuation">)</span> <span class="token operator">+</span> s<span class="token punctuation">.</span>jsonp <span class="token operator">+</span> <span class="token string">&quot;=&quot;</span> <span class="token operator">+</span> callbackName<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Use data converter to retrieve json after script execution</span>
		s<span class="token punctuation">.</span>converters<span class="token punctuation">[</span> <span class="token string">&quot;script json&quot;</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>responseContainer <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				jQuery<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span> callbackName <span class="token operator">+</span> <span class="token string">&quot; was not called&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> responseContainer<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// force json dataType</span>
		s<span class="token punctuation">.</span>dataTypes<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;json&quot;</span><span class="token punctuation">;</span>

		<span class="token comment">// Install callback</span>
		overwritten <span class="token operator">=</span> window<span class="token punctuation">[</span> callbackName <span class="token punctuation">]</span><span class="token punctuation">;</span>
		window<span class="token punctuation">[</span> callbackName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			responseContainer <span class="token operator">=</span> arguments<span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// Clean-up function (fires after converters)</span>
		jqXHR<span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// If previous value didn't exist - remove it</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> overwritten <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> window <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">removeProp</span><span class="token punctuation">(</span> callbackName <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Otherwise restore preexisting value</span>
			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				window<span class="token punctuation">[</span> callbackName <span class="token punctuation">]</span> <span class="token operator">=</span> overwritten<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Save back as free</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> s<span class="token punctuation">[</span> callbackName <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

				<span class="token comment">// make sure that re-using the options doesn't screw things around</span>
				s<span class="token punctuation">.</span>jsonpCallback <span class="token operator">=</span> originalSettings<span class="token punctuation">.</span>jsonpCallback<span class="token punctuation">;</span>

				<span class="token comment">// save the callback name for future use</span>
				oldCallbacks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span> callbackName <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Call if it was a function and we have a response</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> responseContainer <span class="token operator">&amp;&amp;</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> overwritten <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">overwritten</span><span class="token punctuation">(</span> responseContainer<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			responseContainer <span class="token operator">=</span> overwritten <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// Delegate to script</span>
		<span class="token keyword">return</span> <span class="token string">&quot;script&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>




<span class="token comment">// data: string of html</span>
<span class="token comment">// context (optional): If specified, the fragment will be created in this context,</span>
<span class="token comment">// defaults to document</span>
<span class="token comment">// keepScripts (optional): If true, will include scripts passed in the html string</span>
jQuery<span class="token punctuation">.</span><span class="token function-variable function">parseHTML</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">data<span class="token punctuation">,</span> context<span class="token punctuation">,</span> keepScripts</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>data <span class="token operator">||</span> <span class="token keyword">typeof</span> data <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> context <span class="token operator">===</span> <span class="token string">&quot;boolean&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		keepScripts <span class="token operator">=</span> context<span class="token punctuation">;</span>
		context <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
	context <span class="token operator">=</span> context <span class="token operator">||</span> document<span class="token punctuation">;</span>

	<span class="token keyword">var</span> parsed <span class="token operator">=</span> rsingleTag<span class="token punctuation">.</span><span class="token function">exec</span><span class="token punctuation">(</span> data <span class="token punctuation">)</span><span class="token punctuation">,</span>
		scripts <span class="token operator">=</span> <span class="token operator">!</span>keepScripts <span class="token operator">&amp;&amp;</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

	<span class="token comment">// Single tag</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> parsed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token punctuation">[</span> context<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span> parsed<span class="token punctuation">[</span> <span class="token number">1</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	parsed <span class="token operator">=</span> <span class="token function">buildFragment</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> data <span class="token punctuation">]</span><span class="token punctuation">,</span> context<span class="token punctuation">,</span> scripts <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> scripts <span class="token operator">&amp;&amp;</span> scripts<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token function">jQuery</span><span class="token punctuation">(</span> scripts <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">remove</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">merge</span><span class="token punctuation">(</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> parsed<span class="token punctuation">.</span>childNodes <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>


<span class="token comment">// Keep a copy of the old load method</span>
<span class="token keyword">var</span> _load <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>load<span class="token punctuation">;</span>

<span class="token comment">/**
 * Load a url into a page
 */</span>
jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">load</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">url<span class="token punctuation">,</span> params<span class="token punctuation">,</span> callback</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> url <span class="token operator">!==</span> <span class="token string">&quot;string&quot;</span> <span class="token operator">&amp;&amp;</span> _load <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">_load</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> arguments <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">var</span> selector<span class="token punctuation">,</span> type<span class="token punctuation">,</span> response<span class="token punctuation">,</span>
		self <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">,</span>
		off <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span> <span class="token string">&quot; &quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> off <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		selector <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">trim</span><span class="token punctuation">(</span> url<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> off<span class="token punctuation">,</span> url<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		url <span class="token operator">=</span> url<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span> <span class="token number">0</span><span class="token punctuation">,</span> off <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// If it's a function</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> params <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// We assume that it's the callback</span>
		callback <span class="token operator">=</span> params<span class="token punctuation">;</span>
		params <span class="token operator">=</span> <span class="token keyword">undefined</span><span class="token punctuation">;</span>

	<span class="token comment">// Otherwise, build a param string</span>
	<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span> params <span class="token operator">&amp;&amp;</span> <span class="token keyword">typeof</span> params <span class="token operator">===</span> <span class="token string">&quot;object&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		type <span class="token operator">=</span> <span class="token string">&quot;POST&quot;</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token comment">// If we have elements to modify, make the request</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> self<span class="token punctuation">.</span>length <span class="token operator">&gt;</span> <span class="token number">0</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		jQuery<span class="token punctuation">.</span><span class="token function">ajax</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
			url<span class="token operator">:</span> url<span class="token punctuation">,</span>

			<span class="token comment">// If &quot;type&quot; variable is undefined, then &quot;GET&quot; method will be used.</span>
			<span class="token comment">// Make value of this field explicit since</span>
			<span class="token comment">// user can override it through ajaxSetup method</span>
			type<span class="token operator">:</span> type <span class="token operator">||</span> <span class="token string">&quot;GET&quot;</span><span class="token punctuation">,</span>
			dataType<span class="token operator">:</span> <span class="token string">&quot;html&quot;</span><span class="token punctuation">,</span>
			data<span class="token operator">:</span> params
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">done</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">responseText</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Save response for use in complete callback</span>
			response <span class="token operator">=</span> arguments<span class="token punctuation">;</span>

			self<span class="token punctuation">.</span><span class="token function">html</span><span class="token punctuation">(</span> selector <span class="token operator">?</span>

				<span class="token comment">// If a selector was specified, locate the right elements in a dummy div</span>
				<span class="token comment">// Exclude scripts to avoid IE 'Permission Denied' errors</span>
				<span class="token function">jQuery</span><span class="token punctuation">(</span> <span class="token string">&quot;&lt;div&gt;&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">append</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">parseHTML</span><span class="token punctuation">(</span> responseText <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span> selector <span class="token punctuation">)</span> <span class="token operator">:</span>

				<span class="token comment">// Otherwise use the full result</span>
				responseText <span class="token punctuation">)</span><span class="token punctuation">;</span>

		<span class="token comment">// If the request succeeds, this function gets &quot;data&quot;, &quot;status&quot;, &quot;jqXHR&quot;</span>
		<span class="token comment">// but they are ignored because response was set above.</span>
		<span class="token comment">// If it fails, this function gets &quot;jqXHR&quot;, &quot;status&quot;, &quot;error&quot;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">always</span><span class="token punctuation">(</span> callback <span class="token operator">&amp;&amp;</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">jqXHR<span class="token punctuation">,</span> status</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			self<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token function">callback</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> response <span class="token operator">||</span> <span class="token punctuation">[</span> jqXHR<span class="token punctuation">.</span>responseText<span class="token punctuation">,</span> status<span class="token punctuation">,</span> jqXHR <span class="token punctuation">]</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>




<span class="token comment">// Attach a bunch of functions for handling common AJAX events</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span>
	<span class="token string">&quot;ajaxStart&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;ajaxStop&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;ajaxComplete&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;ajaxError&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;ajaxSuccess&quot;</span><span class="token punctuation">,</span>
	<span class="token string">&quot;ajaxSend&quot;</span>
<span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> type <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span> type<span class="token punctuation">,</span> fn <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>




jQuery<span class="token punctuation">.</span>expr<span class="token punctuation">.</span>filters<span class="token punctuation">.</span><span class="token function-variable function">animated</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">grep</span><span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span>timers<span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> elem <span class="token operator">===</span> fn<span class="token punctuation">.</span>elem<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>





<span class="token comment">/**
 * Gets a window from an element
 */</span>
<span class="token keyword">function</span> <span class="token function">getWindow</span><span class="token punctuation">(</span> <span class="token parameter">elem</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token operator">?</span>
		elem <span class="token operator">:</span>
		elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token operator">?</span>
			elem<span class="token punctuation">.</span>defaultView <span class="token operator">||</span> elem<span class="token punctuation">.</span>parentWindow <span class="token operator">:</span>
			<span class="token boolean">false</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

jQuery<span class="token punctuation">.</span>offset <span class="token operator">=</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">setOffset</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> options<span class="token punctuation">,</span> i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">var</span> curPosition<span class="token punctuation">,</span> curLeft<span class="token punctuation">,</span> curCSSTop<span class="token punctuation">,</span> curTop<span class="token punctuation">,</span> curOffset<span class="token punctuation">,</span> curCSSLeft<span class="token punctuation">,</span> calculatePosition<span class="token punctuation">,</span>
			position <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;position&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			curElem <span class="token operator">=</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">,</span>
			props <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">;</span>

		<span class="token comment">// set position first, in-case top/left are set even on static elem</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> position <span class="token operator">===</span> <span class="token string">&quot;static&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			elem<span class="token punctuation">.</span>style<span class="token punctuation">.</span>position <span class="token operator">=</span> <span class="token string">&quot;relative&quot;</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		curOffset <span class="token operator">=</span> curElem<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		curCSSTop <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;top&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		curCSSLeft <span class="token operator">=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;left&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		calculatePosition <span class="token operator">=</span> <span class="token punctuation">(</span> position <span class="token operator">===</span> <span class="token string">&quot;absolute&quot;</span> <span class="token operator">||</span> position <span class="token operator">===</span> <span class="token string">&quot;fixed&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
			jQuery<span class="token punctuation">.</span><span class="token function">inArray</span><span class="token punctuation">(</span> <span class="token string">&quot;auto&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span> curCSSTop<span class="token punctuation">,</span> curCSSLeft <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">;</span>

		<span class="token comment">// need to be able to calculate position if either top or left</span>
		<span class="token comment">// is auto and position is either absolute or fixed</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> calculatePosition <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			curPosition <span class="token operator">=</span> curElem<span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			curTop <span class="token operator">=</span> curPosition<span class="token punctuation">.</span>top<span class="token punctuation">;</span>
			curLeft <span class="token operator">=</span> curPosition<span class="token punctuation">.</span>left<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			curTop <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span> curCSSTop <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
			curLeft <span class="token operator">=</span> <span class="token function">parseFloat</span><span class="token punctuation">(</span> curCSSLeft <span class="token punctuation">)</span> <span class="token operator">||</span> <span class="token number">0</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isFunction</span><span class="token punctuation">(</span> options <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// Use jQuery.extend here to allow modification of coordinates argument (gh-1848)</span>
			options <span class="token operator">=</span> <span class="token function">options</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> i<span class="token punctuation">,</span> jQuery<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">,</span> curOffset <span class="token punctuation">)</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> options<span class="token punctuation">.</span>top <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			props<span class="token punctuation">.</span>top <span class="token operator">=</span> <span class="token punctuation">(</span> options<span class="token punctuation">.</span>top <span class="token operator">-</span> curOffset<span class="token punctuation">.</span>top <span class="token punctuation">)</span> <span class="token operator">+</span> curTop<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> options<span class="token punctuation">.</span>left <span class="token operator">!=</span> <span class="token keyword">null</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			props<span class="token punctuation">.</span>left <span class="token operator">=</span> <span class="token punctuation">(</span> options<span class="token punctuation">.</span>left <span class="token operator">-</span> curOffset<span class="token punctuation">.</span>left <span class="token punctuation">)</span> <span class="token operator">+</span> curLeft<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token string">&quot;using&quot;</span> <span class="token keyword">in</span> options <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			options<span class="token punctuation">.</span><span class="token function">using</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> props <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
			curElem<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> props <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>
	<span class="token function-variable function">offset</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">options</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> arguments<span class="token punctuation">.</span>length <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> options <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>
				<span class="token keyword">this</span> <span class="token operator">:</span>
				<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					jQuery<span class="token punctuation">.</span>offset<span class="token punctuation">.</span><span class="token function">setOffset</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> options<span class="token punctuation">,</span> i <span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">var</span> docElem<span class="token punctuation">,</span> win<span class="token punctuation">,</span>
			box <span class="token operator">=</span> <span class="token punctuation">{</span> top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span>
			doc <span class="token operator">=</span> elem <span class="token operator">&amp;&amp;</span> elem<span class="token punctuation">.</span>ownerDocument<span class="token punctuation">;</span>

		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>doc <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		docElem <span class="token operator">=</span> doc<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

		<span class="token comment">// Make sure it's not a disconnected DOM node</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">contains</span><span class="token punctuation">(</span> docElem<span class="token punctuation">,</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span> box<span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// If we don't have gBCR, just use 0,0 rather than error</span>
		<span class="token comment">// BlackBerry 5, iOS 3 (original iPhone)</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> elem<span class="token punctuation">.</span>getBoundingClientRect <span class="token operator">!==</span> <span class="token string">&quot;undefined&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			box <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>
		win <span class="token operator">=</span> <span class="token function">getWindow</span><span class="token punctuation">(</span> doc <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			top<span class="token operator">:</span> box<span class="token punctuation">.</span>top  <span class="token operator">+</span> <span class="token punctuation">(</span> win<span class="token punctuation">.</span>pageYOffset <span class="token operator">||</span> docElem<span class="token punctuation">.</span>scrollTop <span class="token punctuation">)</span>  <span class="token operator">-</span> <span class="token punctuation">(</span> docElem<span class="token punctuation">.</span>clientTop  <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			left<span class="token operator">:</span> box<span class="token punctuation">.</span>left <span class="token operator">+</span> <span class="token punctuation">(</span> win<span class="token punctuation">.</span>pageXOffset <span class="token operator">||</span> docElem<span class="token punctuation">.</span>scrollLeft <span class="token punctuation">)</span> <span class="token operator">-</span> <span class="token punctuation">(</span> docElem<span class="token punctuation">.</span>clientLeft <span class="token operator">||</span> <span class="token number">0</span> <span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">position</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span><span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">return</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token keyword">var</span> offsetParent<span class="token punctuation">,</span> offset<span class="token punctuation">,</span>
			parentOffset <span class="token operator">=</span> <span class="token punctuation">{</span> top<span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">,</span> left<span class="token operator">:</span> <span class="token number">0</span> <span class="token punctuation">}</span><span class="token punctuation">,</span>
			elem <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">;</span>

		<span class="token comment">// Fixed elements are offset from window (parentOffset = {top:0, left: 0},</span>
		<span class="token comment">// because it is its only offset parent</span>
		<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;position&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;fixed&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

			<span class="token comment">// we assume that getBoundingClientRect is available when computed position is fixed</span>
			offset <span class="token operator">=</span> elem<span class="token punctuation">.</span><span class="token function">getBoundingClientRect</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>

			<span class="token comment">// Get *real* offsetParent</span>
			offsetParent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">offsetParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token comment">// Get correct offsets</span>
			offset <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> offsetParent<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;html&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				parentOffset <span class="token operator">=</span> offsetParent<span class="token punctuation">.</span><span class="token function">offset</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token comment">// Add offsetParent borders</span>
			parentOffset<span class="token punctuation">.</span>top  <span class="token operator">+=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> offsetParent<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;borderTopWidth&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
			parentOffset<span class="token punctuation">.</span>left <span class="token operator">+=</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> offsetParent<span class="token punctuation">[</span> <span class="token number">0</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token string">&quot;borderLeftWidth&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span>

		<span class="token comment">// Subtract parent offsets and element margins</span>
		<span class="token comment">// note: when an element has margin: auto the offsetLeft and marginLeft</span>
		<span class="token comment">// are the same in Safari causing offset.left to incorrectly be 0</span>
		<span class="token keyword">return</span> <span class="token punctuation">{</span>
			top<span class="token operator">:</span>  offset<span class="token punctuation">.</span>top  <span class="token operator">-</span> parentOffset<span class="token punctuation">.</span>top <span class="token operator">-</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;marginTop&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
			left<span class="token operator">:</span> offset<span class="token punctuation">.</span>left <span class="token operator">-</span> parentOffset<span class="token punctuation">.</span>left <span class="token operator">-</span> jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> <span class="token string">&quot;marginLeft&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span> <span class="token punctuation">)</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">offsetParent</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> offsetParent <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>

			<span class="token keyword">while</span> <span class="token punctuation">(</span> offsetParent <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> <span class="token operator">!</span>jQuery<span class="token punctuation">.</span><span class="token function">nodeName</span><span class="token punctuation">(</span> offsetParent<span class="token punctuation">,</span> <span class="token string">&quot;html&quot;</span> <span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span>
				jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> offsetParent<span class="token punctuation">,</span> <span class="token string">&quot;position&quot;</span> <span class="token punctuation">)</span> <span class="token operator">===</span> <span class="token string">&quot;static&quot;</span> <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				offsetParent <span class="token operator">=</span> offsetParent<span class="token punctuation">.</span>offsetParent<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
			<span class="token keyword">return</span> offsetParent <span class="token operator">||</span> documentElement<span class="token punctuation">;</span>
		<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Create scrollLeft and scrollTop methods</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> scrollLeft<span class="token operator">:</span> <span class="token string">&quot;pageXOffset&quot;</span><span class="token punctuation">,</span> scrollTop<span class="token operator">:</span> <span class="token string">&quot;pageYOffset&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">method<span class="token punctuation">,</span> prop</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">var</span> top <span class="token operator">=</span> <span class="token regex">/Y/</span><span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> prop <span class="token punctuation">)</span><span class="token punctuation">;</span>

	jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> method <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">val</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token function">access</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> method<span class="token punctuation">,</span> val</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> win <span class="token operator">=</span> <span class="token function">getWindow</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> val <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">return</span> win <span class="token operator">?</span> <span class="token punctuation">(</span> prop <span class="token keyword">in</span> win <span class="token punctuation">)</span> <span class="token operator">?</span> win<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">:</span>
					win<span class="token punctuation">.</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">[</span> method <span class="token punctuation">]</span> <span class="token operator">:</span>
					elem<span class="token punctuation">[</span> method <span class="token punctuation">]</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span>

			<span class="token keyword">if</span> <span class="token punctuation">(</span> win <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				win<span class="token punctuation">.</span><span class="token function">scrollTo</span><span class="token punctuation">(</span>
					<span class="token operator">!</span>top <span class="token operator">?</span> val <span class="token operator">:</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> win <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollLeft</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
					top <span class="token operator">?</span> val <span class="token operator">:</span> <span class="token function">jQuery</span><span class="token punctuation">(</span> win <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">scrollTop</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
				<span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
				elem<span class="token punctuation">[</span> method <span class="token punctuation">]</span> <span class="token operator">=</span> val<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span><span class="token punctuation">,</span> method<span class="token punctuation">,</span> val<span class="token punctuation">,</span> arguments<span class="token punctuation">.</span>length<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Support: Safari&lt;7-8+, Chrome&lt;37-44+</span>
<span class="token comment">// Add the top/left cssHooks using jQuery.fn.position</span>
<span class="token comment">// Webkit bug: https://bugs.webkit.org/show_bug.cgi?id=29084</span>
<span class="token comment">// getComputedStyle returns percent when specified for top/left/bottom/right</span>
<span class="token comment">// rather than make the css module depend on the offset module, we just check for it here</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">[</span> <span class="token string">&quot;top&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;left&quot;</span> <span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">i<span class="token punctuation">,</span> prop</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span>cssHooks<span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token function">addGetHookIf</span><span class="token punctuation">(</span> support<span class="token punctuation">.</span>pixelPosition<span class="token punctuation">,</span>
		<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> computed</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">if</span> <span class="token punctuation">(</span> computed <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				computed <span class="token operator">=</span> <span class="token function">curCSS</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> prop <span class="token punctuation">)</span><span class="token punctuation">;</span>

				<span class="token comment">// if curCSS returns percentage, fallback to offset</span>
				<span class="token keyword">return</span> rnumnonpx<span class="token punctuation">.</span><span class="token function">test</span><span class="token punctuation">(</span> computed <span class="token punctuation">)</span> <span class="token operator">?</span>
					<span class="token function">jQuery</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">position</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">[</span> prop <span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token string">&quot;px&quot;</span> <span class="token operator">:</span>
					computed<span class="token punctuation">;</span>
			<span class="token punctuation">}</span>
		<span class="token punctuation">}</span>
	<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


<span class="token comment">// Create innerHeight, innerWidth, height, width, outerHeight and outerWidth methods</span>
jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> Height<span class="token operator">:</span> <span class="token string">&quot;height&quot;</span><span class="token punctuation">,</span> Width<span class="token operator">:</span> <span class="token string">&quot;width&quot;</span> <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">name<span class="token punctuation">,</span> type</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	jQuery<span class="token punctuation">.</span><span class="token function">each</span><span class="token punctuation">(</span> <span class="token punctuation">{</span> padding<span class="token operator">:</span> <span class="token string">&quot;inner&quot;</span> <span class="token operator">+</span> name<span class="token punctuation">,</span> content<span class="token operator">:</span> type<span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token operator">:</span> <span class="token string">&quot;outer&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">defaultExtra<span class="token punctuation">,</span> funcName</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// margin is only for outerHeight, outerWidth</span>
		jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">[</span> funcName <span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">margin<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
			<span class="token keyword">var</span> chainable <span class="token operator">=</span> arguments<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> <span class="token punctuation">(</span> defaultExtra <span class="token operator">||</span> <span class="token keyword">typeof</span> margin <span class="token operator">!==</span> <span class="token string">&quot;boolean&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">,</span>
				extra <span class="token operator">=</span> defaultExtra <span class="token operator">||</span> <span class="token punctuation">(</span> margin <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">||</span> value <span class="token operator">===</span> <span class="token boolean">true</span> <span class="token operator">?</span> <span class="token string">&quot;margin&quot;</span> <span class="token operator">:</span> <span class="token string">&quot;border&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

			<span class="token keyword">return</span> <span class="token function">access</span><span class="token punctuation">(</span> <span class="token keyword">this</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> value</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
				<span class="token keyword">var</span> doc<span class="token punctuation">;</span>

				<span class="token keyword">if</span> <span class="token punctuation">(</span> jQuery<span class="token punctuation">.</span><span class="token function">isWindow</span><span class="token punctuation">(</span> elem <span class="token punctuation">)</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

					<span class="token comment">// As of 5/8/2012 this will yield incorrect results for Mobile Safari, but there</span>
					<span class="token comment">// isn't a whole lot we can do. See pull request at this URL for discussion:</span>
					<span class="token comment">// https://github.com/jquery/jquery/pull/764</span>
					<span class="token keyword">return</span> elem<span class="token punctuation">.</span>document<span class="token punctuation">.</span>documentElement<span class="token punctuation">[</span> <span class="token string">&quot;client&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">]</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token comment">// Get document width or height</span>
				<span class="token keyword">if</span> <span class="token punctuation">(</span> elem<span class="token punctuation">.</span>nodeType <span class="token operator">===</span> <span class="token number">9</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
					doc <span class="token operator">=</span> elem<span class="token punctuation">.</span>documentElement<span class="token punctuation">;</span>

					<span class="token comment">// Either scroll[Width/Height] or offset[Width/Height] or client[Width/Height],</span>
					<span class="token comment">// whichever is greatest</span>
					<span class="token comment">// unfortunately, this causes bug #3838 in IE6/8 only,</span>
					<span class="token comment">// but there is currently no good, small way to fix it.</span>
					<span class="token keyword">return</span> Math<span class="token punctuation">.</span><span class="token function">max</span><span class="token punctuation">(</span>
						elem<span class="token punctuation">.</span>body<span class="token punctuation">[</span> <span class="token string">&quot;scroll&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">]</span><span class="token punctuation">,</span> doc<span class="token punctuation">[</span> <span class="token string">&quot;scroll&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">]</span><span class="token punctuation">,</span>
						elem<span class="token punctuation">.</span>body<span class="token punctuation">[</span> <span class="token string">&quot;offset&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">]</span><span class="token punctuation">,</span> doc<span class="token punctuation">[</span> <span class="token string">&quot;offset&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">]</span><span class="token punctuation">,</span>
						doc<span class="token punctuation">[</span> <span class="token string">&quot;client&quot;</span> <span class="token operator">+</span> name <span class="token punctuation">]</span>
					<span class="token punctuation">)</span><span class="token punctuation">;</span>
				<span class="token punctuation">}</span>

				<span class="token keyword">return</span> value <span class="token operator">===</span> <span class="token keyword">undefined</span> <span class="token operator">?</span>

					<span class="token comment">// Get width or height on the element, requesting but not forcing parseFloat</span>
					jQuery<span class="token punctuation">.</span><span class="token function">css</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> extra <span class="token punctuation">)</span> <span class="token operator">:</span>

					<span class="token comment">// Set width or height on the element</span>
					jQuery<span class="token punctuation">.</span><span class="token function">style</span><span class="token punctuation">(</span> elem<span class="token punctuation">,</span> type<span class="token punctuation">,</span> value<span class="token punctuation">,</span> extra <span class="token punctuation">)</span><span class="token punctuation">;</span>
			<span class="token punctuation">}</span><span class="token punctuation">,</span> type<span class="token punctuation">,</span> chainable <span class="token operator">?</span> margin <span class="token operator">:</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> chainable<span class="token punctuation">,</span> <span class="token keyword">null</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
		<span class="token punctuation">}</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>


jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function">extend</span><span class="token punctuation">(</span> <span class="token punctuation">{</span>

	<span class="token function-variable function">bind</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">types<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span> types<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">unbind</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">types<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span> types<span class="token punctuation">,</span> <span class="token keyword">null</span><span class="token punctuation">,</span> fn <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>

	<span class="token function-variable function">delegate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> types<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">on</span><span class="token punctuation">(</span> types<span class="token punctuation">,</span> selector<span class="token punctuation">,</span> data<span class="token punctuation">,</span> fn <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span><span class="token punctuation">,</span>
	<span class="token function-variable function">undelegate</span><span class="token operator">:</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">selector<span class="token punctuation">,</span> types<span class="token punctuation">,</span> fn</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>

		<span class="token comment">// ( namespace ) or ( selector, types [, fn] )</span>
		<span class="token keyword">return</span> arguments<span class="token punctuation">.</span>length <span class="token operator">===</span> <span class="token number">1</span> <span class="token operator">?</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span> selector<span class="token punctuation">,</span> <span class="token string">&quot;**&quot;</span> <span class="token punctuation">)</span> <span class="token operator">:</span>
			<span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">off</span><span class="token punctuation">(</span> types<span class="token punctuation">,</span> selector <span class="token operator">||</span> <span class="token string">&quot;**&quot;</span><span class="token punctuation">,</span> fn <span class="token punctuation">)</span><span class="token punctuation">;</span>
	<span class="token punctuation">}</span>
<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// The number of elements contained in the matched element set</span>
jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span><span class="token function-variable function">size</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>length<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>andSelf <span class="token operator">=</span> jQuery<span class="token punctuation">.</span>fn<span class="token punctuation">.</span>addBack<span class="token punctuation">;</span>




<span class="token comment">// Register as a named AMD module, since jQuery can be concatenated with other</span>
<span class="token comment">// files that may use define, but not via a proper concatenation script that</span>
<span class="token comment">// understands anonymous AMD modules. A named AMD is safest and most robust</span>
<span class="token comment">// way to register. Lowercase jquery is used because AMD module names are</span>
<span class="token comment">// derived from file names, and jQuery is normally delivered in a lowercase</span>
<span class="token comment">// file name. Do this after creating the global so that if an AMD module wants</span>
<span class="token comment">// to call noConflict to hide this version of jQuery, it will work.</span>

<span class="token comment">// Note that for maximum portability, libraries that are not jQuery should</span>
<span class="token comment">// declare themselves as anonymous modules, and avoid setting a global if an</span>
<span class="token comment">// AMD loader is present. jQuery is a special case. For more information, see</span>
<span class="token comment">// https://github.com/jrburke/requirejs/wiki/Updating-existing-libraries#wiki-anon</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token keyword">typeof</span> define <span class="token operator">===</span> <span class="token string">&quot;function&quot;</span> <span class="token operator">&amp;&amp;</span> define<span class="token punctuation">.</span>amd <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token function">define</span><span class="token punctuation">(</span> <span class="token string">&quot;jquery&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
		<span class="token keyword">return</span> jQuery<span class="token punctuation">;</span>
	<span class="token punctuation">}</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>



<span class="token keyword">var</span>

	<span class="token comment">// Map over jQuery in case of overwrite</span>
	_jQuery <span class="token operator">=</span> window<span class="token punctuation">.</span>jQuery<span class="token punctuation">,</span>

	<span class="token comment">// Map over the $ in case of overwrite</span>
	_$ <span class="token operator">=</span> window<span class="token punctuation">.</span>$<span class="token punctuation">;</span>

jQuery<span class="token punctuation">.</span><span class="token function-variable function">noConflict</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span> <span class="token parameter">deep</span> <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span> window<span class="token punctuation">.</span>$ <span class="token operator">===</span> jQuery <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		window<span class="token punctuation">.</span>$ <span class="token operator">=</span> _$<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">if</span> <span class="token punctuation">(</span> deep <span class="token operator">&amp;&amp;</span> window<span class="token punctuation">.</span>jQuery <span class="token operator">===</span> jQuery <span class="token punctuation">)</span> <span class="token punctuation">{</span>
		window<span class="token punctuation">.</span>jQuery <span class="token operator">=</span> _jQuery<span class="token punctuation">;</span>
	<span class="token punctuation">}</span>

	<span class="token keyword">return</span> jQuery<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token comment">// Expose jQuery and $ identifiers, even in</span>
<span class="token comment">// AMD (#7102#comment:10, https://github.com/jquery/jquery/pull/557)</span>
<span class="token comment">// and CommonJS for browser emulators (#13566)</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span> <span class="token operator">!</span>noGlobal <span class="token punctuation">)</span> <span class="token punctuation">{</span>
	window<span class="token punctuation">.</span>jQuery <span class="token operator">=</span> window<span class="token punctuation">.</span>$ <span class="token operator">=</span> jQuery<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token keyword">return</span> jQuery<span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <footer class="page-edit"><!----> <!----></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/library/source/tool/jquery/结构分析.html" class="prev">
        结构分析
      </a></span> <!----></p></div> </main></div><div class="global-ui"><!----><!----></div></div>
    <script src="/library/assets/js/app.6b700a2b.js" defer></script><script src="/library/assets/js/2.1bf880a1.js" defer></script><script src="/library/assets/js/314.98b09ff2.js" defer></script><script src="/library/assets/js/3.dc7ea838.js" defer></script>
  </body>
</html>
