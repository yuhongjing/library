---
title: 装饰者模式
---

# 装饰者模式
## 举例说明
简单需求下的装饰者模式
```js
class Person {
    constructor(name) {
        this.name = name;
    }
    run() {
      return this.name + '能够奔跑';
    }
    eat() {
      return this.name + '需要吃饭';
    }
}

const xiaoming = new Person('小明');
console.log(xiaoming.run()); // 小明能够奔跑
console.log(xiaoming.eat()); // 小明能够吃饭

// 装饰器类
class Decorator {
    constructor(object) {
        this.object = object;
    }
    run() {
      // 装饰奔跑
      return this.object.run() + '在大草原上';
    }
    eat() {
      // 装饰吃饭
      return this.object.eat() + '而且能吃好几碗';
    }
}

const xiaomingDeco = new Decorator(new Person('小明'));
console.log(xiaomingDeco.run()); // 小明能够奔跑在大草原上
console.log(xiaomingDeco.eat()); // 小明需要吃饭而且能吃好几碗
```

复杂需求下，很多装饰器的情况
```js
class Car {
    driver() {
        return '开车';
    }
    brake() {
        return '刹车';
    }
}

// 所有装饰器的父类
class CarDecorator {
    constructor(car) {
        this.car = car;
    }
    driver() {
        return this.car.driver();
    }
    brake() {
        return this.car.brake();
    }
}

// 真正的装饰器
class AutoDecorator extends CarDecorator {
    driver() {
        console.log('启动自动驾驶模式');
        return this.car.driver();
    }
}

// 真正的装饰器
class HybridDecorator extends CarDecorator {
    brake() {
        console.log('启动充电模式');
        return this.car.brake();
    }
}

const car = new Car();
const autoCar = new AutoDecorator(car);
console.log(autoCar.driver()); // 启动自动驾驶模式 开车
const hybridCar = new HybridDecorator(car);
console.log(hybridCar.brake()); // 启动充电模式 刹车
```
