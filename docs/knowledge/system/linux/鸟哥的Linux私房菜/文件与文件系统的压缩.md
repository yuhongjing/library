---
title: 文件与文件系统的压缩
---

# 文件与文件系统的压缩

* Linux下面有相当多的压缩命令可以运行，这些压缩命令可以让我们更方便地从网络上面下载容量较大的文件。此外，在Linux下，**扩展名**没有什么特殊的意义。不过，针对这些压缩命令所产生的压缩文件，为了方便记忆，还是会有一些特殊的命名方式。

* 压缩命令为通过一些计算方法将原本的文件进行压缩，以减少文件所占用的磁盘容量，压缩前与压缩后的文件所占用的磁盘容量比值，就可以被称为是压缩比。

* 压缩的好处是可以减少磁盘容量的浪费，在网站也可以利用文件压缩的技术来进行数据的传送，好让网站带宽的可利用率上升。

* 压缩文件的扩展名大多是：`*.gz`、`*.bz2`、`*.xz`、`*.tar`、`*.tar.gz`、`*.tar.bz2`、`*.tar.xz`。

* | 扩展名      | 压缩类型                               |
  | ----------- | -------------------------------------- |
  | `*.z`       | compress程序压缩的文件                 |
  | `*.zip`     | zip程序压缩的文件                      |
  | `*.gz`      | gzip程序压缩的文件                     |
  | `*.bz2`     | bzip2程序压缩的文件                    |
  | `*.xz`      | xz程序压缩的文件                       |
  | `*.tar`     | tar程序打包的文件，并没有压缩过        |
  | `*.tar.gz`  | tar程序打包的文件，并且经过gzip的压缩  |
  | `*.tar.bz2` | tar程序打包的文件，并且经过bzip2的压缩 |
  | `*.tar.xz`  | tar程序打包的文件，并且经过xz的压缩    |

* 常见的压缩命令有gzip、bzip2、xz，压缩率最佳的是xz，若可以不计时间成本，建议使用xz进行压缩。

* tar可以用来进行文件打包，并可支持gzip、bzip2、xz的压缩。

  * 压缩命令通常仅能针对一个文件来压缩或解压缩，因此需要通过打包软件将很多文件打包成一个文件，再压缩。

* 压缩：`tar -Jcv -f filename.tar.xz` 要被压缩的文件或目录名称。

* 查询：`tar -Jtv -f filename.tar.xz`。

* 解压缩：`tar -Jxv -f filename.tar.xz -C` 欲解压缩的目录。

* xfsdump命令可备份文件系统或单一目录。

* xfsdump的备份若针对文件系统时，可进行0-9的level差异备份，其中level 0为完整备份。

* xfsrestore命令可还原被xfsdump创建的备份文件。

* 可建立光盘刻录数据时，可通过mkisofs命令来创建。

* 可通过wodim来写入CD或DVD刻录机。

* dd可备份完整的硬盘或硬盘分区，因为dd可读取磁盘的扇区表面数据。

* cpio为相当优秀的备份命令，不过必须要搭配类似find命令来读入欲备份的数据，方可进行备份操作。